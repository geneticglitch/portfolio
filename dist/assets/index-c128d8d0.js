function t9(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var ame=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qk={exports:{}},v_={},qk={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg=Symbol.for("react.element"),n9=Symbol.for("react.portal"),r9=Symbol.for("react.fragment"),i9=Symbol.for("react.strict_mode"),s9=Symbol.for("react.profiler"),o9=Symbol.for("react.provider"),a9=Symbol.for("react.context"),l9=Symbol.for("react.forward_ref"),c9=Symbol.for("react.suspense"),u9=Symbol.for("react.memo"),f9=Symbol.for("react.lazy"),j3=Symbol.iterator;function d9(n){return n===null||typeof n!="object"?null:(n=j3&&n[j3]||n["@@iterator"],typeof n=="function"?n:null)}var Zk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eF=Object.assign,tF={};function Ah(n,e,t){this.props=n,this.context=e,this.refs=tF,this.updater=t||Zk}Ah.prototype.isReactComponent={};Ah.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ah.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function nF(){}nF.prototype=Ah.prototype;function A2(n,e,t){this.props=n,this.context=e,this.refs=tF,this.updater=t||Zk}var b2=A2.prototype=new nF;b2.constructor=A2;eF(b2,Ah.prototype);b2.isPureReactComponent=!0;var $3=Array.isArray,rF=Object.prototype.hasOwnProperty,M2={current:null},iF={key:!0,ref:!0,__self:!0,__source:!0};function sF(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rF.call(e,r)&&!iF.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Tg,type:n,key:s,ref:o,props:i,_owner:M2.current}}function h9(n,e){return{$$typeof:Tg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function C2(n){return typeof n=="object"&&n!==null&&n.$$typeof===Tg}function p9(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var X3=/\/+/g;function mw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?p9(""+n.key):e.toString(36)}function By(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Tg:case n9:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+mw(o,0):r,$3(i)?(t="",n!=null&&(t=n.replace(X3,"$&/")+"/"),By(i,e,t,"",function(c){return c})):i!=null&&(C2(i)&&(i=h9(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(X3,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$3(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+mw(s,a);o+=By(s,e,t,l,i)}else if(l=d9(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+mw(s,a++),o+=By(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function iv(n,e,t){if(n==null)return n;var r=[],i=0;return By(n,r,"","",function(s){return e.call(t,s,i++)}),r}function m9(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var gi={current:null},Ly={transition:null},g9={ReactCurrentDispatcher:gi,ReactCurrentBatchConfig:Ly,ReactCurrentOwner:M2};zt.Children={map:iv,forEach:function(n,e,t){iv(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return iv(n,function(){e++}),e},toArray:function(n){return iv(n,function(e){return e})||[]},only:function(n){if(!C2(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};zt.Component=Ah;zt.Fragment=r9;zt.Profiler=s9;zt.PureComponent=A2;zt.StrictMode=i9;zt.Suspense=c9;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g9;zt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=eF({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=M2.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)rF.call(e,l)&&!iF.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Tg,type:n.type,key:i,ref:s,props:r,_owner:o}};zt.createContext=function(n){return n={$$typeof:a9,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:o9,_context:n},n.Consumer=n};zt.createElement=sF;zt.createFactory=function(n){var e=sF.bind(null,n);return e.type=n,e};zt.createRef=function(){return{current:null}};zt.forwardRef=function(n){return{$$typeof:l9,render:n}};zt.isValidElement=C2;zt.lazy=function(n){return{$$typeof:f9,_payload:{_status:-1,_result:n},_init:m9}};zt.memo=function(n,e){return{$$typeof:u9,type:n,compare:e===void 0?null:e}};zt.startTransition=function(n){var e=Ly.transition;Ly.transition={};try{n()}finally{Ly.transition=e}};zt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};zt.useCallback=function(n,e){return gi.current.useCallback(n,e)};zt.useContext=function(n){return gi.current.useContext(n)};zt.useDebugValue=function(){};zt.useDeferredValue=function(n){return gi.current.useDeferredValue(n)};zt.useEffect=function(n,e){return gi.current.useEffect(n,e)};zt.useId=function(){return gi.current.useId()};zt.useImperativeHandle=function(n,e,t){return gi.current.useImperativeHandle(n,e,t)};zt.useInsertionEffect=function(n,e){return gi.current.useInsertionEffect(n,e)};zt.useLayoutEffect=function(n,e){return gi.current.useLayoutEffect(n,e)};zt.useMemo=function(n,e){return gi.current.useMemo(n,e)};zt.useReducer=function(n,e,t){return gi.current.useReducer(n,e,t)};zt.useRef=function(n){return gi.current.useRef(n)};zt.useState=function(n){return gi.current.useState(n)};zt.useSyncExternalStore=function(n,e,t){return gi.current.useSyncExternalStore(n,e,t)};zt.useTransition=function(){return gi.current.useTransition()};zt.version="18.2.0";qk.exports=zt;var B=qk.exports;const te=Sh(B),v9=t9({__proto__:null,default:te},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y9=B,_9=Symbol.for("react.element"),x9=Symbol.for("react.fragment"),w9=Object.prototype.hasOwnProperty,S9=y9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A9={key:!0,ref:!0,__self:!0,__source:!0};function oF(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)w9.call(e,r)&&!A9.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_9,type:n,key:s,ref:o,props:i,_owner:S9.current}}v_.Fragment=x9;v_.jsx=oF;v_.jsxs=oF;Qk.exports=v_;var E2=Qk.exports;const y_=E2.Fragment,Pe=E2.jsx,Nt=E2.jsxs;var BA={},aF={exports:{}},us={},lF={exports:{}},cF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(H,U){var z=H.length;H.push(U);e:for(;0<z;){var G=z-1>>>1,j=H[G];if(0<i(j,U))H[G]=U,H[z]=j,z=G;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var U=H[0],z=H.pop();if(z!==U){H[0]=z;e:for(var G=0,j=H.length,Z=j>>>1;G<Z;){var q=2*(G+1)-1,re=H[q],Q=q+1,ce=H[Q];if(0>i(re,z))Q<j&&0>i(ce,re)?(H[G]=ce,H[Q]=z,G=Q):(H[G]=re,H[q]=z,G=q);else if(Q<j&&0>i(ce,z))H[G]=ce,H[Q]=z,G=Q;else break e}}return U}function i(H,U){var z=H.sortIndex-U.sortIndex;return z!==0?z:H.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var U=t(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=H)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function A(H){if(v=!1,w(H),!g)if(t(l)!==null)g=!0,W(C);else{var U=t(c);U!==null&&K(A,U.startTime-H)}}function C(H,U){g=!1,v&&(v=!1,_(M),M=-1),p=!0;var z=d;try{for(w(U),f=t(l);f!==null&&(!(f.expirationTime>U)||H&&!F());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var j=G(f.expirationTime<=U);U=n.unstable_now(),typeof j=="function"?f.callback=j:f===t(l)&&r(l),w(U)}else r(l);f=t(l)}if(f!==null)var Z=!0;else{var q=t(c);q!==null&&K(A,q.startTime-U),Z=!1}return Z}finally{f=null,d=z,p=!1}}var E=!1,P=null,M=-1,T=5,D=-1;function F(){return!(n.unstable_now()-D<T)}function L(){if(P!==null){var H=n.unstable_now();D=H;var U=!0;try{U=P(!0,H)}finally{U?N():(E=!1,P=null)}}else E=!1}var N;if(typeof x=="function")N=function(){x(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,V=k.port2;k.port1.onmessage=L,N=function(){V.postMessage(null)}}else N=function(){y(L,0)};function W(H){P=H,E||(E=!0,N())}function K(H,U){M=y(function(){H(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,W(C))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var z=d;d=U;try{return H()}finally{d=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,U){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var z=d;d=H;try{return U()}finally{d=z}},n.unstable_scheduleCallback=function(H,U,z){var G=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,H){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=z+j,H={id:u++,callback:U,priorityLevel:H,startTime:z,expirationTime:j,sortIndex:-1},z>G?(H.sortIndex=z,e(c,H),t(l)===null&&H===t(c)&&(v?(_(M),M=-1):v=!0,K(A,z-G))):(H.sortIndex=j,e(l,H),g||p||(g=!0,W(C))),H},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(H){var U=d;return function(){var z=d;d=U;try{return H.apply(this,arguments)}finally{d=z}}}})(cF);lF.exports=cF;var b9=lF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uF=B,as=b9;function Ge(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fF=new Set,Lm={};function nf(n,e){Qd(n,e),Qd(n+"Capture",e)}function Qd(n,e){for(Lm[n]=e,n=0;n<e.length;n++)fF.add(e[n])}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LA=Object.prototype.hasOwnProperty,M9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J3={},K3={};function C9(n){return LA.call(K3,n)?!0:LA.call(J3,n)?!1:M9.test(n)?K3[n]=!0:(J3[n]=!0,!1)}function E9(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function T9(n,e,t,r){if(e===null||typeof e>"u"||E9(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vi(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Dr[n]=new vi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Dr[e]=new vi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Dr[n]=new vi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Dr[n]=new vi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Dr[n]=new vi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Dr[n]=new vi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Dr[n]=new vi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Dr[n]=new vi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Dr[n]=new vi(n,5,!1,n.toLowerCase(),null,!1,!1)});var T2=/[\-:]([a-z])/g;function P2(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(T2,P2);Dr[e]=new vi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(T2,P2);Dr[e]=new vi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(T2,P2);Dr[e]=new vi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Dr[n]=new vi(n,1,!1,n.toLowerCase(),null,!1,!1)});Dr.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Dr[n]=new vi(n,1,!1,n.toLowerCase(),null,!0,!0)});function R2(n,e,t,r){var i=Dr.hasOwnProperty(e)?Dr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(T9(e,t,i,r)&&(t=null),r||i===null?C9(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var qa=uF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sv=Symbol.for("react.element"),dd=Symbol.for("react.portal"),hd=Symbol.for("react.fragment"),D2=Symbol.for("react.strict_mode"),IA=Symbol.for("react.profiler"),dF=Symbol.for("react.provider"),hF=Symbol.for("react.context"),B2=Symbol.for("react.forward_ref"),kA=Symbol.for("react.suspense"),FA=Symbol.for("react.suspense_list"),L2=Symbol.for("react.memo"),Dl=Symbol.for("react.lazy"),pF=Symbol.for("react.offscreen"),Y3=Symbol.iterator;function hp(n){return n===null||typeof n!="object"?null:(n=Y3&&n[Y3]||n["@@iterator"],typeof n=="function"?n:null)}var Dn=Object.assign,gw;function Jp(n){if(gw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);gw=e&&e[1]||""}return`
`+gw+n}var vw=!1;function yw(n,e){if(!n||vw)return"";vw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{vw=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Jp(n):""}function P9(n){switch(n.tag){case 5:return Jp(n.type);case 16:return Jp("Lazy");case 13:return Jp("Suspense");case 19:return Jp("SuspenseList");case 0:case 2:case 15:return n=yw(n.type,!1),n;case 11:return n=yw(n.type.render,!1),n;case 1:return n=yw(n.type,!0),n;default:return""}}function OA(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case hd:return"Fragment";case dd:return"Portal";case IA:return"Profiler";case D2:return"StrictMode";case kA:return"Suspense";case FA:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case hF:return(n.displayName||"Context")+".Consumer";case dF:return(n._context.displayName||"Context")+".Provider";case B2:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case L2:return e=n.displayName||null,e!==null?e:OA(n.type)||"Memo";case Dl:e=n._payload,n=n._init;try{return OA(n(e))}catch{}}return null}function R9(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return OA(e);case 8:return e===D2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ic(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function mF(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function D9(n){var e=mF(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ov(n){n._valueTracker||(n._valueTracker=D9(n))}function gF(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=mF(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function o1(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function NA(n,e){var t=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Q3(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ic(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vF(n,e){e=e.checked,e!=null&&R2(n,"checked",e,!1)}function UA(n,e){vF(n,e);var t=ic(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?zA(n,e.type,t):e.hasOwnProperty("defaultValue")&&zA(n,e.type,ic(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function q3(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function zA(n,e,t){(e!=="number"||o1(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Kp=Array.isArray;function Fd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ic(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function GA(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Z3(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ge(92));if(Kp(t)){if(1<t.length)throw Error(Ge(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ic(t)}}function yF(n,e){var t=ic(e.value),r=ic(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function eP(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function _F(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function HA(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?_F(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var av,xF=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(av=av||document.createElement("div"),av.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=av.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Im(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var rm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B9=["Webkit","ms","Moz","O"];Object.keys(rm).forEach(function(n){B9.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),rm[e]=rm[n]})});function wF(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||rm.hasOwnProperty(n)&&rm[n]?(""+e).trim():e+"px"}function SF(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=wF(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var L9=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function VA(n,e){if(e){if(L9[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ge(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ge(62))}}function WA(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jA=null;function I2(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $A=null,Od=null,Nd=null;function tP(n){if(n=Dg(n)){if(typeof $A!="function")throw Error(Ge(280));var e=n.stateNode;e&&(e=A_(e),$A(n.stateNode,n.type,e))}}function AF(n){Od?Nd?Nd.push(n):Nd=[n]:Od=n}function bF(){if(Od){var n=Od,e=Nd;if(Nd=Od=null,tP(n),e)for(n=0;n<e.length;n++)tP(e[n])}}function MF(n,e){return n(e)}function CF(){}var _w=!1;function EF(n,e,t){if(_w)return n(e,t);_w=!0;try{return MF(n,e,t)}finally{_w=!1,(Od!==null||Nd!==null)&&(CF(),bF())}}function km(n,e){var t=n.stateNode;if(t===null)return null;var r=A_(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ge(231,e,typeof t));return t}var XA=!1;if(za)try{var pp={};Object.defineProperty(pp,"passive",{get:function(){XA=!0}}),window.addEventListener("test",pp,pp),window.removeEventListener("test",pp,pp)}catch{XA=!1}function I9(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var im=!1,a1=null,l1=!1,JA=null,k9={onError:function(n){im=!0,a1=n}};function F9(n,e,t,r,i,s,o,a,l){im=!1,a1=null,I9.apply(k9,arguments)}function O9(n,e,t,r,i,s,o,a,l){if(F9.apply(this,arguments),im){if(im){var c=a1;im=!1,a1=null}else throw Error(Ge(198));l1||(l1=!0,JA=c)}}function rf(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function TF(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function nP(n){if(rf(n)!==n)throw Error(Ge(188))}function N9(n){var e=n.alternate;if(!e){if(e=rf(n),e===null)throw Error(Ge(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return nP(i),n;if(s===r)return nP(i),e;s=s.sibling}throw Error(Ge(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ge(189))}}if(t.alternate!==r)throw Error(Ge(190))}if(t.tag!==3)throw Error(Ge(188));return t.stateNode.current===t?n:e}function PF(n){return n=N9(n),n!==null?RF(n):null}function RF(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=RF(n);if(e!==null)return e;n=n.sibling}return null}var DF=as.unstable_scheduleCallback,rP=as.unstable_cancelCallback,U9=as.unstable_shouldYield,z9=as.unstable_requestPaint,Jn=as.unstable_now,G9=as.unstable_getCurrentPriorityLevel,k2=as.unstable_ImmediatePriority,BF=as.unstable_UserBlockingPriority,c1=as.unstable_NormalPriority,H9=as.unstable_LowPriority,LF=as.unstable_IdlePriority,__=null,Ho=null;function V9(n){if(Ho&&typeof Ho.onCommitFiberRoot=="function")try{Ho.onCommitFiberRoot(__,n,void 0,(n.current.flags&128)===128)}catch{}}var po=Math.clz32?Math.clz32:$9,W9=Math.log,j9=Math.LN2;function $9(n){return n>>>=0,n===0?32:31-(W9(n)/j9|0)|0}var lv=64,cv=4194304;function Yp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function u1(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Yp(a):(s&=o,s!==0&&(r=Yp(s)))}else o=t&~i,o!==0?r=Yp(o):s!==0&&(r=Yp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-po(e),i=1<<t,r|=n[t],e&=~i;return r}function X9(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J9(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-po(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=X9(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function KA(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function IF(){var n=lv;return lv<<=1,!(lv&4194240)&&(lv=64),n}function xw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Pg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-po(e),n[e]=t}function K9(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-po(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function F2(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-po(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Yt=0;function kF(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var FF,O2,OF,NF,UF,YA=!1,uv=[],$l=null,Xl=null,Jl=null,Fm=new Map,Om=new Map,kl=[],Y9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iP(n,e){switch(n){case"focusin":case"focusout":$l=null;break;case"dragenter":case"dragleave":Xl=null;break;case"mouseover":case"mouseout":Jl=null;break;case"pointerover":case"pointerout":Fm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Om.delete(e.pointerId)}}function mp(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dg(e),e!==null&&O2(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Q9(n,e,t,r,i){switch(e){case"focusin":return $l=mp($l,n,e,t,r,i),!0;case"dragenter":return Xl=mp(Xl,n,e,t,r,i),!0;case"mouseover":return Jl=mp(Jl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Fm.set(s,mp(Fm.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Om.set(s,mp(Om.get(s)||null,n,e,t,r,i)),!0}return!1}function zF(n){var e=pu(n.target);if(e!==null){var t=rf(e);if(t!==null){if(e=t.tag,e===13){if(e=TF(t),e!==null){n.blockedOn=e,UF(n.priority,function(){OF(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Iy(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=QA(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);jA=r,t.target.dispatchEvent(r),jA=null}else return e=Dg(t),e!==null&&O2(e),n.blockedOn=t,!1;e.shift()}return!0}function sP(n,e,t){Iy(n)&&t.delete(e)}function q9(){YA=!1,$l!==null&&Iy($l)&&($l=null),Xl!==null&&Iy(Xl)&&(Xl=null),Jl!==null&&Iy(Jl)&&(Jl=null),Fm.forEach(sP),Om.forEach(sP)}function gp(n,e){n.blockedOn===e&&(n.blockedOn=null,YA||(YA=!0,as.unstable_scheduleCallback(as.unstable_NormalPriority,q9)))}function Nm(n){function e(i){return gp(i,n)}if(0<uv.length){gp(uv[0],n);for(var t=1;t<uv.length;t++){var r=uv[t];r.blockedOn===n&&(r.blockedOn=null)}}for($l!==null&&gp($l,n),Xl!==null&&gp(Xl,n),Jl!==null&&gp(Jl,n),Fm.forEach(e),Om.forEach(e),t=0;t<kl.length;t++)r=kl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<kl.length&&(t=kl[0],t.blockedOn===null);)zF(t),t.blockedOn===null&&kl.shift()}var Ud=qa.ReactCurrentBatchConfig,f1=!0;function Z9(n,e,t,r){var i=Yt,s=Ud.transition;Ud.transition=null;try{Yt=1,N2(n,e,t,r)}finally{Yt=i,Ud.transition=s}}function eH(n,e,t,r){var i=Yt,s=Ud.transition;Ud.transition=null;try{Yt=4,N2(n,e,t,r)}finally{Yt=i,Ud.transition=s}}function N2(n,e,t,r){if(f1){var i=QA(n,e,t,r);if(i===null)Rw(n,e,r,d1,t),iP(n,r);else if(Q9(i,n,e,t,r))r.stopPropagation();else if(iP(n,r),e&4&&-1<Y9.indexOf(n)){for(;i!==null;){var s=Dg(i);if(s!==null&&FF(s),s=QA(n,e,t,r),s===null&&Rw(n,e,r,d1,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rw(n,e,r,null,t)}}var d1=null;function QA(n,e,t,r){if(d1=null,n=I2(r),n=pu(n),n!==null)if(e=rf(n),e===null)n=null;else if(t=e.tag,t===13){if(n=TF(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return d1=n,null}function GF(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G9()){case k2:return 1;case BF:return 4;case c1:case H9:return 16;case LF:return 536870912;default:return 16}default:return 16}}var Nl=null,U2=null,ky=null;function HF(){if(ky)return ky;var n,e=U2,t=e.length,r,i="value"in Nl?Nl.value:Nl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return ky=i.slice(n,1<r?1-r:void 0)}function Fy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function fv(){return!0}function oP(){return!1}function fs(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fv:oP,this.isPropagationStopped=oP,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=fv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=fv)},persist:function(){},isPersistent:fv}),e}var bh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z2=fs(bh),Rg=Dn({},bh,{view:0,detail:0}),tH=fs(Rg),ww,Sw,vp,x_=Dn({},Rg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:G2,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vp&&(vp&&n.type==="mousemove"?(ww=n.screenX-vp.screenX,Sw=n.screenY-vp.screenY):Sw=ww=0,vp=n),ww)},movementY:function(n){return"movementY"in n?n.movementY:Sw}}),aP=fs(x_),nH=Dn({},x_,{dataTransfer:0}),rH=fs(nH),iH=Dn({},Rg,{relatedTarget:0}),Aw=fs(iH),sH=Dn({},bh,{animationName:0,elapsedTime:0,pseudoElement:0}),oH=fs(sH),aH=Dn({},bh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),lH=fs(aH),cH=Dn({},bh,{data:0}),lP=fs(cH),uH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hH(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=dH[n])?!!e[n]:!1}function G2(){return hH}var pH=Dn({},Rg,{key:function(n){if(n.key){var e=uH[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Fy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fH[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:G2,charCode:function(n){return n.type==="keypress"?Fy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),mH=fs(pH),gH=Dn({},x_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cP=fs(gH),vH=Dn({},Rg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:G2}),yH=fs(vH),_H=Dn({},bh,{propertyName:0,elapsedTime:0,pseudoElement:0}),xH=fs(_H),wH=Dn({},x_,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),SH=fs(wH),AH=[9,13,27,32],H2=za&&"CompositionEvent"in window,sm=null;za&&"documentMode"in document&&(sm=document.documentMode);var bH=za&&"TextEvent"in window&&!sm,VF=za&&(!H2||sm&&8<sm&&11>=sm),uP=String.fromCharCode(32),fP=!1;function WF(n,e){switch(n){case"keyup":return AH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jF(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var pd=!1;function MH(n,e){switch(n){case"compositionend":return jF(e);case"keypress":return e.which!==32?null:(fP=!0,uP);case"textInput":return n=e.data,n===uP&&fP?null:n;default:return null}}function CH(n,e){if(pd)return n==="compositionend"||!H2&&WF(n,e)?(n=HF(),ky=U2=Nl=null,pd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VF&&e.locale!=="ko"?null:e.data;default:return null}}var EH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!EH[n.type]:e==="textarea"}function $F(n,e,t,r){AF(r),e=h1(e,"onChange"),0<e.length&&(t=new z2("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var om=null,Um=null;function TH(n){rO(n,0)}function w_(n){var e=vd(n);if(gF(e))return n}function PH(n,e){if(n==="change")return e}var XF=!1;if(za){var bw;if(za){var Mw="oninput"in document;if(!Mw){var hP=document.createElement("div");hP.setAttribute("oninput","return;"),Mw=typeof hP.oninput=="function"}bw=Mw}else bw=!1;XF=bw&&(!document.documentMode||9<document.documentMode)}function pP(){om&&(om.detachEvent("onpropertychange",JF),Um=om=null)}function JF(n){if(n.propertyName==="value"&&w_(Um)){var e=[];$F(e,Um,n,I2(n)),EF(TH,e)}}function RH(n,e,t){n==="focusin"?(pP(),om=e,Um=t,om.attachEvent("onpropertychange",JF)):n==="focusout"&&pP()}function DH(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return w_(Um)}function BH(n,e){if(n==="click")return w_(e)}function LH(n,e){if(n==="input"||n==="change")return w_(e)}function IH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var xo=typeof Object.is=="function"?Object.is:IH;function zm(n,e){if(xo(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!LA.call(e,i)||!xo(n[i],e[i]))return!1}return!0}function mP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gP(n,e){var t=mP(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=mP(t)}}function KF(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?KF(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function YF(){for(var n=window,e=o1();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=o1(n.document)}return e}function V2(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function kH(n){var e=YF(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&KF(t.ownerDocument.documentElement,t)){if(r!==null&&V2(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=gP(t,s);var o=gP(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var FH=za&&"documentMode"in document&&11>=document.documentMode,md=null,qA=null,am=null,ZA=!1;function vP(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ZA||md==null||md!==o1(r)||(r=md,"selectionStart"in r&&V2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),am&&zm(am,r)||(am=r,r=h1(qA,"onSelect"),0<r.length&&(e=new z2("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=md)))}function dv(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var gd={animationend:dv("Animation","AnimationEnd"),animationiteration:dv("Animation","AnimationIteration"),animationstart:dv("Animation","AnimationStart"),transitionend:dv("Transition","TransitionEnd")},Cw={},QF={};za&&(QF=document.createElement("div").style,"AnimationEvent"in window||(delete gd.animationend.animation,delete gd.animationiteration.animation,delete gd.animationstart.animation),"TransitionEvent"in window||delete gd.transitionend.transition);function S_(n){if(Cw[n])return Cw[n];if(!gd[n])return n;var e=gd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in QF)return Cw[n]=e[t];return n}var qF=S_("animationend"),ZF=S_("animationiteration"),eO=S_("animationstart"),tO=S_("transitionend"),nO=new Map,yP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wc(n,e){nO.set(n,e),nf(e,[n])}for(var Ew=0;Ew<yP.length;Ew++){var Tw=yP[Ew],OH=Tw.toLowerCase(),NH=Tw[0].toUpperCase()+Tw.slice(1);wc(OH,"on"+NH)}wc(qF,"onAnimationEnd");wc(ZF,"onAnimationIteration");wc(eO,"onAnimationStart");wc("dblclick","onDoubleClick");wc("focusin","onFocus");wc("focusout","onBlur");wc(tO,"onTransitionEnd");Qd("onMouseEnter",["mouseout","mouseover"]);Qd("onMouseLeave",["mouseout","mouseover"]);Qd("onPointerEnter",["pointerout","pointerover"]);Qd("onPointerLeave",["pointerout","pointerover"]);nf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nf("onBeforeInput",["compositionend","keypress","textInput","paste"]);nf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qp));function _P(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,O9(r,e,void 0,n),n.currentTarget=null}function rO(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;_P(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;_P(i,a,c),s=l}}}if(l1)throw n=JA,l1=!1,JA=null,n}function cn(n,e){var t=e[ib];t===void 0&&(t=e[ib]=new Set);var r=n+"__bubble";t.has(r)||(iO(e,n,2,!1),t.add(r))}function Pw(n,e,t){var r=0;e&&(r|=4),iO(t,n,r,e)}var hv="_reactListening"+Math.random().toString(36).slice(2);function Gm(n){if(!n[hv]){n[hv]=!0,fF.forEach(function(t){t!=="selectionchange"&&(UH.has(t)||Pw(t,!1,n),Pw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[hv]||(e[hv]=!0,Pw("selectionchange",!1,e))}}function iO(n,e,t,r){switch(GF(e)){case 1:var i=Z9;break;case 4:i=eH;break;default:i=N2}t=i.bind(null,e,t,n),i=void 0,!XA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Rw(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=pu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}EF(function(){var c=s,u=I2(t),f=[];e:{var d=nO.get(n);if(d!==void 0){var p=z2,g=n;switch(n){case"keypress":if(Fy(t)===0)break e;case"keydown":case"keyup":p=mH;break;case"focusin":g="focus",p=Aw;break;case"focusout":g="blur",p=Aw;break;case"beforeblur":case"afterblur":p=Aw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=aP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yH;break;case qF:case ZF:case eO:p=oH;break;case tO:p=xH;break;case"scroll":p=tH;break;case"wheel":p=SH;break;case"copy":case"cut":case"paste":p=lH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cP}var v=(e&4)!==0,y=!v&&n==="scroll",_=v?d!==null?d+"Capture":null:d;v=[];for(var x=c,w;x!==null;){w=x;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,_!==null&&(A=km(x,_),A!=null&&v.push(Hm(x,A,w)))),y)break;x=x.return}0<v.length&&(d=new p(d,g,null,t,u),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",d&&t!==jA&&(g=t.relatedTarget||t.fromElement)&&(pu(g)||g[Ga]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?pu(g):null,g!==null&&(y=rf(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=aP,A="onMouseLeave",_="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(v=cP,A="onPointerLeave",_="onPointerEnter",x="pointer"),y=p==null?d:vd(p),w=g==null?d:vd(g),d=new v(A,x+"leave",p,t,u),d.target=y,d.relatedTarget=w,A=null,pu(u)===c&&(v=new v(_,x+"enter",g,t,u),v.target=w,v.relatedTarget=y,A=v),y=A,p&&g)t:{for(v=p,_=g,x=0,w=v;w;w=Lf(w))x++;for(w=0,A=_;A;A=Lf(A))w++;for(;0<x-w;)v=Lf(v),x--;for(;0<w-x;)_=Lf(_),w--;for(;x--;){if(v===_||_!==null&&v===_.alternate)break t;v=Lf(v),_=Lf(_)}v=null}else v=null;p!==null&&xP(f,d,p,v,!1),g!==null&&y!==null&&xP(f,y,g,v,!0)}}e:{if(d=c?vd(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=PH;else if(dP(d))if(XF)C=LH;else{C=DH;var E=RH}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=BH);if(C&&(C=C(n,c))){$F(f,C,t,u);break e}E&&E(n,d,c),n==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&zA(d,"number",d.value)}switch(E=c?vd(c):window,n){case"focusin":(dP(E)||E.contentEditable==="true")&&(md=E,qA=c,am=null);break;case"focusout":am=qA=md=null;break;case"mousedown":ZA=!0;break;case"contextmenu":case"mouseup":case"dragend":ZA=!1,vP(f,t,u);break;case"selectionchange":if(FH)break;case"keydown":case"keyup":vP(f,t,u)}var P;if(H2)e:{switch(n){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else pd?WF(n,t)&&(M="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(VF&&t.locale!=="ko"&&(pd||M!=="onCompositionStart"?M==="onCompositionEnd"&&pd&&(P=HF()):(Nl=u,U2="value"in Nl?Nl.value:Nl.textContent,pd=!0)),E=h1(c,M),0<E.length&&(M=new lP(M,n,null,t,u),f.push({event:M,listeners:E}),P?M.data=P:(P=jF(t),P!==null&&(M.data=P)))),(P=bH?MH(n,t):CH(n,t))&&(c=h1(c,"onBeforeInput"),0<c.length&&(u=new lP("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=P))}rO(f,e)})}function Hm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function h1(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=km(n,t),s!=null&&r.unshift(Hm(n,s,i)),s=km(n,e),s!=null&&r.push(Hm(n,s,i))),n=n.return}return r}function Lf(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function xP(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=km(t,s),l!=null&&o.unshift(Hm(t,l,a))):i||(l=km(t,s),l!=null&&o.push(Hm(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var zH=/\r\n?/g,GH=/\u0000|\uFFFD/g;function wP(n){return(typeof n=="string"?n:""+n).replace(zH,`
`).replace(GH,"")}function pv(n,e,t){if(e=wP(e),wP(n)!==e&&t)throw Error(Ge(425))}function p1(){}var eb=null,tb=null;function nb(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rb=typeof setTimeout=="function"?setTimeout:void 0,HH=typeof clearTimeout=="function"?clearTimeout:void 0,SP=typeof Promise=="function"?Promise:void 0,VH=typeof queueMicrotask=="function"?queueMicrotask:typeof SP<"u"?function(n){return SP.resolve(null).then(n).catch(WH)}:rb;function WH(n){setTimeout(function(){throw n})}function Dw(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Nm(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Nm(e)}function Kl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function AP(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Mh=Math.random().toString(36).slice(2),Uo="__reactFiber$"+Mh,Vm="__reactProps$"+Mh,Ga="__reactContainer$"+Mh,ib="__reactEvents$"+Mh,jH="__reactListeners$"+Mh,$H="__reactHandles$"+Mh;function pu(n){var e=n[Uo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ga]||t[Uo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=AP(n);n!==null;){if(t=n[Uo])return t;n=AP(n)}return e}n=t,t=n.parentNode}return null}function Dg(n){return n=n[Uo]||n[Ga],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ge(33))}function A_(n){return n[Vm]||null}var sb=[],yd=-1;function Sc(n){return{current:n}}function hn(n){0>yd||(n.current=sb[yd],sb[yd]=null,yd--)}function ln(n,e){yd++,sb[yd]=n.current,n.current=e}var sc={},Jr=Sc(sc),Bi=Sc(!1),Hu=sc;function qd(n,e){var t=n.type.contextTypes;if(!t)return sc;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Li(n){return n=n.childContextTypes,n!=null}function m1(){hn(Bi),hn(Jr)}function bP(n,e,t){if(Jr.current!==sc)throw Error(Ge(168));ln(Jr,e),ln(Bi,t)}function sO(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ge(108,R9(n)||"Unknown",i));return Dn({},t,r)}function g1(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||sc,Hu=Jr.current,ln(Jr,n),ln(Bi,Bi.current),!0}function MP(n,e,t){var r=n.stateNode;if(!r)throw Error(Ge(169));t?(n=sO(n,e,Hu),r.__reactInternalMemoizedMergedChildContext=n,hn(Bi),hn(Jr),ln(Jr,n)):hn(Bi),ln(Bi,t)}var xa=null,b_=!1,Bw=!1;function oO(n){xa===null?xa=[n]:xa.push(n)}function XH(n){b_=!0,oO(n)}function Ac(){if(!Bw&&xa!==null){Bw=!0;var n=0,e=Yt;try{var t=xa;for(Yt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}xa=null,b_=!1}catch(i){throw xa!==null&&(xa=xa.slice(n+1)),DF(k2,Ac),i}finally{Yt=e,Bw=!1}}return null}var _d=[],xd=0,v1=null,y1=0,ks=[],Fs=0,Vu=null,Ma=1,Ca="";function su(n,e){_d[xd++]=y1,_d[xd++]=v1,v1=n,y1=e}function aO(n,e,t){ks[Fs++]=Ma,ks[Fs++]=Ca,ks[Fs++]=Vu,Vu=n;var r=Ma;n=Ca;var i=32-po(r)-1;r&=~(1<<i),t+=1;var s=32-po(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ma=1<<32-po(e)+i|t<<i|r,Ca=s+n}else Ma=1<<s|t<<i|r,Ca=n}function W2(n){n.return!==null&&(su(n,1),aO(n,1,0))}function j2(n){for(;n===v1;)v1=_d[--xd],_d[xd]=null,y1=_d[--xd],_d[xd]=null;for(;n===Vu;)Vu=ks[--Fs],ks[Fs]=null,Ca=ks[--Fs],ks[Fs]=null,Ma=ks[--Fs],ks[Fs]=null}var is=null,ts=null,yn=!1,uo=null;function lO(n,e){var t=zs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function CP(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,is=n,ts=Kl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,is=n,ts=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Vu!==null?{id:Ma,overflow:Ca}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=zs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,is=n,ts=null,!0):!1;default:return!1}}function ob(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ab(n){if(yn){var e=ts;if(e){var t=e;if(!CP(n,e)){if(ob(n))throw Error(Ge(418));e=Kl(t.nextSibling);var r=is;e&&CP(n,e)?lO(r,t):(n.flags=n.flags&-4097|2,yn=!1,is=n)}}else{if(ob(n))throw Error(Ge(418));n.flags=n.flags&-4097|2,yn=!1,is=n}}}function EP(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;is=n}function mv(n){if(n!==is)return!1;if(!yn)return EP(n),yn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!nb(n.type,n.memoizedProps)),e&&(e=ts)){if(ob(n))throw cO(),Error(Ge(418));for(;e;)lO(n,e),e=Kl(e.nextSibling)}if(EP(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ge(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ts=Kl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ts=null}}else ts=is?Kl(n.stateNode.nextSibling):null;return!0}function cO(){for(var n=ts;n;)n=Kl(n.nextSibling)}function Zd(){ts=is=null,yn=!1}function $2(n){uo===null?uo=[n]:uo.push(n)}var JH=qa.ReactCurrentBatchConfig;function lo(n,e){if(n&&n.defaultProps){e=Dn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var _1=Sc(null),x1=null,wd=null,X2=null;function J2(){X2=wd=x1=null}function K2(n){var e=_1.current;hn(_1),n._currentValue=e}function lb(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function zd(n,e){x1=n,X2=wd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Pi=!0),n.firstContext=null)}function Xs(n){var e=n._currentValue;if(X2!==n)if(n={context:n,memoizedValue:e,next:null},wd===null){if(x1===null)throw Error(Ge(308));wd=n,x1.dependencies={lanes:0,firstContext:n}}else wd=wd.next=n;return e}var mu=null;function Y2(n){mu===null?mu=[n]:mu.push(n)}function uO(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Y2(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ha(n,r)}function Ha(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Bl=!1;function Q2(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fO(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ra(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Yl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Vt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ha(n,t)}return i=r.interleaved,i===null?(e.next=e,Y2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ha(n,t)}function Oy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,F2(n,t)}}function TP(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function w1(n,e,t,r){var i=n.updateQueue;Bl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(d=e,p=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=Dn({},f,d);break e;case 2:Bl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ju|=o,n.lanes=o,n.memoizedState=f}}function PP(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ge(191,i));i.call(r)}}}var dO=new uF.Component().refs;function cb(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Dn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var M_={isMounted:function(n){return(n=n._reactInternals)?rf(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=pi(),i=ql(n),s=Ra(r,i);s.payload=e,t!=null&&(s.callback=t),e=Yl(n,s,i),e!==null&&(mo(e,n,i,r),Oy(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=pi(),i=ql(n),s=Ra(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Yl(n,s,i),e!==null&&(mo(e,n,i,r),Oy(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=pi(),r=ql(n),i=Ra(t,r);i.tag=2,e!=null&&(i.callback=e),e=Yl(n,i,r),e!==null&&(mo(e,n,r,t),Oy(e,n,r))}};function RP(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!zm(t,r)||!zm(i,s):!0}function hO(n,e,t){var r=!1,i=sc,s=e.contextType;return typeof s=="object"&&s!==null?s=Xs(s):(i=Li(e)?Hu:Jr.current,r=e.contextTypes,s=(r=r!=null)?qd(n,i):sc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=M_,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function DP(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&M_.enqueueReplaceState(e,e.state,null)}function ub(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=dO,Q2(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xs(s):(s=Li(e)?Hu:Jr.current,i.context=qd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cb(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&M_.enqueueReplaceState(i,i.state,null),w1(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function yp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ge(309));var r=t.stateNode}if(!r)throw Error(Ge(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===dO&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ge(284));if(!t._owner)throw Error(Ge(290,n))}return n}function gv(n,e){throw n=Object.prototype.toString.call(e),Error(Ge(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function BP(n){var e=n._init;return e(n._payload)}function pO(n){function e(_,x){if(n){var w=_.deletions;w===null?(_.deletions=[x],_.flags|=16):w.push(x)}}function t(_,x){if(!n)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function i(_,x){return _=Zl(_,x),_.index=0,_.sibling=null,_}function s(_,x,w){return _.index=w,n?(w=_.alternate,w!==null?(w=w.index,w<x?(_.flags|=2,x):w):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return n&&_.alternate===null&&(_.flags|=2),_}function a(_,x,w,A){return x===null||x.tag!==6?(x=Uw(w,_.mode,A),x.return=_,x):(x=i(x,w),x.return=_,x)}function l(_,x,w,A){var C=w.type;return C===hd?u(_,x,w.props.children,A,w.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Dl&&BP(C)===x.type)?(A=i(x,w.props),A.ref=yp(_,x,w),A.return=_,A):(A=Vy(w.type,w.key,w.props,null,_.mode,A),A.ref=yp(_,x,w),A.return=_,A)}function c(_,x,w,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=zw(w,_.mode,A),x.return=_,x):(x=i(x,w.children||[]),x.return=_,x)}function u(_,x,w,A,C){return x===null||x.tag!==7?(x=Tu(w,_.mode,A,C),x.return=_,x):(x=i(x,w),x.return=_,x)}function f(_,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Uw(""+x,_.mode,w),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sv:return w=Vy(x.type,x.key,x.props,null,_.mode,w),w.ref=yp(_,null,x),w.return=_,w;case dd:return x=zw(x,_.mode,w),x.return=_,x;case Dl:var A=x._init;return f(_,A(x._payload),w)}if(Kp(x)||hp(x))return x=Tu(x,_.mode,w,null),x.return=_,x;gv(_,x)}return null}function d(_,x,w,A){var C=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(_,x,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sv:return w.key===C?l(_,x,w,A):null;case dd:return w.key===C?c(_,x,w,A):null;case Dl:return C=w._init,d(_,x,C(w._payload),A)}if(Kp(w)||hp(w))return C!==null?null:u(_,x,w,A,null);gv(_,w)}return null}function p(_,x,w,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(w)||null,a(x,_,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case sv:return _=_.get(A.key===null?w:A.key)||null,l(x,_,A,C);case dd:return _=_.get(A.key===null?w:A.key)||null,c(x,_,A,C);case Dl:var E=A._init;return p(_,x,w,E(A._payload),C)}if(Kp(A)||hp(A))return _=_.get(w)||null,u(x,_,A,C,null);gv(x,A)}return null}function g(_,x,w,A){for(var C=null,E=null,P=x,M=x=0,T=null;P!==null&&M<w.length;M++){P.index>M?(T=P,P=null):T=P.sibling;var D=d(_,P,w[M],A);if(D===null){P===null&&(P=T);break}n&&P&&D.alternate===null&&e(_,P),x=s(D,x,M),E===null?C=D:E.sibling=D,E=D,P=T}if(M===w.length)return t(_,P),yn&&su(_,M),C;if(P===null){for(;M<w.length;M++)P=f(_,w[M],A),P!==null&&(x=s(P,x,M),E===null?C=P:E.sibling=P,E=P);return yn&&su(_,M),C}for(P=r(_,P);M<w.length;M++)T=p(P,_,M,w[M],A),T!==null&&(n&&T.alternate!==null&&P.delete(T.key===null?M:T.key),x=s(T,x,M),E===null?C=T:E.sibling=T,E=T);return n&&P.forEach(function(F){return e(_,F)}),yn&&su(_,M),C}function v(_,x,w,A){var C=hp(w);if(typeof C!="function")throw Error(Ge(150));if(w=C.call(w),w==null)throw Error(Ge(151));for(var E=C=null,P=x,M=x=0,T=null,D=w.next();P!==null&&!D.done;M++,D=w.next()){P.index>M?(T=P,P=null):T=P.sibling;var F=d(_,P,D.value,A);if(F===null){P===null&&(P=T);break}n&&P&&F.alternate===null&&e(_,P),x=s(F,x,M),E===null?C=F:E.sibling=F,E=F,P=T}if(D.done)return t(_,P),yn&&su(_,M),C;if(P===null){for(;!D.done;M++,D=w.next())D=f(_,D.value,A),D!==null&&(x=s(D,x,M),E===null?C=D:E.sibling=D,E=D);return yn&&su(_,M),C}for(P=r(_,P);!D.done;M++,D=w.next())D=p(P,_,M,D.value,A),D!==null&&(n&&D.alternate!==null&&P.delete(D.key===null?M:D.key),x=s(D,x,M),E===null?C=D:E.sibling=D,E=D);return n&&P.forEach(function(L){return e(_,L)}),yn&&su(_,M),C}function y(_,x,w,A){if(typeof w=="object"&&w!==null&&w.type===hd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case sv:e:{for(var C=w.key,E=x;E!==null;){if(E.key===C){if(C=w.type,C===hd){if(E.tag===7){t(_,E.sibling),x=i(E,w.props.children),x.return=_,_=x;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Dl&&BP(C)===E.type){t(_,E.sibling),x=i(E,w.props),x.ref=yp(_,E,w),x.return=_,_=x;break e}t(_,E);break}else e(_,E);E=E.sibling}w.type===hd?(x=Tu(w.props.children,_.mode,A,w.key),x.return=_,_=x):(A=Vy(w.type,w.key,w.props,null,_.mode,A),A.ref=yp(_,x,w),A.return=_,_=A)}return o(_);case dd:e:{for(E=w.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){t(_,x.sibling),x=i(x,w.children||[]),x.return=_,_=x;break e}else{t(_,x);break}else e(_,x);x=x.sibling}x=zw(w,_.mode,A),x.return=_,_=x}return o(_);case Dl:return E=w._init,y(_,x,E(w._payload),A)}if(Kp(w))return g(_,x,w,A);if(hp(w))return v(_,x,w,A);gv(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(t(_,x.sibling),x=i(x,w),x.return=_,_=x):(t(_,x),x=Uw(w,_.mode,A),x.return=_,_=x),o(_)):t(_,x)}return y}var eh=pO(!0),mO=pO(!1),Bg={},Vo=Sc(Bg),Wm=Sc(Bg),jm=Sc(Bg);function gu(n){if(n===Bg)throw Error(Ge(174));return n}function q2(n,e){switch(ln(jm,e),ln(Wm,n),ln(Vo,Bg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:HA(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=HA(e,n)}hn(Vo),ln(Vo,e)}function th(){hn(Vo),hn(Wm),hn(jm)}function gO(n){gu(jm.current);var e=gu(Vo.current),t=HA(e,n.type);e!==t&&(ln(Wm,n),ln(Vo,t))}function Z2(n){Wm.current===n&&(hn(Vo),hn(Wm))}var bn=Sc(0);function S1(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lw=[];function eC(){for(var n=0;n<Lw.length;n++)Lw[n]._workInProgressVersionPrimary=null;Lw.length=0}var Ny=qa.ReactCurrentDispatcher,Iw=qa.ReactCurrentBatchConfig,Wu=0,Rn=null,lr=null,xr=null,A1=!1,lm=!1,$m=0,KH=0;function Nr(){throw Error(Ge(321))}function tC(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!xo(n[t],e[t]))return!1;return!0}function nC(n,e,t,r,i,s){if(Wu=s,Rn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ny.current=n===null||n.memoizedState===null?ZH:eV,n=t(r,i),lm){s=0;do{if(lm=!1,$m=0,25<=s)throw Error(Ge(301));s+=1,xr=lr=null,e.updateQueue=null,Ny.current=tV,n=t(r,i)}while(lm)}if(Ny.current=b1,e=lr!==null&&lr.next!==null,Wu=0,xr=lr=Rn=null,A1=!1,e)throw Error(Ge(300));return n}function rC(){var n=$m!==0;return $m=0,n}function Fo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?Rn.memoizedState=xr=n:xr=xr.next=n,xr}function Js(){if(lr===null){var n=Rn.alternate;n=n!==null?n.memoizedState:null}else n=lr.next;var e=xr===null?Rn.memoizedState:xr.next;if(e!==null)xr=e,lr=n;else{if(n===null)throw Error(Ge(310));lr=n,n={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},xr===null?Rn.memoizedState=xr=n:xr=xr.next=n}return xr}function Xm(n,e){return typeof e=="function"?e(n):e}function kw(n){var e=Js(),t=e.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=n;var r=lr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Wu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Rn.lanes|=u,ju|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,xo(r,e.memoizedState)||(Pi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Rn.lanes|=s,ju|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Fw(n){var e=Js(),t=e.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);xo(s,e.memoizedState)||(Pi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function vO(){}function yO(n,e){var t=Rn,r=Js(),i=e(),s=!xo(r.memoizedState,i);if(s&&(r.memoizedState=i,Pi=!0),r=r.queue,iC(wO.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||xr!==null&&xr.memoizedState.tag&1){if(t.flags|=2048,Jm(9,xO.bind(null,t,r,i,e),void 0,null),Sr===null)throw Error(Ge(349));Wu&30||_O(t,e,i)}return i}function _O(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function xO(n,e,t,r){e.value=t,e.getSnapshot=r,SO(e)&&AO(n)}function wO(n,e,t){return t(function(){SO(e)&&AO(n)})}function SO(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!xo(n,t)}catch{return!0}}function AO(n){var e=Ha(n,1);e!==null&&mo(e,n,1,-1)}function LP(n){var e=Fo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:n},e.queue=n,n=n.dispatch=qH.bind(null,Rn,n),[e.memoizedState,n]}function Jm(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function bO(){return Js().memoizedState}function Uy(n,e,t,r){var i=Fo();Rn.flags|=n,i.memoizedState=Jm(1|e,t,void 0,r===void 0?null:r)}function C_(n,e,t,r){var i=Js();r=r===void 0?null:r;var s=void 0;if(lr!==null){var o=lr.memoizedState;if(s=o.destroy,r!==null&&tC(r,o.deps)){i.memoizedState=Jm(e,t,s,r);return}}Rn.flags|=n,i.memoizedState=Jm(1|e,t,s,r)}function IP(n,e){return Uy(8390656,8,n,e)}function iC(n,e){return C_(2048,8,n,e)}function MO(n,e){return C_(4,2,n,e)}function CO(n,e){return C_(4,4,n,e)}function EO(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function TO(n,e,t){return t=t!=null?t.concat([n]):null,C_(4,4,EO.bind(null,e,n),t)}function sC(){}function PO(n,e){var t=Js();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&tC(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function RO(n,e){var t=Js();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&tC(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function DO(n,e,t){return Wu&21?(xo(t,e)||(t=IF(),Rn.lanes|=t,ju|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Pi=!0),n.memoizedState=t)}function YH(n,e){var t=Yt;Yt=t!==0&&4>t?t:4,n(!0);var r=Iw.transition;Iw.transition={};try{n(!1),e()}finally{Yt=t,Iw.transition=r}}function BO(){return Js().memoizedState}function QH(n,e,t){var r=ql(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},LO(n))IO(e,t);else if(t=uO(n,e,t,r),t!==null){var i=pi();mo(t,n,r,i),kO(t,e,r)}}function qH(n,e,t){var r=ql(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(LO(n))IO(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,xo(a,o)){var l=e.interleaved;l===null?(i.next=i,Y2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=uO(n,e,i,r),t!==null&&(i=pi(),mo(t,n,r,i),kO(t,e,r))}}function LO(n){var e=n.alternate;return n===Rn||e!==null&&e===Rn}function IO(n,e){lm=A1=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function kO(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,F2(n,t)}}var b1={readContext:Xs,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},ZH={readContext:Xs,useCallback:function(n,e){return Fo().memoizedState=[n,e===void 0?null:e],n},useContext:Xs,useEffect:IP,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Uy(4194308,4,EO.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Uy(4194308,4,n,e)},useInsertionEffect:function(n,e){return Uy(4,2,n,e)},useMemo:function(n,e){var t=Fo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Fo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=QH.bind(null,Rn,n),[r.memoizedState,n]},useRef:function(n){var e=Fo();return n={current:n},e.memoizedState=n},useState:LP,useDebugValue:sC,useDeferredValue:function(n){return Fo().memoizedState=n},useTransition:function(){var n=LP(!1),e=n[0];return n=YH.bind(null,n[1]),Fo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Rn,i=Fo();if(yn){if(t===void 0)throw Error(Ge(407));t=t()}else{if(t=e(),Sr===null)throw Error(Ge(349));Wu&30||_O(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,IP(wO.bind(null,r,s,n),[n]),r.flags|=2048,Jm(9,xO.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Fo(),e=Sr.identifierPrefix;if(yn){var t=Ca,r=Ma;t=(r&~(1<<32-po(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=$m++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=KH++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},eV={readContext:Xs,useCallback:PO,useContext:Xs,useEffect:iC,useImperativeHandle:TO,useInsertionEffect:MO,useLayoutEffect:CO,useMemo:RO,useReducer:kw,useRef:bO,useState:function(){return kw(Xm)},useDebugValue:sC,useDeferredValue:function(n){var e=Js();return DO(e,lr.memoizedState,n)},useTransition:function(){var n=kw(Xm)[0],e=Js().memoizedState;return[n,e]},useMutableSource:vO,useSyncExternalStore:yO,useId:BO,unstable_isNewReconciler:!1},tV={readContext:Xs,useCallback:PO,useContext:Xs,useEffect:iC,useImperativeHandle:TO,useInsertionEffect:MO,useLayoutEffect:CO,useMemo:RO,useReducer:Fw,useRef:bO,useState:function(){return Fw(Xm)},useDebugValue:sC,useDeferredValue:function(n){var e=Js();return lr===null?e.memoizedState=n:DO(e,lr.memoizedState,n)},useTransition:function(){var n=Fw(Xm)[0],e=Js().memoizedState;return[n,e]},useMutableSource:vO,useSyncExternalStore:yO,useId:BO,unstable_isNewReconciler:!1};function nh(n,e){try{var t="",r=e;do t+=P9(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Ow(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function fb(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var nV=typeof WeakMap=="function"?WeakMap:Map;function FO(n,e,t){t=Ra(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){C1||(C1=!0,wb=r),fb(n,e)},t}function OO(n,e,t){t=Ra(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){fb(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){fb(n,e),typeof r!="function"&&(Ql===null?Ql=new Set([this]):Ql.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function kP(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new nV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=gV.bind(null,n,e,t),e.then(n,n))}function FP(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function OP(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ra(-1,1),e.tag=2,Yl(t,e,1))),t.lanes|=1),n)}var rV=qa.ReactCurrentOwner,Pi=!1;function fi(n,e,t,r){e.child=n===null?mO(e,null,t,r):eh(e,n.child,t,r)}function NP(n,e,t,r,i){t=t.render;var s=e.ref;return zd(e,i),r=nC(n,e,t,r,s,i),t=rC(),n!==null&&!Pi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Va(n,e,i)):(yn&&t&&W2(e),e.flags|=1,fi(n,e,r,i),e.child)}function UP(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!hC(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,NO(n,e,s,r,i)):(n=Vy(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:zm,t(o,r)&&n.ref===e.ref)return Va(n,e,i)}return e.flags|=1,n=Zl(s,r),n.ref=e.ref,n.return=e,e.child=n}function NO(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(zm(s,r)&&n.ref===e.ref)if(Pi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Pi=!0);else return e.lanes=n.lanes,Va(n,e,i)}return db(n,e,t,r,i)}function UO(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(Ad,qi),qi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ln(Ad,qi),qi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,ln(Ad,qi),qi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,ln(Ad,qi),qi|=r;return fi(n,e,i,t),e.child}function zO(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function db(n,e,t,r,i){var s=Li(t)?Hu:Jr.current;return s=qd(e,s),zd(e,i),t=nC(n,e,t,r,s,i),r=rC(),n!==null&&!Pi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Va(n,e,i)):(yn&&r&&W2(e),e.flags|=1,fi(n,e,t,i),e.child)}function zP(n,e,t,r,i){if(Li(t)){var s=!0;g1(e)}else s=!1;if(zd(e,i),e.stateNode===null)zy(n,e),hO(e,t,r),ub(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Xs(c):(c=Li(t)?Hu:Jr.current,c=qd(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&DP(e,o,r,c),Bl=!1;var d=e.memoizedState;o.state=d,w1(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Bi.current||Bl?(typeof u=="function"&&(cb(e,t,u,r),l=e.memoizedState),(a=Bl||RP(e,t,a,r,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fO(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:lo(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Xs(l):(l=Li(t)?Hu:Jr.current,l=qd(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&DP(e,o,r,l),Bl=!1,d=e.memoizedState,o.state=d,w1(e,r,o,i);var g=e.memoizedState;a!==f||d!==g||Bi.current||Bl?(typeof p=="function"&&(cb(e,t,p,r),g=e.memoizedState),(c=Bl||RP(e,t,c,r,d,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return hb(n,e,t,r,s,i)}function hb(n,e,t,r,i,s){zO(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&MP(e,t,!1),Va(n,e,s);r=e.stateNode,rV.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=eh(e,n.child,null,s),e.child=eh(e,null,a,s)):fi(n,e,a,s),e.memoizedState=r.state,i&&MP(e,t,!0),e.child}function GO(n){var e=n.stateNode;e.pendingContext?bP(n,e.pendingContext,e.pendingContext!==e.context):e.context&&bP(n,e.context,!1),q2(n,e.containerInfo)}function GP(n,e,t,r,i){return Zd(),$2(i),e.flags|=256,fi(n,e,t,r),e.child}var pb={dehydrated:null,treeContext:null,retryLane:0};function mb(n){return{baseLanes:n,cachePool:null,transitions:null}}function HO(n,e,t){var r=e.pendingProps,i=bn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),ln(bn,i&1),n===null)return ab(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=P_(o,r,0,null),n=Tu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=mb(t),e.memoizedState=pb,n):oC(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return iV(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Zl(a,s):(s=Tu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?mb(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=pb,r}return s=n.child,n=s.sibling,r=Zl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function oC(n,e){return e=P_({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function vv(n,e,t,r){return r!==null&&$2(r),eh(e,n.child,null,t),n=oC(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function iV(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Ow(Error(Ge(422))),vv(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=P_({mode:"visible",children:r.children},i,0,null),s=Tu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&eh(e,n.child,null,o),e.child.memoizedState=mb(o),e.memoizedState=pb,s);if(!(e.mode&1))return vv(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ge(419)),r=Ow(s,r,void 0),vv(n,e,o,r)}if(a=(o&n.childLanes)!==0,Pi||a){if(r=Sr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ha(n,i),mo(r,n,i,-1))}return dC(),r=Ow(Error(Ge(421))),vv(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=vV.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,ts=Kl(i.nextSibling),is=e,yn=!0,uo=null,n!==null&&(ks[Fs++]=Ma,ks[Fs++]=Ca,ks[Fs++]=Vu,Ma=n.id,Ca=n.overflow,Vu=e),e=oC(e,r.children),e.flags|=4096,e)}function HP(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),lb(n.return,e,t)}function Nw(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function VO(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(fi(n,e,r.children,t),r=bn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&HP(n,t,e);else if(n.tag===19)HP(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(ln(bn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&S1(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Nw(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&S1(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Nw(e,!0,t,null,s);break;case"together":Nw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zy(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Va(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ju|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ge(153));if(e.child!==null){for(n=e.child,t=Zl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Zl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function sV(n,e,t){switch(e.tag){case 3:GO(e),Zd();break;case 5:gO(e);break;case 1:Li(e.type)&&g1(e);break;case 4:q2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ln(_1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ln(bn,bn.current&1),e.flags|=128,null):t&e.child.childLanes?HO(n,e,t):(ln(bn,bn.current&1),n=Va(n,e,t),n!==null?n.sibling:null);ln(bn,bn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return VO(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ln(bn,bn.current),r)break;return null;case 22:case 23:return e.lanes=0,UO(n,e,t)}return Va(n,e,t)}var WO,gb,jO,$O;WO=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};gb=function(){};jO=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,gu(Vo.current);var s=null;switch(t){case"input":i=NA(n,i),r=NA(n,r),s=[];break;case"select":i=Dn({},i,{value:void 0}),r=Dn({},r,{value:void 0}),s=[];break;case"textarea":i=GA(n,i),r=GA(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=p1)}VA(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&cn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};$O=function(n,e,t,r){t!==r&&(e.flags|=4)};function _p(n,e){if(!yn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ur(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function oV(n,e,t){var r=e.pendingProps;switch(j2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(e),null;case 1:return Li(e.type)&&m1(),Ur(e),null;case 3:return r=e.stateNode,th(),hn(Bi),hn(Jr),eC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(mv(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,uo!==null&&(bb(uo),uo=null))),gb(n,e),Ur(e),null;case 5:Z2(e);var i=gu(jm.current);if(t=e.type,n!==null&&e.stateNode!=null)jO(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ge(166));return Ur(e),null}if(n=gu(Vo.current),mv(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Uo]=e,r[Vm]=s,n=(e.mode&1)!==0,t){case"dialog":cn("cancel",r),cn("close",r);break;case"iframe":case"object":case"embed":cn("load",r);break;case"video":case"audio":for(i=0;i<Qp.length;i++)cn(Qp[i],r);break;case"source":cn("error",r);break;case"img":case"image":case"link":cn("error",r),cn("load",r);break;case"details":cn("toggle",r);break;case"input":Q3(r,s),cn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},cn("invalid",r);break;case"textarea":Z3(r,s),cn("invalid",r)}VA(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pv(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pv(r.textContent,a,n),i=["children",""+a]):Lm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&cn("scroll",r)}switch(t){case"input":ov(r),q3(r,s,!0);break;case"textarea":ov(r),eP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=p1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=_F(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Uo]=e,n[Vm]=r,WO(n,e,!1,!1),e.stateNode=n;e:{switch(o=WA(t,r),t){case"dialog":cn("cancel",n),cn("close",n),i=r;break;case"iframe":case"object":case"embed":cn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Qp.length;i++)cn(Qp[i],n);i=r;break;case"source":cn("error",n),i=r;break;case"img":case"image":case"link":cn("error",n),cn("load",n),i=r;break;case"details":cn("toggle",n),i=r;break;case"input":Q3(n,r),i=NA(n,r),cn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Dn({},r,{value:void 0}),cn("invalid",n);break;case"textarea":Z3(n,r),i=GA(n,r),cn("invalid",n);break;default:i=r}VA(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?SF(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xF(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Im(n,l):typeof l=="number"&&Im(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&cn("scroll",n):l!=null&&R2(n,s,l,o))}switch(t){case"input":ov(n),q3(n,r,!1);break;case"textarea":ov(n),eP(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ic(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Fd(n,!!r.multiple,s,!1):r.defaultValue!=null&&Fd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=p1)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ur(e),null;case 6:if(n&&e.stateNode!=null)$O(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ge(166));if(t=gu(jm.current),gu(Vo.current),mv(e)){if(r=e.stateNode,t=e.memoizedProps,r[Uo]=e,(s=r.nodeValue!==t)&&(n=is,n!==null))switch(n.tag){case 3:pv(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&pv(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Uo]=e,e.stateNode=r}return Ur(e),null;case 13:if(hn(bn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(yn&&ts!==null&&e.mode&1&&!(e.flags&128))cO(),Zd(),e.flags|=98560,s=!1;else if(s=mv(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ge(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ge(317));s[Uo]=e}else Zd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ur(e),s=!1}else uo!==null&&(bb(uo),uo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||bn.current&1?ur===0&&(ur=3):dC())),e.updateQueue!==null&&(e.flags|=4),Ur(e),null);case 4:return th(),gb(n,e),n===null&&Gm(e.stateNode.containerInfo),Ur(e),null;case 10:return K2(e.type._context),Ur(e),null;case 17:return Li(e.type)&&m1(),Ur(e),null;case 19:if(hn(bn),s=e.memoizedState,s===null)return Ur(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)_p(s,!1);else{if(ur!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=S1(n),o!==null){for(e.flags|=128,_p(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return ln(bn,bn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Jn()>rh&&(e.flags|=128,r=!0,_p(s,!1),e.lanes=4194304)}else{if(!r)if(n=S1(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),_p(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yn)return Ur(e),null}else 2*Jn()-s.renderingStartTime>rh&&t!==1073741824&&(e.flags|=128,r=!0,_p(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jn(),e.sibling=null,t=bn.current,ln(bn,r?t&1|2:t&1),e):(Ur(e),null);case 22:case 23:return fC(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qi&1073741824&&(Ur(e),e.subtreeFlags&6&&(e.flags|=8192)):Ur(e),null;case 24:return null;case 25:return null}throw Error(Ge(156,e.tag))}function aV(n,e){switch(j2(e),e.tag){case 1:return Li(e.type)&&m1(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return th(),hn(Bi),hn(Jr),eC(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Z2(e),null;case 13:if(hn(bn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ge(340));Zd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return hn(bn),null;case 4:return th(),null;case 10:return K2(e.type._context),null;case 22:case 23:return fC(),null;case 24:return null;default:return null}}var yv=!1,Hr=!1,lV=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Sd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){kn(n,e,r)}else t.current=null}function vb(n,e,t){try{t()}catch(r){kn(n,e,r)}}var VP=!1;function cV(n,e){if(eb=f1,n=YF(),V2(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,d=null;t:for(;;){for(var p;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(tb={focusedElem:n,selectionRange:t},f1=!1,tt=e;tt!==null;)if(e=tt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,tt=n;else for(;tt!==null;){e=tt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:lo(e.type,v),y);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(A){kn(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,tt=n;break}tt=e.return}return g=VP,VP=!1,g}function cm(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&vb(e,t,s)}i=i.next}while(i!==r)}}function E_(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function yb(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function XO(n){var e=n.alternate;e!==null&&(n.alternate=null,XO(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Uo],delete e[Vm],delete e[ib],delete e[jH],delete e[$H])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function JO(n){return n.tag===5||n.tag===3||n.tag===4}function WP(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||JO(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _b(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=p1));else if(r!==4&&(n=n.child,n!==null))for(_b(n,e,t),n=n.sibling;n!==null;)_b(n,e,t),n=n.sibling}function xb(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(xb(n,e,t),n=n.sibling;n!==null;)xb(n,e,t),n=n.sibling}var Tr=null,co=!1;function yl(n,e,t){for(t=t.child;t!==null;)KO(n,e,t),t=t.sibling}function KO(n,e,t){if(Ho&&typeof Ho.onCommitFiberUnmount=="function")try{Ho.onCommitFiberUnmount(__,t)}catch{}switch(t.tag){case 5:Hr||Sd(t,e);case 6:var r=Tr,i=co;Tr=null,yl(n,e,t),Tr=r,co=i,Tr!==null&&(co?(n=Tr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Tr.removeChild(t.stateNode));break;case 18:Tr!==null&&(co?(n=Tr,t=t.stateNode,n.nodeType===8?Dw(n.parentNode,t):n.nodeType===1&&Dw(n,t),Nm(n)):Dw(Tr,t.stateNode));break;case 4:r=Tr,i=co,Tr=t.stateNode.containerInfo,co=!0,yl(n,e,t),Tr=r,co=i;break;case 0:case 11:case 14:case 15:if(!Hr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vb(t,e,o),i=i.next}while(i!==r)}yl(n,e,t);break;case 1:if(!Hr&&(Sd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){kn(t,e,a)}yl(n,e,t);break;case 21:yl(n,e,t);break;case 22:t.mode&1?(Hr=(r=Hr)||t.memoizedState!==null,yl(n,e,t),Hr=r):yl(n,e,t);break;default:yl(n,e,t)}}function jP(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new lV),e.forEach(function(r){var i=yV.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function no(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tr=a.stateNode,co=!1;break e;case 3:Tr=a.stateNode.containerInfo,co=!0;break e;case 4:Tr=a.stateNode.containerInfo,co=!0;break e}a=a.return}if(Tr===null)throw Error(Ge(160));KO(s,o,i),Tr=null,co=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){kn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YO(e,n),e=e.sibling}function YO(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(no(e,n),Io(n),r&4){try{cm(3,n,n.return),E_(3,n)}catch(v){kn(n,n.return,v)}try{cm(5,n,n.return)}catch(v){kn(n,n.return,v)}}break;case 1:no(e,n),Io(n),r&512&&t!==null&&Sd(t,t.return);break;case 5:if(no(e,n),Io(n),r&512&&t!==null&&Sd(t,t.return),n.flags&32){var i=n.stateNode;try{Im(i,"")}catch(v){kn(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&vF(i,s),WA(a,o);var c=WA(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?SF(i,f):u==="dangerouslySetInnerHTML"?xF(i,f):u==="children"?Im(i,f):R2(i,u,f,c)}switch(a){case"input":UA(i,s);break;case"textarea":yF(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Fd(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Fd(i,!!s.multiple,s.defaultValue,!0):Fd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vm]=s}catch(v){kn(n,n.return,v)}}break;case 6:if(no(e,n),Io(n),r&4){if(n.stateNode===null)throw Error(Ge(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){kn(n,n.return,v)}}break;case 3:if(no(e,n),Io(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Nm(e.containerInfo)}catch(v){kn(n,n.return,v)}break;case 4:no(e,n),Io(n);break;case 13:no(e,n),Io(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cC=Jn())),r&4&&jP(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Hr=(c=Hr)||u,no(e,n),Hr=c):no(e,n),Io(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(tt=n,u=n.child;u!==null;){for(f=tt=u;tt!==null;){switch(d=tt,p=d.child,d.tag){case 0:case 11:case 14:case 15:cm(4,d,d.return);break;case 1:Sd(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){kn(r,t,v)}}break;case 5:Sd(d,d.return);break;case 22:if(d.memoizedState!==null){XP(f);continue}}p!==null?(p.return=d,tt=p):XP(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wF("display",o))}catch(v){kn(n,n.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){kn(n,n.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:no(e,n),Io(n),r&4&&jP(n);break;case 21:break;default:no(e,n),Io(n)}}function Io(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(JO(t)){var r=t;break e}t=t.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Im(i,""),r.flags&=-33);var s=WP(n);xb(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=WP(n);_b(n,a,o);break;default:throw Error(Ge(161))}}catch(l){kn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function uV(n,e,t){tt=n,QO(n)}function QO(n,e,t){for(var r=(n.mode&1)!==0;tt!==null;){var i=tt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Hr;a=yv;var c=Hr;if(yv=o,(Hr=l)&&!c)for(tt=i;tt!==null;)o=tt,l=o.child,o.tag===22&&o.memoizedState!==null?JP(i):l!==null?(l.return=o,tt=l):JP(i);for(;s!==null;)tt=s,QO(s),s=s.sibling;tt=i,yv=a,Hr=c}$P(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,tt=s):$P(n)}}function $P(n){for(;tt!==null;){var e=tt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hr||E_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:lo(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&PP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}PP(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Nm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}Hr||e.flags&512&&yb(e)}catch(d){kn(e,e.return,d)}}if(e===n){tt=null;break}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}}function XP(n){for(;tt!==null;){var e=tt;if(e===n){tt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,tt=t;break}tt=e.return}}function JP(n){for(;tt!==null;){var e=tt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{E_(4,e)}catch(l){kn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){kn(e,i,l)}}var s=e.return;try{yb(e)}catch(l){kn(e,s,l)}break;case 5:var o=e.return;try{yb(e)}catch(l){kn(e,o,l)}}}catch(l){kn(e,e.return,l)}if(e===n){tt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,tt=a;break}tt=e.return}}var fV=Math.ceil,M1=qa.ReactCurrentDispatcher,aC=qa.ReactCurrentOwner,$s=qa.ReactCurrentBatchConfig,Vt=0,Sr=null,rr=null,Rr=0,qi=0,Ad=Sc(0),ur=0,Km=null,ju=0,T_=0,lC=0,um=null,Mi=null,cC=0,rh=1/0,va=null,C1=!1,wb=null,Ql=null,_v=!1,Ul=null,E1=0,fm=0,Sb=null,Gy=-1,Hy=0;function pi(){return Vt&6?Jn():Gy!==-1?Gy:Gy=Jn()}function ql(n){return n.mode&1?Vt&2&&Rr!==0?Rr&-Rr:JH.transition!==null?(Hy===0&&(Hy=IF()),Hy):(n=Yt,n!==0||(n=window.event,n=n===void 0?16:GF(n.type)),n):1}function mo(n,e,t,r){if(50<fm)throw fm=0,Sb=null,Error(Ge(185));Pg(n,t,r),(!(Vt&2)||n!==Sr)&&(n===Sr&&(!(Vt&2)&&(T_|=t),ur===4&&Fl(n,Rr)),Ii(n,r),t===1&&Vt===0&&!(e.mode&1)&&(rh=Jn()+500,b_&&Ac()))}function Ii(n,e){var t=n.callbackNode;J9(n,e);var r=u1(n,n===Sr?Rr:0);if(r===0)t!==null&&rP(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&rP(t),e===1)n.tag===0?XH(KP.bind(null,n)):oO(KP.bind(null,n)),VH(function(){!(Vt&6)&&Ac()}),t=null;else{switch(kF(r)){case 1:t=k2;break;case 4:t=BF;break;case 16:t=c1;break;case 536870912:t=LF;break;default:t=c1}t=s4(t,qO.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function qO(n,e){if(Gy=-1,Hy=0,Vt&6)throw Error(Ge(327));var t=n.callbackNode;if(Gd()&&n.callbackNode!==t)return null;var r=u1(n,n===Sr?Rr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=T1(n,r);else{e=r;var i=Vt;Vt|=2;var s=e4();(Sr!==n||Rr!==e)&&(va=null,rh=Jn()+500,Eu(n,e));do try{pV();break}catch(a){ZO(n,a)}while(1);J2(),M1.current=s,Vt=i,rr!==null?e=0:(Sr=null,Rr=0,e=ur)}if(e!==0){if(e===2&&(i=KA(n),i!==0&&(r=i,e=Ab(n,i))),e===1)throw t=Km,Eu(n,0),Fl(n,r),Ii(n,Jn()),t;if(e===6)Fl(n,r);else{if(i=n.current.alternate,!(r&30)&&!dV(i)&&(e=T1(n,r),e===2&&(s=KA(n),s!==0&&(r=s,e=Ab(n,s))),e===1))throw t=Km,Eu(n,0),Fl(n,r),Ii(n,Jn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ge(345));case 2:ou(n,Mi,va);break;case 3:if(Fl(n,r),(r&130023424)===r&&(e=cC+500-Jn(),10<e)){if(u1(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){pi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=rb(ou.bind(null,n,Mi,va),e);break}ou(n,Mi,va);break;case 4:if(Fl(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-po(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fV(r/1960))-r,10<r){n.timeoutHandle=rb(ou.bind(null,n,Mi,va),r);break}ou(n,Mi,va);break;case 5:ou(n,Mi,va);break;default:throw Error(Ge(329))}}}return Ii(n,Jn()),n.callbackNode===t?qO.bind(null,n):null}function Ab(n,e){var t=um;return n.current.memoizedState.isDehydrated&&(Eu(n,e).flags|=256),n=T1(n,e),n!==2&&(e=Mi,Mi=t,e!==null&&bb(e)),n}function bb(n){Mi===null?Mi=n:Mi.push.apply(Mi,n)}function dV(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!xo(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fl(n,e){for(e&=~lC,e&=~T_,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-po(e),r=1<<t;n[t]=-1,e&=~r}}function KP(n){if(Vt&6)throw Error(Ge(327));Gd();var e=u1(n,0);if(!(e&1))return Ii(n,Jn()),null;var t=T1(n,e);if(n.tag!==0&&t===2){var r=KA(n);r!==0&&(e=r,t=Ab(n,r))}if(t===1)throw t=Km,Eu(n,0),Fl(n,e),Ii(n,Jn()),t;if(t===6)throw Error(Ge(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ou(n,Mi,va),Ii(n,Jn()),null}function uC(n,e){var t=Vt;Vt|=1;try{return n(e)}finally{Vt=t,Vt===0&&(rh=Jn()+500,b_&&Ac())}}function $u(n){Ul!==null&&Ul.tag===0&&!(Vt&6)&&Gd();var e=Vt;Vt|=1;var t=$s.transition,r=Yt;try{if($s.transition=null,Yt=1,n)return n()}finally{Yt=r,$s.transition=t,Vt=e,!(Vt&6)&&Ac()}}function fC(){qi=Ad.current,hn(Ad)}function Eu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,HH(t)),rr!==null)for(t=rr.return;t!==null;){var r=t;switch(j2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&m1();break;case 3:th(),hn(Bi),hn(Jr),eC();break;case 5:Z2(r);break;case 4:th();break;case 13:hn(bn);break;case 19:hn(bn);break;case 10:K2(r.type._context);break;case 22:case 23:fC()}t=t.return}if(Sr=n,rr=n=Zl(n.current,null),Rr=qi=e,ur=0,Km=null,lC=T_=ju=0,Mi=um=null,mu!==null){for(e=0;e<mu.length;e++)if(t=mu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}mu=null}return n}function ZO(n,e){do{var t=rr;try{if(J2(),Ny.current=b1,A1){for(var r=Rn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}A1=!1}if(Wu=0,xr=lr=Rn=null,lm=!1,$m=0,aC.current=null,t===null||t.return===null){ur=1,Km=e,rr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Rr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=FP(o);if(p!==null){p.flags&=-257,OP(p,o,a,s,e),p.mode&1&&kP(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){kP(s,c,e),dC();break e}l=Error(Ge(426))}}else if(yn&&a.mode&1){var y=FP(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),OP(y,o,a,s,e),$2(nh(l,a));break e}}s=l=nh(l,a),ur!==4&&(ur=2),um===null?um=[s]:um.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=FO(s,l,e);TP(s,_);break e;case 1:a=l;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ql===null||!Ql.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=OO(s,a,e);TP(s,A);break e}}s=s.return}while(s!==null)}n4(t)}catch(C){e=C,rr===t&&t!==null&&(rr=t=t.return);continue}break}while(1)}function e4(){var n=M1.current;return M1.current=b1,n===null?b1:n}function dC(){(ur===0||ur===3||ur===2)&&(ur=4),Sr===null||!(ju&268435455)&&!(T_&268435455)||Fl(Sr,Rr)}function T1(n,e){var t=Vt;Vt|=2;var r=e4();(Sr!==n||Rr!==e)&&(va=null,Eu(n,e));do try{hV();break}catch(i){ZO(n,i)}while(1);if(J2(),Vt=t,M1.current=r,rr!==null)throw Error(Ge(261));return Sr=null,Rr=0,ur}function hV(){for(;rr!==null;)t4(rr)}function pV(){for(;rr!==null&&!U9();)t4(rr)}function t4(n){var e=i4(n.alternate,n,qi);n.memoizedProps=n.pendingProps,e===null?n4(n):rr=e,aC.current=null}function n4(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=aV(t,e),t!==null){t.flags&=32767,rr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ur=6,rr=null;return}}else if(t=oV(t,e,qi),t!==null){rr=t;return}if(e=e.sibling,e!==null){rr=e;return}rr=e=n}while(e!==null);ur===0&&(ur=5)}function ou(n,e,t){var r=Yt,i=$s.transition;try{$s.transition=null,Yt=1,mV(n,e,t,r)}finally{$s.transition=i,Yt=r}return null}function mV(n,e,t,r){do Gd();while(Ul!==null);if(Vt&6)throw Error(Ge(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ge(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(K9(n,s),n===Sr&&(rr=Sr=null,Rr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||_v||(_v=!0,s4(c1,function(){return Gd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=$s.transition,$s.transition=null;var o=Yt;Yt=1;var a=Vt;Vt|=4,aC.current=null,cV(n,t),YO(t,n),kH(tb),f1=!!eb,tb=eb=null,n.current=t,uV(t),z9(),Vt=a,Yt=o,$s.transition=s}else n.current=t;if(_v&&(_v=!1,Ul=n,E1=i),s=n.pendingLanes,s===0&&(Ql=null),V9(t.stateNode),Ii(n,Jn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(C1)throw C1=!1,n=wb,wb=null,n;return E1&1&&n.tag!==0&&Gd(),s=n.pendingLanes,s&1?n===Sb?fm++:(fm=0,Sb=n):fm=0,Ac(),null}function Gd(){if(Ul!==null){var n=kF(E1),e=$s.transition,t=Yt;try{if($s.transition=null,Yt=16>n?16:n,Ul===null)var r=!1;else{if(n=Ul,Ul=null,E1=0,Vt&6)throw Error(Ge(331));var i=Vt;for(Vt|=4,tt=n.current;tt!==null;){var s=tt,o=s.child;if(tt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(tt=c;tt!==null;){var u=tt;switch(u.tag){case 0:case 11:case 15:cm(8,u,s)}var f=u.child;if(f!==null)f.return=u,tt=f;else for(;tt!==null;){u=tt;var d=u.sibling,p=u.return;if(XO(u),u===c){tt=null;break}if(d!==null){d.return=p,tt=d;break}tt=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,tt=o;else e:for(;tt!==null;){if(s=tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cm(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,tt=_;break e}tt=s.return}}var x=n.current;for(tt=x;tt!==null;){o=tt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,tt=w;else e:for(o=x;tt!==null;){if(a=tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:E_(9,a)}}catch(C){kn(a,a.return,C)}if(a===o){tt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,tt=A;break e}tt=a.return}}if(Vt=i,Ac(),Ho&&typeof Ho.onPostCommitFiberRoot=="function")try{Ho.onPostCommitFiberRoot(__,n)}catch{}r=!0}return r}finally{Yt=t,$s.transition=e}}return!1}function YP(n,e,t){e=nh(t,e),e=FO(n,e,1),n=Yl(n,e,1),e=pi(),n!==null&&(Pg(n,1,e),Ii(n,e))}function kn(n,e,t){if(n.tag===3)YP(n,n,t);else for(;e!==null;){if(e.tag===3){YP(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ql===null||!Ql.has(r))){n=nh(t,n),n=OO(e,n,1),e=Yl(e,n,1),n=pi(),e!==null&&(Pg(e,1,n),Ii(e,n));break}}e=e.return}}function gV(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=pi(),n.pingedLanes|=n.suspendedLanes&t,Sr===n&&(Rr&t)===t&&(ur===4||ur===3&&(Rr&130023424)===Rr&&500>Jn()-cC?Eu(n,0):lC|=t),Ii(n,e)}function r4(n,e){e===0&&(n.mode&1?(e=cv,cv<<=1,!(cv&130023424)&&(cv=4194304)):e=1);var t=pi();n=Ha(n,e),n!==null&&(Pg(n,e,t),Ii(n,t))}function vV(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),r4(n,t)}function yV(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(e),r4(n,t)}var i4;i4=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Bi.current)Pi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Pi=!1,sV(n,e,t);Pi=!!(n.flags&131072)}else Pi=!1,yn&&e.flags&1048576&&aO(e,y1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zy(n,e),n=e.pendingProps;var i=qd(e,Jr.current);zd(e,t),i=nC(null,e,r,n,i,t);var s=rC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Li(r)?(s=!0,g1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Q2(e),i.updater=M_,e.stateNode=i,i._reactInternals=e,ub(e,r,n,t),e=hb(null,e,r,!0,s,t)):(e.tag=0,yn&&s&&W2(e),fi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(zy(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xV(r),n=lo(r,n),i){case 0:e=db(null,e,r,n,t);break e;case 1:e=zP(null,e,r,n,t);break e;case 11:e=NP(null,e,r,n,t);break e;case 14:e=UP(null,e,r,lo(r.type,n),t);break e}throw Error(Ge(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),db(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),zP(n,e,r,i,t);case 3:e:{if(GO(e),n===null)throw Error(Ge(387));r=e.pendingProps,s=e.memoizedState,i=s.element,fO(n,e),w1(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=nh(Error(Ge(423)),e),e=GP(n,e,r,t,i);break e}else if(r!==i){i=nh(Error(Ge(424)),e),e=GP(n,e,r,t,i);break e}else for(ts=Kl(e.stateNode.containerInfo.firstChild),is=e,yn=!0,uo=null,t=mO(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Zd(),r===i){e=Va(n,e,t);break e}fi(n,e,r,t)}e=e.child}return e;case 5:return gO(e),n===null&&ab(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,nb(r,i)?o=null:s!==null&&nb(r,s)&&(e.flags|=32),zO(n,e),fi(n,e,o,t),e.child;case 6:return n===null&&ab(e),null;case 13:return HO(n,e,t);case 4:return q2(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=eh(e,null,r,t):fi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),NP(n,e,r,i,t);case 7:return fi(n,e,e.pendingProps,t),e.child;case 8:return fi(n,e,e.pendingProps.children,t),e.child;case 12:return fi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ln(_1,r._currentValue),r._currentValue=o,s!==null)if(xo(s.value,o)){if(s.children===i.children&&!Bi.current){e=Va(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ra(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),lb(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ge(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),lb(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zd(e,t),i=Xs(i),r=r(i),e.flags|=1,fi(n,e,r,t),e.child;case 14:return r=e.type,i=lo(r,e.pendingProps),i=lo(r.type,i),UP(n,e,r,i,t);case 15:return NO(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),zy(n,e),e.tag=1,Li(r)?(n=!0,g1(e)):n=!1,zd(e,t),hO(e,r,i),ub(e,r,i,t),hb(null,e,r,!0,n,t);case 19:return VO(n,e,t);case 22:return UO(n,e,t)}throw Error(Ge(156,e.tag))};function s4(n,e){return DF(n,e)}function _V(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zs(n,e,t,r){return new _V(n,e,t,r)}function hC(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xV(n){if(typeof n=="function")return hC(n)?1:0;if(n!=null){if(n=n.$$typeof,n===B2)return 11;if(n===L2)return 14}return 2}function Zl(n,e){var t=n.alternate;return t===null?(t=zs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Vy(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")hC(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case hd:return Tu(t.children,i,s,e);case D2:o=8,i|=8;break;case IA:return n=zs(12,t,e,i|2),n.elementType=IA,n.lanes=s,n;case kA:return n=zs(13,t,e,i),n.elementType=kA,n.lanes=s,n;case FA:return n=zs(19,t,e,i),n.elementType=FA,n.lanes=s,n;case pF:return P_(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case dF:o=10;break e;case hF:o=9;break e;case B2:o=11;break e;case L2:o=14;break e;case Dl:o=16,r=null;break e}throw Error(Ge(130,n==null?n:typeof n,""))}return e=zs(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Tu(n,e,t,r){return n=zs(7,n,r,e),n.lanes=t,n}function P_(n,e,t,r){return n=zs(22,n,r,e),n.elementType=pF,n.lanes=t,n.stateNode={isHidden:!1},n}function Uw(n,e,t){return n=zs(6,n,null,e),n.lanes=t,n}function zw(n,e,t){return e=zs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function wV(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xw(0),this.expirationTimes=xw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pC(n,e,t,r,i,s,o,a,l){return n=new wV(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Q2(s),n}function SV(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dd,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function o4(n){if(!n)return sc;n=n._reactInternals;e:{if(rf(n)!==n||n.tag!==1)throw Error(Ge(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Li(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ge(171))}if(n.tag===1){var t=n.type;if(Li(t))return sO(n,t,e)}return e}function a4(n,e,t,r,i,s,o,a,l){return n=pC(t,r,!0,n,i,s,o,a,l),n.context=o4(null),t=n.current,r=pi(),i=ql(t),s=Ra(r,i),s.callback=e??null,Yl(t,s,i),n.current.lanes=i,Pg(n,i,r),Ii(n,r),n}function R_(n,e,t,r){var i=e.current,s=pi(),o=ql(i);return t=o4(t),e.context===null?e.context=t:e.pendingContext=t,e=Ra(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Yl(i,e,o),n!==null&&(mo(n,i,o,s),Oy(n,i,o)),o}function P1(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function QP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function mC(n,e){QP(n,e),(n=n.alternate)&&QP(n,e)}function AV(){return null}var l4=typeof reportError=="function"?reportError:function(n){console.error(n)};function gC(n){this._internalRoot=n}D_.prototype.render=gC.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ge(409));R_(n,e,null,null)};D_.prototype.unmount=gC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;$u(function(){R_(null,n,null,null)}),e[Ga]=null}};function D_(n){this._internalRoot=n}D_.prototype.unstable_scheduleHydration=function(n){if(n){var e=NF();n={blockedOn:null,target:n,priority:e};for(var t=0;t<kl.length&&e!==0&&e<kl[t].priority;t++);kl.splice(t,0,n),t===0&&zF(n)}};function vC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function B_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function qP(){}function bV(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=P1(o);s.call(c)}}var o=a4(e,r,n,0,null,!1,!1,"",qP);return n._reactRootContainer=o,n[Ga]=o.current,Gm(n.nodeType===8?n.parentNode:n),$u(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=P1(l);a.call(c)}}var l=pC(n,0,!1,null,null,!1,!1,"",qP);return n._reactRootContainer=l,n[Ga]=l.current,Gm(n.nodeType===8?n.parentNode:n),$u(function(){R_(e,l,t,r)}),l}function L_(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=P1(o);a.call(l)}}R_(e,o,n,i)}else o=bV(t,e,n,i,r);return P1(o)}FF=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Yp(e.pendingLanes);t!==0&&(F2(e,t|1),Ii(e,Jn()),!(Vt&6)&&(rh=Jn()+500,Ac()))}break;case 13:$u(function(){var r=Ha(n,1);if(r!==null){var i=pi();mo(r,n,1,i)}}),mC(n,1)}};O2=function(n){if(n.tag===13){var e=Ha(n,134217728);if(e!==null){var t=pi();mo(e,n,134217728,t)}mC(n,134217728)}};OF=function(n){if(n.tag===13){var e=ql(n),t=Ha(n,e);if(t!==null){var r=pi();mo(t,n,e,r)}mC(n,e)}};NF=function(){return Yt};UF=function(n,e){var t=Yt;try{return Yt=n,e()}finally{Yt=t}};$A=function(n,e,t){switch(e){case"input":if(UA(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=A_(r);if(!i)throw Error(Ge(90));gF(r),UA(r,i)}}}break;case"textarea":yF(n,t);break;case"select":e=t.value,e!=null&&Fd(n,!!t.multiple,e,!1)}};MF=uC;CF=$u;var MV={usingClientEntryPoint:!1,Events:[Dg,vd,A_,AF,bF,uC]},xp={findFiberByHostInstance:pu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},CV={bundleType:xp.bundleType,version:xp.version,rendererPackageName:xp.rendererPackageName,rendererConfig:xp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qa.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=PF(n),n===null?null:n.stateNode},findFiberByHostInstance:xp.findFiberByHostInstance||AV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xv.isDisabled&&xv.supportsFiber)try{__=xv.inject(CV),Ho=xv}catch{}}us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MV;us.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vC(e))throw Error(Ge(200));return SV(n,e,null,t)};us.createRoot=function(n,e){if(!vC(n))throw Error(Ge(299));var t=!1,r="",i=l4;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pC(n,1,!1,null,null,t,!1,r,i),n[Ga]=e.current,Gm(n.nodeType===8?n.parentNode:n),new gC(e)};us.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ge(188)):(n=Object.keys(n).join(","),Error(Ge(268,n)));return n=PF(e),n=n===null?null:n.stateNode,n};us.flushSync=function(n){return $u(n)};us.hydrate=function(n,e,t){if(!B_(e))throw Error(Ge(200));return L_(null,n,e,!0,t)};us.hydrateRoot=function(n,e,t){if(!vC(n))throw Error(Ge(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=l4;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=a4(e,null,n,1,t??null,i,!1,s,o),n[Ga]=e.current,Gm(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new D_(e)};us.render=function(n,e,t){if(!B_(e))throw Error(Ge(200));return L_(null,n,e,!1,t)};us.unmountComponentAtNode=function(n){if(!B_(n))throw Error(Ge(40));return n._reactRootContainer?($u(function(){L_(null,null,n,!1,function(){n._reactRootContainer=null,n[Ga]=null})}),!0):!1};us.unstable_batchedUpdates=uC;us.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!B_(t))throw Error(Ge(200));if(n==null||n._reactInternals===void 0)throw Error(Ge(38));return L_(n,e,t,!1,r)};us.version="18.2.0-next-9e3b772b8-20220608";function c4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c4)}catch(n){console.error(n)}}c4(),aF.exports=us;var Lg=aF.exports;const u4=Sh(Lg);var f4,ZP=Lg;f4=BA.createRoot=ZP.createRoot,BA.hydrateRoot=ZP.hydrateRoot;function Xt(){return Xt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xt.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ch="146",EV={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TV={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},d4=0,Mb=1,h4=2,PV=3,p4=0,I_=1,dm=2,vu=3,Wa=0,mi=1,Gs=2,Da=0,Pu=1,Cb=2,Eb=3,Tb=4,m4=5,du=100,g4=101,v4=102,Pb=103,Rb=104,y4=200,_4=201,x4=202,w4=203,yC=204,_C=205,S4=206,A4=207,b4=208,M4=209,C4=210,E4=0,T4=1,P4=2,R1=3,R4=4,D4=5,B4=6,L4=7,Ig=0,I4=1,k4=2,go=0,F4=1,O4=2,N4=3,xC=4,U4=5,k_=300,oc=301,ac=302,ih=303,Ym=304,Eh=306,Jo=1e3,cr=1001,sh=1002,Kn=1003,Qm=1004,RV=1004,qm=1005,DV=1005,fn=1006,F_=1007,BV=1007,Za=1008,LV=1008,ja=1009,z4=1010,G4=1011,wC=1012,H4=1013,zl=1014,Ea=1015,oh=1016,V4=1017,W4=1018,Ru=1020,j4=1021,$4=1022,Ci=1023,X4=1024,J4=1025,ec=1026,Xu=1027,K4=1028,Y4=1029,Q4=1030,q4=1031,Z4=1033,Wy=33776,jy=33777,$y=33778,Xy=33779,Db=35840,Bb=35841,Lb=35842,Ib=35843,eN=36196,kb=37492,Fb=37496,Ob=37808,Nb=37809,Ub=37810,zb=37811,Gb=37812,Hb=37813,Vb=37814,Wb=37815,jb=37816,$b=37817,Xb=37818,Jb=37819,Kb=37820,Yb=37821,Qb=36492,tN=2200,nN=2201,rN=2202,ah=2300,Ju=2301,Jy=2302,yu=2400,_u=2401,Zm=2402,O_=2500,SC=2501,iN=0,AC=1,D1=2,lc=3e3,vn=3001,sN=3200,bC=3201,bc=0,oN=1,IV="",No="srgb",Gl="srgb-linear",kV=0,Ky=7680,FV=7681,OV=7682,NV=7683,UV=34055,zV=34056,GV=5386,HV=512,VV=513,WV=514,jV=515,$V=516,XV=517,JV=518,aN=519,eg=35044,KV=35048,YV=35040,QV=35045,qV=35049,ZV=35041,eW=35046,tW=35050,nW=35042,rW="100",qb="300 es",B1=1035;class el{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const zr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let eR=1234567;const Du=Math.PI/180,tg=180/Math.PI;function ss(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(zr[n&255]+zr[n>>8&255]+zr[n>>16&255]+zr[n>>24&255]+"-"+zr[e&255]+zr[e>>8&255]+"-"+zr[e>>16&15|64]+zr[e>>24&255]+"-"+zr[t&63|128]+zr[t>>8&255]+"-"+zr[t>>16&255]+zr[t>>24&255]+zr[r&255]+zr[r>>8&255]+zr[r>>16&255]+zr[r>>24&255]).toLowerCase()}function Yn(n,e,t){return Math.max(e,Math.min(t,n))}function MC(n,e){return(n%e+e)%e}function iW(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function sW(n,e,t){return n!==e?(t-n)/(e-n):0}function hm(n,e,t){return(1-t)*n+t*e}function oW(n,e,t,r){return hm(n,e,1-Math.exp(-t*r))}function aW(n,e=1){return e-Math.abs(MC(n,e*2)-e)}function lW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function cW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function uW(n,e){return n+Math.floor(Math.random()*(e-n+1))}function fW(n,e){return n+Math.random()*(e-n)}function dW(n){return n*(.5-Math.random())}function hW(n){n!==void 0&&(eR=n);let e=eR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function pW(n){return n*Du}function mW(n){return n*tg}function Zb(n){return(n&n-1)===0&&n!==0}function lN(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function L1(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function gW(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),d=o((e-r)/2),p=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*f,l*d,a*c);break;case"YZY":n.set(l*d,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*d,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*p,a*c);break;case"YXY":n.set(l*p,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ta(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function rn(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var Ei=Object.freeze({__proto__:null,DEG2RAD:Du,RAD2DEG:tg,generateUUID:ss,clamp:Yn,euclideanModulo:MC,mapLinear:iW,inverseLerp:sW,lerp:hm,damp:oW,pingpong:aW,smoothstep:lW,smootherstep:cW,randInt:uW,randFloat:fW,randFloatSpread:dW,seededRandom:hW,degToRad:pW,radToDeg:mW,isPowerOfTwo:Zb,ceilPowerOfTwo:lN,floorPowerOfTwo:L1,setQuaternionFromProperEuler:gW,normalize:rn,denormalize:Ta});class Le{constructor(e=0,t=0){Le.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Wr{constructor(){Wr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],p=r[5],g=r[8],v=i[0],y=i[3],_=i[6],x=i[1],w=i[4],A=i[7],C=i[2],E=i[5],P=i[8];return s[0]=o*v+a*x+l*C,s[3]=o*y+a*w+l*E,s[6]=o*_+a*A+l*P,s[1]=c*v+u*x+f*C,s[4]=c*y+u*w+f*E,s[7]=c*_+u*A+f*P,s[2]=d*v+p*x+g*C,s[5]=d*y+p*w+g*E,s[8]=d*_+p*A+g*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,d=a*l-u*s,p=c*s-o*l,g=t*f+r*d+i*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=f*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*o)*v,e[3]=d*v,e[4]=(u*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=p*v,e[7]=(r*l-c*t)*v,e[8]=(o*t-r*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*c,i[6]=t*a+r*u,i[1]=-r*s+t*l,i[4]=-r*o+t*c,i[7]=-r*a+t*u,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function cN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const vW={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function bd(n,e){return new vW[n](e)}function ng(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Bu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Yy(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Gw={[No]:{[Gl]:Bu},[Gl]:{[No]:Yy}},Ps={legacyMode:!0,get workingColorSpace(){return Gl},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(Gw[e]&&Gw[e][t]!==void 0){const r=Gw[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},uN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ar={r:0,g:0,b:0},ro={h:0,s:0,l:0},wv={h:0,s:0,l:0};function Hw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Sv(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let He=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=No){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ps.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Gl){return this.r=e,this.g=t,this.b=r,Ps.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Gl){if(e=MC(e,1),t=Yn(t,0,1),r=Yn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=Hw(o,s,e+1/3),this.g=Hw(o,s,e),this.b=Hw(o,s,e-1/3)}return Ps.toWorkingColorSpace(this,i),this}setStyle(e,t=No){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Ps.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Ps.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Ps.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Ps.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=No){const r=uN[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Bu(e.r),this.g=Bu(e.g),this.b=Bu(e.b),this}copyLinearToSRGB(e){return this.r=Yy(e.r),this.g=Yy(e.g),this.b=Yy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=No){return Ps.fromWorkingColorSpace(Sv(this,ar),e),Yn(ar.r*255,0,255)<<16^Yn(ar.g*255,0,255)<<8^Yn(ar.b*255,0,255)<<0}getHexString(e=No){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Gl){Ps.fromWorkingColorSpace(Sv(this,ar),t);const r=ar.r,i=ar.g,s=ar.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Gl){return Ps.fromWorkingColorSpace(Sv(this,ar),t),e.r=ar.r,e.g=ar.g,e.b=ar.b,e}getStyle(e=No){return Ps.fromWorkingColorSpace(Sv(this,ar),e),e!==No?`color(${e} ${ar.r} ${ar.g} ${ar.b})`:`rgb(${ar.r*255|0},${ar.g*255|0},${ar.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(ro),ro.h+=e,ro.s+=t,ro.l+=r,this.setHSL(ro.h,ro.s,ro.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ro),e.getHSL(wv);const r=hm(ro.h,wv.h,t),i=hm(ro.s,wv.s,t),s=hm(ro.l,wv.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};He.NAMES=uN;let If;class CC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{If===void 0&&(If=ng("canvas")),If.width=e.width,If.height=e.height;const r=If.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=If}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ng("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Bu(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Bu(t[r]/255)*255):t[r]=Bu(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class xu{constructor(e=null){this.isSource=!0,this.uuid=ss(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Vw(i[o].image)):s.push(Vw(i[o]))}else s=Vw(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function Vw(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?CC.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let yW=0;class on extends el{constructor(e=on.DEFAULT_IMAGE,t=on.DEFAULT_MAPPING,r=cr,i=cr,s=fn,o=Za,a=Ci,l=ja,c=1,u=lc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:yW++}),this.uuid=ss(),this.name="",this.source=new xu(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Wr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==k_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Jo:e.x=e.x-Math.floor(e.x);break;case cr:e.x=e.x<0?0:1;break;case sh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Jo:e.y=e.y-Math.floor(e.y);break;case cr:e.y=e.y<0?0:1;break;case sh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}on.DEFAULT_IMAGE=null;on.DEFAULT_MAPPING=k_;class Pt{constructor(e=0,t=0,r=0,i=1){Pt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],p=l[5],g=l[9],v=l[2],y=l[6],_=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+v)<.1&&Math.abs(g+y)<.1&&Math.abs(c+p+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,A=(p+1)/2,C=(_+1)/2,E=(u+d)/4,P=(f+v)/4,M=(g+y)/4;return w>A&&w>C?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=E/r,s=P/r):A>C?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=E/i,s=M/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=P/s,i=M/s),this.set(r,i,s,t),this}let x=Math.sqrt((y-g)*(y-g)+(f-v)*(f-v)+(d-u)*(d-u));return Math.abs(x)<.001&&(x=1),this.x=(y-g)/x,this.y=(f-v)/x,this.z=(d-u)/x,this.w=Math.acos((c+p+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ks extends el{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Pt(0,0,e,t),this.scissorTest=!1,this.viewport=new Pt(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new on(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:fn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new xu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class kg extends on{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Kn,this.minFilter=Kn,this.wrapR=cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _W extends Ks{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new kg(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class N_ extends on{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Kn,this.minFilter=Kn,this.wrapR=cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xW extends Ks{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new N_(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class wW extends Ks{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class pn{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=s[o+0],p=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=d,e[t+1]=p,e[t+2]=g,e[t+3]=v;return}if(f!==v||l!==d||c!==p||u!==g){let y=1-a;const _=l*d+c*p+u*g+f*v,x=_>=0?1:-1,w=1-_*_;if(w>Number.EPSILON){const C=Math.sqrt(w),E=Math.atan2(C,_*x);y=Math.sin(y*E)/C,a=Math.sin(a*E)/C}const A=a*x;if(l=l*y+d*A,c=c*y+p*A,u=u*y+g*A,f=f*y+v*A,y===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=C,c*=C,u*=C,f*=C}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],d=s[o+1],p=s[o+2],g=s[o+3];return e[t]=a*g+u*f+l*p-c*d,e[t+1]=l*g+u*d+c*f-a*p,e[t+2]=c*g+u*p+a*d-l*f,e[t+3]=u*g-a*f-l*d-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),d=l(r/2),p=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=d*u*f+c*p*g,this._y=c*p*f-d*u*g,this._z=c*u*g+d*p*f,this._w=c*u*f-d*p*g;break;case"YXZ":this._x=d*u*f+c*p*g,this._y=c*p*f-d*u*g,this._z=c*u*g-d*p*f,this._w=c*u*f+d*p*g;break;case"ZXY":this._x=d*u*f-c*p*g,this._y=c*p*f+d*u*g,this._z=c*u*g+d*p*f,this._w=c*u*f-d*p*g;break;case"ZYX":this._x=d*u*f-c*p*g,this._y=c*p*f+d*u*g,this._z=c*u*g-d*p*f,this._w=c*u*f+d*p*g;break;case"YZX":this._x=d*u*f+c*p*g,this._y=c*p*f+d*u*g,this._z=c*u*g-d*p*f,this._w=c*u*f-d*p*g;break;case"XZY":this._x=d*u*f-c*p*g,this._y=c*p*f-d*u*g,this._z=c*u*g+d*p*f,this._w=c*u*f+d*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],d=r+a+f;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(o-i)*p}else if(r>a&&r>f){const p=2*Math.sqrt(1+r-a-f);this._w=(u-l)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+c)/p}else if(a>f){const p=2*Math.sqrt(1+a-r-f);this._w=(s-c)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+f-r-a);this._w=(o-i)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Yn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*r+t*this._x,this._y=p*i+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ${constructor(e=0,t=0,r=0){$.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(tR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(tR.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,f=l*i+s*r-o*t,d=-s*t-o*r-a*i;return this.x=c*l+d*-s+u*-a-f*-o,this.y=u*l+d*-o+f*-s-c*-a,this.z=f*l+d*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Ww.copy(this).projectOnVector(e),this.sub(Ww)}reflect(e){return this.sub(Ww.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Yn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ww=new $,tR=new pn;class tl{constructor(e=new $(1/0,1/0,1/0),t=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],f=e[l+1],d=e[l+2];u<t&&(t=u),f<r&&(r=f),d<i&&(i=d),u>s&&(s=u),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),f=e.getY(l),d=e.getZ(l);u<t&&(t=u),f<r&&(r=f),d<i&&(i=d),u>s&&(s=u),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=jc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)jc.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(jc)}else r.boundingBox===null&&r.computeBoundingBox(),jw.copy(r.boundingBox),jw.applyMatrix4(e.matrixWorld),this.union(jw);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,jc),jc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(wp),Av.subVectors(this.max,wp),kf.subVectors(e.a,wp),Ff.subVectors(e.b,wp),Of.subVectors(e.c,wp),_l.subVectors(Ff,kf),xl.subVectors(Of,Ff),$c.subVectors(kf,Of);let t=[0,-_l.z,_l.y,0,-xl.z,xl.y,0,-$c.z,$c.y,_l.z,0,-_l.x,xl.z,0,-xl.x,$c.z,0,-$c.x,-_l.y,_l.x,0,-xl.y,xl.x,0,-$c.y,$c.x,0];return!$w(t,kf,Ff,Of,Av)||(t=[1,0,0,0,1,0,0,0,1],!$w(t,kf,Ff,Of,Av))?!1:(bv.crossVectors(_l,xl),t=[bv.x,bv.y,bv.z],$w(t,kf,Ff,Of,Av))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return jc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(jc).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ca[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ca[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ca[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ca[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ca[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ca[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ca[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ca[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ca),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ca=[new $,new $,new $,new $,new $,new $,new $,new $],jc=new $,jw=new tl,kf=new $,Ff=new $,Of=new $,_l=new $,xl=new $,$c=new $,wp=new $,Av=new $,bv=new $,Xc=new $;function $w(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Xc.fromArray(n,s);const a=i.x*Math.abs(Xc.x)+i.y*Math.abs(Xc.y)+i.z*Math.abs(Xc.z),l=e.dot(Xc),c=t.dot(Xc),u=r.dot(Xc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const SW=new tl,Sp=new $,Xw=new $;let nl=class{constructor(e=new $,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):SW.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Sp.subVectors(e,this.center);const t=Sp.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Sp,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Xw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Sp.copy(e.center).add(Xw)),this.expandByPoint(Sp.copy(e.center).sub(Xw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const ua=new $,Jw=new $,Mv=new $,wl=new $,Kw=new $,Cv=new $,Yw=new $;class Fg{constructor(e=new $,t=new $(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ua)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ua.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ua.copy(this.direction).multiplyScalar(t).add(this.origin),ua.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Jw.copy(e).add(t).multiplyScalar(.5),Mv.copy(t).sub(e).normalize(),wl.copy(this.origin).sub(Jw);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Mv),a=wl.dot(this.direction),l=-wl.dot(Mv),c=wl.lengthSq(),u=Math.abs(1-o*o);let f,d,p,g;if(u>0)if(f=o*l-a,d=o*a-l,g=s*u,f>=0)if(d>=-g)if(d<=g){const v=1/u;f*=v,d*=v,p=f*(f+o*d+2*a)+d*(o*f+d+2*l)+c}else d=s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;else d=-s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;else d<=-g?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+c):d<=g?(f=0,d=Math.min(Math.max(-s,-l),s),p=d*(d+2*l)+c):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+c);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(f).add(this.origin),i&&i.copy(Mv).multiplyScalar(d).add(Jw),p}intersectSphere(e,t){ua.subVectors(e.center,this.origin);const r=ua.dot(this.direction),i=ua.dot(ua)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,ua)!==null}intersectTriangle(e,t,r,i,s){Kw.subVectors(t,e),Cv.subVectors(r,e),Yw.crossVectors(Kw,Cv);let o=this.direction.dot(Yw),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;wl.subVectors(this.origin,e);const l=a*this.direction.dot(Cv.crossVectors(wl,Cv));if(l<0)return null;const c=a*this.direction.dot(Kw.cross(wl));if(c<0||l+c>o)return null;const u=-a*wl.dot(Yw);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ze{constructor(){Ze.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,f,d,p,g,v,y){const _=this.elements;return _[0]=e,_[4]=t,_[8]=r,_[12]=i,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=c,_[6]=u,_[10]=f,_[14]=d,_[3]=p,_[7]=g,_[11]=v,_[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ze().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Nf.setFromMatrixColumn(e,0).length(),s=1/Nf.setFromMatrixColumn(e,1).length(),o=1/Nf.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*u,p=o*f,g=a*u,v=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=p+g*c,t[5]=d-v*c,t[9]=-a*l,t[2]=v-d*c,t[6]=g+p*c,t[10]=o*l}else if(e.order==="YXZ"){const d=l*u,p=l*f,g=c*u,v=c*f;t[0]=d+v*a,t[4]=g*a-p,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=p*a-g,t[6]=v+d*a,t[10]=o*l}else if(e.order==="ZXY"){const d=l*u,p=l*f,g=c*u,v=c*f;t[0]=d-v*a,t[4]=-o*f,t[8]=g+p*a,t[1]=p+g*a,t[5]=o*u,t[9]=v-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const d=o*u,p=o*f,g=a*u,v=a*f;t[0]=l*u,t[4]=g*c-p,t[8]=d*c+v,t[1]=l*f,t[5]=v*c+d,t[9]=p*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const d=o*l,p=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=v-d*f,t[8]=g*f+p,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=p*f+g,t[10]=d-v*f}else if(e.order==="XZY"){const d=o*l,p=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=d*f+v,t[5]=o*u,t[9]=p*f-g,t[2]=g*f-p,t[6]=a*u,t[10]=v*f+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(AW,e,bW)}lookAt(e,t,r){const i=this.elements;return Yi.subVectors(e,t),Yi.lengthSq()===0&&(Yi.z=1),Yi.normalize(),Sl.crossVectors(r,Yi),Sl.lengthSq()===0&&(Math.abs(r.z)===1?Yi.x+=1e-4:Yi.z+=1e-4,Yi.normalize(),Sl.crossVectors(r,Yi)),Sl.normalize(),Ev.crossVectors(Yi,Sl),i[0]=Sl.x,i[4]=Ev.x,i[8]=Yi.x,i[1]=Sl.y,i[5]=Ev.y,i[9]=Yi.y,i[2]=Sl.z,i[6]=Ev.z,i[10]=Yi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],p=r[13],g=r[2],v=r[6],y=r[10],_=r[14],x=r[3],w=r[7],A=r[11],C=r[15],E=i[0],P=i[4],M=i[8],T=i[12],D=i[1],F=i[5],L=i[9],N=i[13],k=i[2],V=i[6],W=i[10],K=i[14],H=i[3],U=i[7],z=i[11],G=i[15];return s[0]=o*E+a*D+l*k+c*H,s[4]=o*P+a*F+l*V+c*U,s[8]=o*M+a*L+l*W+c*z,s[12]=o*T+a*N+l*K+c*G,s[1]=u*E+f*D+d*k+p*H,s[5]=u*P+f*F+d*V+p*U,s[9]=u*M+f*L+d*W+p*z,s[13]=u*T+f*N+d*K+p*G,s[2]=g*E+v*D+y*k+_*H,s[6]=g*P+v*F+y*V+_*U,s[10]=g*M+v*L+y*W+_*z,s[14]=g*T+v*N+y*K+_*G,s[3]=x*E+w*D+A*k+C*H,s[7]=x*P+w*F+A*V+C*U,s[11]=x*M+w*L+A*W+C*z,s[15]=x*T+w*N+A*K+C*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],p=e[14],g=e[3],v=e[7],y=e[11],_=e[15];return g*(+s*l*f-i*c*f-s*a*d+r*c*d+i*a*p-r*l*p)+v*(+t*l*p-t*c*d+s*o*d-i*o*p+i*c*u-s*l*u)+y*(+t*c*f-t*a*p-s*o*f+r*o*p+s*a*u-r*c*u)+_*(-i*a*u-t*l*f+t*a*d+i*o*f-r*o*d+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],p=e[11],g=e[12],v=e[13],y=e[14],_=e[15],x=f*y*c-v*d*c+v*l*p-a*y*p-f*l*_+a*d*_,w=g*d*c-u*y*c-g*l*p+o*y*p+u*l*_-o*d*_,A=u*v*c-g*f*c+g*a*p-o*v*p-u*a*_+o*f*_,C=g*f*l-u*v*l-g*a*d+o*v*d+u*a*y-o*f*y,E=t*x+r*w+i*A+s*C;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/E;return e[0]=x*P,e[1]=(v*d*s-f*y*s-v*i*p+r*y*p+f*i*_-r*d*_)*P,e[2]=(a*y*s-v*l*s+v*i*c-r*y*c-a*i*_+r*l*_)*P,e[3]=(f*l*s-a*d*s-f*i*c+r*d*c+a*i*p-r*l*p)*P,e[4]=w*P,e[5]=(u*y*s-g*d*s+g*i*p-t*y*p-u*i*_+t*d*_)*P,e[6]=(g*l*s-o*y*s-g*i*c+t*y*c+o*i*_-t*l*_)*P,e[7]=(o*d*s-u*l*s+u*i*c-t*d*c-o*i*p+t*l*p)*P,e[8]=A*P,e[9]=(g*f*s-u*v*s-g*r*p+t*v*p+u*r*_-t*f*_)*P,e[10]=(o*v*s-g*a*s+g*r*c-t*v*c-o*r*_+t*a*_)*P,e[11]=(u*a*s-o*f*s-u*r*c+t*f*c+o*r*p-t*a*p)*P,e[12]=C*P,e[13]=(u*v*i-g*f*i+g*r*d-t*v*d-u*r*y+t*f*y)*P,e[14]=(g*a*i-o*v*i-g*r*l+t*v*l+o*r*y-t*a*y)*P,e[15]=(o*f*i-u*a*i+u*r*l-t*f*l-o*r*d+t*a*d)*P,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,d=s*c,p=s*u,g=s*f,v=o*u,y=o*f,_=a*f,x=l*c,w=l*u,A=l*f,C=r.x,E=r.y,P=r.z;return i[0]=(1-(v+_))*C,i[1]=(p+A)*C,i[2]=(g-w)*C,i[3]=0,i[4]=(p-A)*E,i[5]=(1-(d+_))*E,i[6]=(y+x)*E,i[7]=0,i[8]=(g+w)*P,i[9]=(y-x)*P,i[10]=(1-(d+v))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Nf.set(i[0],i[1],i[2]).length();const o=Nf.set(i[4],i[5],i[6]).length(),a=Nf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],io.copy(this);const c=1/s,u=1/o,f=1/a;return io.elements[0]*=c,io.elements[1]*=c,io.elements[2]*=c,io.elements[4]*=u,io.elements[5]*=u,io.elements[6]*=u,io.elements[8]*=f,io.elements[9]*=f,io.elements[10]*=f,t.setFromRotationMatrix(io),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),f=(r+i)/(r-i),d=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),f=(t+e)*l,d=(r+i)*c,p=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Nf=new $,io=new Ze,AW=new $(0,0,0),bW=new $(1,1,1),Sl=new $,Ev=new $,Yi=new $,nR=new Ze,rR=new pn;class ns{constructor(e=0,t=0,r=0,i=ns.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],p=i[10];switch(t){case"XYZ":this._y=Math.asin(Yn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Yn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Yn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Yn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Yn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-Yn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return nR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(nR,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return rR.setFromEuler(this),this.setFromQuaternion(rR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}ns.DefaultOrder="XYZ";ns.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Lu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let MW=0;const iR=new $,Uf=new pn,fa=new Ze,Tv=new $,Ap=new $,CW=new $,EW=new pn,sR=new $(1,0,0),oR=new $(0,1,0),aR=new $(0,0,1),TW={type:"added"},lR={type:"removed"};class Rt extends el{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:MW++}),this.uuid=ss(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Rt.DefaultUp.clone();const e=new $,t=new ns,r=new pn,i=new $(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ze},normalMatrix:{value:new Wr}}),this.matrix=new Ze,this.matrixWorld=new Ze,this.matrixAutoUpdate=Rt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Rt.DefaultMatrixWorldAutoUpdate,this.layers=new Lu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Uf.setFromAxisAngle(e,t),this.quaternion.multiply(Uf),this}rotateOnWorldAxis(e,t){return Uf.setFromAxisAngle(e,t),this.quaternion.premultiply(Uf),this}rotateX(e){return this.rotateOnAxis(sR,e)}rotateY(e){return this.rotateOnAxis(oR,e)}rotateZ(e){return this.rotateOnAxis(aR,e)}translateOnAxis(e,t){return iR.copy(e).applyQuaternion(this.quaternion),this.position.add(iR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(sR,e)}translateY(e){return this.translateOnAxis(oR,e)}translateZ(e){return this.translateOnAxis(aR,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(fa.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Tv.copy(e):Tv.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ap.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fa.lookAt(Ap,Tv,this.up):fa.lookAt(Tv,Ap,this.up),this.quaternion.setFromRotationMatrix(fa),i&&(fa.extractRotation(i.matrixWorld),Uf.setFromRotationMatrix(fa),this.quaternion.premultiply(Uf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(TW)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(lR)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(lR)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),fa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),fa.multiply(e.parent.matrixWorld)),e.applyMatrix4(fa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ap,e,CW),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ap,EW,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),d=o(e.skeletons),p=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Rt.DefaultUp=new $(0,1,0);Rt.DefaultMatrixAutoUpdate=!0;Rt.DefaultMatrixWorldAutoUpdate=!0;const so=new $,da=new $,Qw=new $,ha=new $,zf=new $,Gf=new $,cR=new $,qw=new $,Zw=new $,eS=new $;class Ns{constructor(e=new $,t=new $,r=new $){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),so.subVectors(e,t),i.cross(so);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){so.subVectors(i,t),da.subVectors(r,t),Qw.subVectors(e,t);const o=so.dot(so),a=so.dot(da),l=so.dot(Qw),c=da.dot(da),u=da.dot(Qw),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const d=1/f,p=(c*l-a*u)*d,g=(o*u-a*l)*d;return s.set(1-p-g,g,p)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,ha),ha.x>=0&&ha.y>=0&&ha.x+ha.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,ha),l.set(0,0),l.addScaledVector(s,ha.x),l.addScaledVector(o,ha.y),l.addScaledVector(a,ha.z),l}static isFrontFacing(e,t,r,i){return so.subVectors(r,t),da.subVectors(e,t),so.cross(da).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return so.subVectors(this.c,this.b),da.subVectors(this.a,this.b),so.cross(da).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ns.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ns.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Ns.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Ns.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ns.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;zf.subVectors(i,r),Gf.subVectors(s,r),qw.subVectors(e,r);const l=zf.dot(qw),c=Gf.dot(qw);if(l<=0&&c<=0)return t.copy(r);Zw.subVectors(e,i);const u=zf.dot(Zw),f=Gf.dot(Zw);if(u>=0&&f<=u)return t.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(zf,o);eS.subVectors(e,s);const p=zf.dot(eS),g=Gf.dot(eS);if(g>=0&&p<=g)return t.copy(s);const v=p*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(Gf,a);const y=u*g-p*f;if(y<=0&&f-u>=0&&p-g>=0)return cR.subVectors(s,i),a=(f-u)/(f-u+(p-g)),t.copy(i).addScaledVector(cR,a);const _=1/(y+v+d);return o=v*_,a=d*_,t.copy(r).addScaledVector(zf,o).addScaledVector(Gf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let PW=0;class ir extends el{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:PW++}),this.uuid=ss(),this.name="",this.type="Material",this.blending=Pu,this.side=Wa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=yC,this.blendDst=_C,this.blendEquation=du,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=R1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=aN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ky,this.stencilZFail=Ky,this.stencilZPass=Ky,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Pu&&(r.blending=this.blending),this.side!==Wa&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ri extends ir{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ig,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const er=new $,Pv=new Le;class $t{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=eg,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Pv.fromBufferAttribute(this,t),Pv.applyMatrix3(e),this.setXY(t,Pv.x,Pv.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)er.fromBufferAttribute(this,t),er.applyMatrix3(e),this.setXYZ(t,er.x,er.y,er.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)er.fromBufferAttribute(this,t),er.applyMatrix4(e),this.setXYZ(t,er.x,er.y,er.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)er.fromBufferAttribute(this,t),er.applyNormalMatrix(e),this.setXYZ(t,er.x,er.y,er.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)er.fromBufferAttribute(this,t),er.transformDirection(e),this.setXYZ(t,er.x,er.y,er.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ta(t,this.array)),t}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ta(t,this.array)),t}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ta(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ta(t,this.array)),t}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),r=rn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),r=rn(r,this.array),i=rn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),r=rn(r,this.array),i=rn(i,this.array),s=rn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==eg&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class RW extends $t{constructor(e,t,r){super(new Int8Array(e),t,r)}}class DW extends $t{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class BW extends $t{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class LW extends $t{constructor(e,t,r){super(new Int16Array(e),t,r)}}class U_ extends $t{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class IW extends $t{constructor(e,t,r){super(new Int32Array(e),t,r)}}class EC extends $t{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class kW extends $t{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class et extends $t{constructor(e,t,r){super(new Float32Array(e),t,r)}}class FW extends $t{constructor(e,t,r){super(new Float64Array(e),t,r)}}let OW=0;const Cs=new Ze,tS=new Rt,Hf=new $,Qi=new tl,bp=new tl,_r=new $;class gt extends el{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:OW++}),this.uuid=ss(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(cN(e)?EC:U_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Wr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Cs.makeRotationFromQuaternion(e),this.applyMatrix4(Cs),this}rotateX(e){return Cs.makeRotationX(e),this.applyMatrix4(Cs),this}rotateY(e){return Cs.makeRotationY(e),this.applyMatrix4(Cs),this}rotateZ(e){return Cs.makeRotationZ(e),this.applyMatrix4(Cs),this}translate(e,t,r){return Cs.makeTranslation(e,t,r),this.applyMatrix4(Cs),this}scale(e,t,r){return Cs.makeScale(e,t,r),this.applyMatrix4(Cs),this}lookAt(e){return tS.lookAt(e),tS.updateMatrix(),this.applyMatrix4(tS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hf).negate(),this.translate(Hf.x,Hf.y,Hf.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new et(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new tl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Qi.setFromBufferAttribute(s),this.morphTargetsRelative?(_r.addVectors(this.boundingBox.min,Qi.min),this.boundingBox.expandByPoint(_r),_r.addVectors(this.boundingBox.max,Qi.max),this.boundingBox.expandByPoint(_r)):(this.boundingBox.expandByPoint(Qi.min),this.boundingBox.expandByPoint(Qi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new nl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new $,1/0);return}if(e){const r=this.boundingSphere.center;if(Qi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];bp.setFromBufferAttribute(a),this.morphTargetsRelative?(_r.addVectors(Qi.min,bp.min),Qi.expandByPoint(_r),_r.addVectors(Qi.max,bp.max),Qi.expandByPoint(_r)):(Qi.expandByPoint(bp.min),Qi.expandByPoint(bp.max))}Qi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)_r.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(_r));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)_r.fromBufferAttribute(a,c),l&&(Hf.fromBufferAttribute(e,c),_r.add(Hf)),i=Math.max(i,r.distanceToSquared(_r))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new $t(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let D=0;D<a;D++)c[D]=new $,u[D]=new $;const f=new $,d=new $,p=new $,g=new Le,v=new Le,y=new Le,_=new $,x=new $;function w(D,F,L){f.fromArray(i,D*3),d.fromArray(i,F*3),p.fromArray(i,L*3),g.fromArray(o,D*2),v.fromArray(o,F*2),y.fromArray(o,L*2),d.sub(f),p.sub(f),v.sub(g),y.sub(g);const N=1/(v.x*y.y-y.x*v.y);isFinite(N)&&(_.copy(d).multiplyScalar(y.y).addScaledVector(p,-v.y).multiplyScalar(N),x.copy(p).multiplyScalar(v.x).addScaledVector(d,-y.x).multiplyScalar(N),c[D].add(_),c[F].add(_),c[L].add(_),u[D].add(x),u[F].add(x),u[L].add(x))}let A=this.groups;A.length===0&&(A=[{start:0,count:r.length}]);for(let D=0,F=A.length;D<F;++D){const L=A[D],N=L.start,k=L.count;for(let V=N,W=N+k;V<W;V+=3)w(r[V+0],r[V+1],r[V+2])}const C=new $,E=new $,P=new $,M=new $;function T(D){P.fromArray(s,D*3),M.copy(P);const F=c[D];C.copy(F),C.sub(P.multiplyScalar(P.dot(F))).normalize(),E.crossVectors(M,F);const N=E.dot(u[D])<0?-1:1;l[D*4]=C.x,l[D*4+1]=C.y,l[D*4+2]=C.z,l[D*4+3]=N}for(let D=0,F=A.length;D<F;++D){const L=A[D],N=L.start,k=L.count;for(let V=N,W=N+k;V<W;V+=3)T(r[V+0]),T(r[V+1]),T(r[V+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new $t(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,p=r.count;d<p;d++)r.setXYZ(d,0,0,0);const i=new $,s=new $,o=new $,a=new $,l=new $,c=new $,u=new $,f=new $;if(e)for(let d=0,p=e.count;d<p;d+=3){const g=e.getX(d+0),v=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,y),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let d=0,p=t.count;d<p;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)_r.fromBufferAttribute(e,t),_r.normalize(),e.setXYZ(t,_r.x,_r.y,_r.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,d=new c.constructor(l.length*u);let p=0,g=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?p=l[v]*a.data.stride+a.offset:p=l[v]*u;for(let _=0;_<u;_++)d[g++]=c[p++]}return new $t(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new gt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const d=c[u],p=e(d,r);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f];u.push(p.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let d=0,p=f.length;d<p;d++)u.push(f[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const uR=new Ze,Vf=new Fg,nS=new nl,Al=new $,bl=new $,Ml=new $,rS=new $,iS=new $,sS=new $,Rv=new $,Dv=new $,Bv=new $,Lv=new Le,Iv=new Le,kv=new Le,oS=new $,Fv=new $;class On extends Rt{constructor(e=new gt,t=new Ri){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),nS.copy(r.boundingSphere),nS.applyMatrix4(s),e.ray.intersectsSphere(nS)===!1)||(uR.copy(s).invert(),Vf.copy(e.ray).applyMatrix4(uR),r.boundingBox!==null&&Vf.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,f=r.attributes.uv,d=r.attributes.uv2,p=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const _=p[v],x=i[_.materialIndex],w=Math.max(_.start,g.start),A=Math.min(a.count,Math.min(_.start+_.count,g.start+g.count));for(let C=w,E=A;C<E;C+=3){const P=a.getX(C),M=a.getX(C+1),T=a.getX(C+2);o=Ov(this,x,e,Vf,l,c,u,f,d,P,M,T),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=_.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),y=Math.min(a.count,g.start+g.count);for(let _=v,x=y;_<x;_+=3){const w=a.getX(_),A=a.getX(_+1),C=a.getX(_+2);o=Ov(this,i,e,Vf,l,c,u,f,d,w,A,C),o&&(o.faceIndex=Math.floor(_/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const _=p[v],x=i[_.materialIndex],w=Math.max(_.start,g.start),A=Math.min(l.count,Math.min(_.start+_.count,g.start+g.count));for(let C=w,E=A;C<E;C+=3){const P=C,M=C+1,T=C+2;o=Ov(this,x,e,Vf,l,c,u,f,d,P,M,T),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=_.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),y=Math.min(l.count,g.start+g.count);for(let _=v,x=y;_<x;_+=3){const w=_,A=_+1,C=_+2;o=Ov(this,i,e,Vf,l,c,u,f,d,w,A,C),o&&(o.faceIndex=Math.floor(_/3),t.push(o))}}}}function NW(n,e,t,r,i,s,o,a){let l;if(e.side===mi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==Gs,a),l===null)return null;Fv.copy(a),Fv.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Fv);return c<t.near||c>t.far?null:{distance:c,point:Fv.clone(),object:n}}function Ov(n,e,t,r,i,s,o,a,l,c,u,f){Al.fromBufferAttribute(i,c),bl.fromBufferAttribute(i,u),Ml.fromBufferAttribute(i,f);const d=n.morphTargetInfluences;if(s&&d){Rv.set(0,0,0),Dv.set(0,0,0),Bv.set(0,0,0);for(let g=0,v=s.length;g<v;g++){const y=d[g],_=s[g];y!==0&&(rS.fromBufferAttribute(_,c),iS.fromBufferAttribute(_,u),sS.fromBufferAttribute(_,f),o?(Rv.addScaledVector(rS,y),Dv.addScaledVector(iS,y),Bv.addScaledVector(sS,y)):(Rv.addScaledVector(rS.sub(Al),y),Dv.addScaledVector(iS.sub(bl),y),Bv.addScaledVector(sS.sub(Ml),y)))}Al.add(Rv),bl.add(Dv),Ml.add(Bv)}n.isSkinnedMesh&&(n.boneTransform(c,Al),n.boneTransform(u,bl),n.boneTransform(f,Ml));const p=NW(n,e,t,r,Al,bl,Ml,oS);if(p){a&&(Lv.fromBufferAttribute(a,c),Iv.fromBufferAttribute(a,u),kv.fromBufferAttribute(a,f),p.uv=Ns.getUV(oS,Al,bl,Ml,Lv,Iv,kv,new Le)),l&&(Lv.fromBufferAttribute(l,c),Iv.fromBufferAttribute(l,u),kv.fromBufferAttribute(l,f),p.uv2=Ns.getUV(oS,Al,bl,Ml,Lv,Iv,kv,new Le));const g={a:c,b:u,c:f,normal:new $,materialIndex:0};Ns.getNormal(Al,bl,Ml,g.normal),p.face=g}return p}class Mc extends gt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let d=0,p=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new et(c,3)),this.setAttribute("normal",new et(u,3)),this.setAttribute("uv",new et(f,2));function g(v,y,_,x,w,A,C,E,P,M,T){const D=A/P,F=C/M,L=A/2,N=C/2,k=E/2,V=P+1,W=M+1;let K=0,H=0;const U=new $;for(let z=0;z<W;z++){const G=z*F-N;for(let j=0;j<V;j++){const Z=j*D-L;U[v]=Z*x,U[y]=G*w,U[_]=k,c.push(U.x,U.y,U.z),U[v]=0,U[y]=0,U[_]=E>0?1:-1,u.push(U.x,U.y,U.z),f.push(j/P),f.push(1-z/M),K+=1}}for(let z=0;z<M;z++)for(let G=0;G<P;G++){const j=d+G+V*z,Z=d+G+V*(z+1),q=d+(G+1)+V*(z+1),re=d+(G+1)+V*z;l.push(j,Z,re),l.push(Z,q,re),H+=6}a.addGroup(p,H,T),p+=H,d+=K}}static fromJSON(e){return new Mc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function lh(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function ci(n){const e={};for(let t=0;t<n.length;t++){const r=lh(n[t]);for(const i in r)e[i]=r[i]}return e}function UW(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const z_={clone:lh,merge:ci};var zW=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,GW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class wo extends ir{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=zW,this.fragmentShader=GW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=lh(e.uniforms),this.uniformsGroups=UW(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Og extends Rt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ze,this.projectionMatrix=new Ze,this.projectionMatrixInverse=new Ze}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class nr extends Og{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=tg*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Du*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return tg*2*Math.atan(Math.tan(Du*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Du*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Wf=90,jf=1;class fN extends Rt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new nr(Wf,jf,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new $(1,0,0)),this.add(i);const s=new nr(Wf,jf,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new $(-1,0,0)),this.add(s);const o=new nr(Wf,jf,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new $(0,1,0)),this.add(o);const a=new nr(Wf,jf,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new $(0,-1,0)),this.add(a);const l=new nr(Wf,jf,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new $(0,0,1)),this.add(l);const c=new nr(Wf,jf,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new $(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=go,e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class Ng extends on{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:oc,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class dN extends Ks{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Ng(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:fn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Mc(5,5,5),s=new wo({name:"CubemapFromEquirect",uniforms:lh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:mi,blending:Da});s.uniforms.tEquirect.value=t;const o=new On(i,s),a=t.minFilter;return t.minFilter===Za&&(t.minFilter=fn),new fN(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const aS=new $,HW=new $,VW=new Wr;class Ll{constructor(e=new $(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=aS.subVectors(r,t).cross(HW.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(aS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||VW.getNormalMatrix(e),i=this.coplanarPoint(aS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const $f=new nl,Nv=new $;class G_{constructor(e=new Ll,t=new Ll,r=new Ll,i=new Ll,s=new Ll,o=new Ll){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],f=r[7],d=r[8],p=r[9],g=r[10],v=r[11],y=r[12],_=r[13],x=r[14],w=r[15];return t[0].setComponents(a-i,f-l,v-d,w-y).normalize(),t[1].setComponents(a+i,f+l,v+d,w+y).normalize(),t[2].setComponents(a+s,f+c,v+p,w+_).normalize(),t[3].setComponents(a-s,f-c,v-p,w-_).normalize(),t[4].setComponents(a-o,f-u,v-g,w-x).normalize(),t[5].setComponents(a+o,f+u,v+g,w+x).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),$f.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere($f)}intersectsSprite(e){return $f.center.set(0,0,0),$f.radius=.7071067811865476,$f.applyMatrix4(e.matrixWorld),this.intersectsSphere($f)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Nv.x=i.normal.x>0?e.max.x:e.min.x,Nv.y=i.normal.y>0?e.max.y:e.min.y,Nv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Nv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function hN(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function WW(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,d=c.usage,p=n.createBuffer();n.bindBuffer(u,p),n.bufferData(u,f,d),c.onUploadCallback();let g;if(f instanceof Float32Array)g=5126;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(f instanceof Int16Array)g=5122;else if(f instanceof Uint32Array)g=5125;else if(f instanceof Int32Array)g=5124;else if(f instanceof Int8Array)g=5120;else if(f instanceof Uint8Array)g=5121;else if(f instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:p,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const d=u.array,p=u.updateRange;n.bindBuffer(f,c),p.count===-1?n.bufferSubData(f,0,d):(t?n.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):n.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class rl extends gt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,d=t/l,p=[],g=[],v=[],y=[];for(let _=0;_<u;_++){const x=_*d-o;for(let w=0;w<c;w++){const A=w*f-s;g.push(A,-x,0),v.push(0,0,1),y.push(w/a),y.push(1-_/l)}}for(let _=0;_<l;_++)for(let x=0;x<a;x++){const w=x+c*_,A=x+c*(_+1),C=x+1+c*(_+1),E=x+1+c*_;p.push(w,A,E),p.push(A,C,E)}this.setIndex(p),this.setAttribute("position",new et(g,3)),this.setAttribute("normal",new et(v,3)),this.setAttribute("uv",new et(y,2))}static fromJSON(e){return new rl(e.width,e.height,e.widthSegments,e.heightSegments)}}var jW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,$W=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,XW=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,JW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,KW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,YW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,QW="vec3 transformed = vec3( position );",qW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ZW=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,e7=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,t7=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,n7=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,r7=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,i7=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,s7=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,o7=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,a7=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,l7=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,c7=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,u7=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,f7=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,d7=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,h7=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,p7=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,m7=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,g7=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,v7="gl_FragColor = linearToOutputTexel( gl_FragColor );",y7=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,_7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,x7=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,w7=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,S7=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,A7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,b7=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,M7=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,C7=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,E7=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,T7=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,P7=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,R7=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,D7=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,B7=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,L7=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,I7=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,k7=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,F7=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,O7=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,N7=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,U7=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,z7=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,G7=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,H7=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,V7=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,W7=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,j7=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,$7=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,X7=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,J7=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,K7=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Y7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Q7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,q7=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Z7=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ej=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,tj=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,nj=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,rj=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,ij=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,sj=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,oj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,aj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lj=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,cj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,uj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,fj=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,dj=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,hj=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,pj=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,mj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,gj=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yj=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,_j=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,xj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,wj=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Sj=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Aj=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,bj=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Mj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Cj=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Ej=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Tj=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Pj=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Rj=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Dj=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Bj=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Lj=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Ij=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,kj=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Fj=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Oj=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Nj=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Uj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,zj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Gj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Hj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Vj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Wj=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,jj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$j=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Xj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Jj=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Kj=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Yj=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Qj=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,qj=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Zj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,e$=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,t$=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,n$=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,r$=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,i$=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,s$=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,o$=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,a$=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,l$=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,c$=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,u$=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,f$=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,d$=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,h$=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,p$=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,m$=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,g$=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,v$=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,y$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_$=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,x$=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,w$=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,S$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ct={alphamap_fragment:jW,alphamap_pars_fragment:$W,alphatest_fragment:XW,alphatest_pars_fragment:JW,aomap_fragment:KW,aomap_pars_fragment:YW,begin_vertex:QW,beginnormal_vertex:qW,bsdfs:ZW,iridescence_fragment:e7,bumpmap_pars_fragment:t7,clipping_planes_fragment:n7,clipping_planes_pars_fragment:r7,clipping_planes_pars_vertex:i7,clipping_planes_vertex:s7,color_fragment:o7,color_pars_fragment:a7,color_pars_vertex:l7,color_vertex:c7,common:u7,cube_uv_reflection_fragment:f7,defaultnormal_vertex:d7,displacementmap_pars_vertex:h7,displacementmap_vertex:p7,emissivemap_fragment:m7,emissivemap_pars_fragment:g7,encodings_fragment:v7,encodings_pars_fragment:y7,envmap_fragment:_7,envmap_common_pars_fragment:x7,envmap_pars_fragment:w7,envmap_pars_vertex:S7,envmap_physical_pars_fragment:I7,envmap_vertex:A7,fog_vertex:b7,fog_pars_vertex:M7,fog_fragment:C7,fog_pars_fragment:E7,gradientmap_pars_fragment:T7,lightmap_fragment:P7,lightmap_pars_fragment:R7,lights_lambert_fragment:D7,lights_lambert_pars_fragment:B7,lights_pars_begin:L7,lights_toon_fragment:k7,lights_toon_pars_fragment:F7,lights_phong_fragment:O7,lights_phong_pars_fragment:N7,lights_physical_fragment:U7,lights_physical_pars_fragment:z7,lights_fragment_begin:G7,lights_fragment_maps:H7,lights_fragment_end:V7,logdepthbuf_fragment:W7,logdepthbuf_pars_fragment:j7,logdepthbuf_pars_vertex:$7,logdepthbuf_vertex:X7,map_fragment:J7,map_pars_fragment:K7,map_particle_fragment:Y7,map_particle_pars_fragment:Q7,metalnessmap_fragment:q7,metalnessmap_pars_fragment:Z7,morphcolor_vertex:ej,morphnormal_vertex:tj,morphtarget_pars_vertex:nj,morphtarget_vertex:rj,normal_fragment_begin:ij,normal_fragment_maps:sj,normal_pars_fragment:oj,normal_pars_vertex:aj,normal_vertex:lj,normalmap_pars_fragment:cj,clearcoat_normal_fragment_begin:uj,clearcoat_normal_fragment_maps:fj,clearcoat_pars_fragment:dj,iridescence_pars_fragment:hj,output_fragment:pj,packing:mj,premultiplied_alpha_fragment:gj,project_vertex:vj,dithering_fragment:yj,dithering_pars_fragment:_j,roughnessmap_fragment:xj,roughnessmap_pars_fragment:wj,shadowmap_pars_fragment:Sj,shadowmap_pars_vertex:Aj,shadowmap_vertex:bj,shadowmask_pars_fragment:Mj,skinbase_vertex:Cj,skinning_pars_vertex:Ej,skinning_vertex:Tj,skinnormal_vertex:Pj,specularmap_fragment:Rj,specularmap_pars_fragment:Dj,tonemapping_fragment:Bj,tonemapping_pars_fragment:Lj,transmission_fragment:Ij,transmission_pars_fragment:kj,uv_pars_fragment:Fj,uv_pars_vertex:Oj,uv_vertex:Nj,uv2_pars_fragment:Uj,uv2_pars_vertex:zj,uv2_vertex:Gj,worldpos_vertex:Hj,background_vert:Vj,background_frag:Wj,backgroundCube_vert:jj,backgroundCube_frag:$j,cube_vert:Xj,cube_frag:Jj,depth_vert:Kj,depth_frag:Yj,distanceRGBA_vert:Qj,distanceRGBA_frag:qj,equirect_vert:Zj,equirect_frag:e$,linedashed_vert:t$,linedashed_frag:n$,meshbasic_vert:r$,meshbasic_frag:i$,meshlambert_vert:s$,meshlambert_frag:o$,meshmatcap_vert:a$,meshmatcap_frag:l$,meshnormal_vert:c$,meshnormal_frag:u$,meshphong_vert:f$,meshphong_frag:d$,meshphysical_vert:h$,meshphysical_frag:p$,meshtoon_vert:m$,meshtoon_frag:g$,points_vert:v$,points_frag:y$,shadow_vert:_$,shadow_frag:x$,sprite_vert:w$,sprite_frag:S$},$e={common:{diffuse:{value:new He(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Wr},uv2Transform:{value:new Wr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new He(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new He(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Wr}},sprite:{diffuse:{value:new He(16777215)},opacity:{value:1},center:{value:new Le(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Wr}}},fo={basic:{uniforms:ci([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.fog]),vertexShader:Ct.meshbasic_vert,fragmentShader:Ct.meshbasic_frag},lambert:{uniforms:ci([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new He(0)}}]),vertexShader:Ct.meshlambert_vert,fragmentShader:Ct.meshlambert_frag},phong:{uniforms:ci([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new He(0)},specular:{value:new He(1118481)},shininess:{value:30}}]),vertexShader:Ct.meshphong_vert,fragmentShader:Ct.meshphong_frag},standard:{uniforms:ci([$e.common,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.roughnessmap,$e.metalnessmap,$e.fog,$e.lights,{emissive:{value:new He(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ct.meshphysical_vert,fragmentShader:Ct.meshphysical_frag},toon:{uniforms:ci([$e.common,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.gradientmap,$e.fog,$e.lights,{emissive:{value:new He(0)}}]),vertexShader:Ct.meshtoon_vert,fragmentShader:Ct.meshtoon_frag},matcap:{uniforms:ci([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,{matcap:{value:null}}]),vertexShader:Ct.meshmatcap_vert,fragmentShader:Ct.meshmatcap_frag},points:{uniforms:ci([$e.points,$e.fog]),vertexShader:Ct.points_vert,fragmentShader:Ct.points_frag},dashed:{uniforms:ci([$e.common,$e.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ct.linedashed_vert,fragmentShader:Ct.linedashed_frag},depth:{uniforms:ci([$e.common,$e.displacementmap]),vertexShader:Ct.depth_vert,fragmentShader:Ct.depth_frag},normal:{uniforms:ci([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,{opacity:{value:1}}]),vertexShader:Ct.meshnormal_vert,fragmentShader:Ct.meshnormal_frag},sprite:{uniforms:ci([$e.sprite,$e.fog]),vertexShader:Ct.sprite_vert,fragmentShader:Ct.sprite_frag},background:{uniforms:{uvTransform:{value:new Wr},t2D:{value:null}},vertexShader:Ct.background_vert,fragmentShader:Ct.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:Ct.backgroundCube_vert,fragmentShader:Ct.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ct.cube_vert,fragmentShader:Ct.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ct.equirect_vert,fragmentShader:Ct.equirect_frag},distanceRGBA:{uniforms:ci([$e.common,$e.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ct.distanceRGBA_vert,fragmentShader:Ct.distanceRGBA_frag},shadow:{uniforms:ci([$e.lights,$e.fog,{color:{value:new He(0)},opacity:{value:1}}]),vertexShader:Ct.shadow_vert,fragmentShader:Ct.shadow_frag}};fo.physical={uniforms:ci([fo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Le(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new He(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new He(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new He(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ct.meshphysical_vert,fragmentShader:Ct.meshphysical_frag};function A$(n,e,t,r,i,s,o){const a=new He(0);let l=s===!0?0:1,c,u,f=null,d=0,p=null;function g(y,_){let x=!1,w=_.isScene===!0?_.background:null;w&&w.isTexture&&(w=(_.backgroundBlurriness>0?t:e).get(w));const A=n.xr,C=A.getSession&&A.getSession();C&&C.environmentBlendMode==="additive"&&(w=null),w===null?v(a,l):w&&w.isColor&&(v(w,1),x=!0),(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===Eh)?(u===void 0&&(u=new On(new Mc(1,1,1),new wo({name:"BackgroundCubeMaterial",uniforms:lh(fo.backgroundCube.uniforms),vertexShader:fo.backgroundCube.vertexShader,fragmentShader:fo.backgroundCube.fragmentShader,side:mi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(E,P,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,(f!==w||d!==w.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,f=w,d=w.version,p=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new On(new rl(2,2),new wo({name:"BackgroundMaterial",uniforms:lh(fo.background.uniforms),vertexShader:fo.background.vertexShader,fragmentShader:fo.background.fragmentShader,side:Wa,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||d!==w.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,f=w,d=w.version,p=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function v(y,_){r.buffers.color.setClear(y.r,y.g,y.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(y,_=1){a.set(y),l=_,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:g}}function b$(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function f(k,V,W,K,H){let U=!1;if(o){const z=v(K,W,V);c!==z&&(c=z,p(c.object)),U=_(k,K,W,H),U&&x(k,K,W,H)}else{const z=V.wireframe===!0;(c.geometry!==K.id||c.program!==W.id||c.wireframe!==z)&&(c.geometry=K.id,c.program=W.id,c.wireframe=z,U=!0)}H!==null&&t.update(H,34963),(U||u)&&(u=!1,M(k,V,W,K),H!==null&&n.bindBuffer(34963,t.get(H).buffer))}function d(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(k){return r.isWebGL2?n.bindVertexArray(k):s.bindVertexArrayOES(k)}function g(k){return r.isWebGL2?n.deleteVertexArray(k):s.deleteVertexArrayOES(k)}function v(k,V,W){const K=W.wireframe===!0;let H=a[k.id];H===void 0&&(H={},a[k.id]=H);let U=H[V.id];U===void 0&&(U={},H[V.id]=U);let z=U[K];return z===void 0&&(z=y(d()),U[K]=z),z}function y(k){const V=[],W=[],K=[];for(let H=0;H<i;H++)V[H]=0,W[H]=0,K[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:W,attributeDivisors:K,object:k,attributes:{},index:null}}function _(k,V,W,K){const H=c.attributes,U=V.attributes;let z=0;const G=W.getAttributes();for(const j in G)if(G[j].location>=0){const q=H[j];let re=U[j];if(re===void 0&&(j==="instanceMatrix"&&k.instanceMatrix&&(re=k.instanceMatrix),j==="instanceColor"&&k.instanceColor&&(re=k.instanceColor)),q===void 0||q.attribute!==re||re&&q.data!==re.data)return!0;z++}return c.attributesNum!==z||c.index!==K}function x(k,V,W,K){const H={},U=V.attributes;let z=0;const G=W.getAttributes();for(const j in G)if(G[j].location>=0){let q=U[j];q===void 0&&(j==="instanceMatrix"&&k.instanceMatrix&&(q=k.instanceMatrix),j==="instanceColor"&&k.instanceColor&&(q=k.instanceColor));const re={};re.attribute=q,q&&q.data&&(re.data=q.data),H[j]=re,z++}c.attributes=H,c.attributesNum=z,c.index=K}function w(){const k=c.newAttributes;for(let V=0,W=k.length;V<W;V++)k[V]=0}function A(k){C(k,0)}function C(k,V){const W=c.newAttributes,K=c.enabledAttributes,H=c.attributeDivisors;W[k]=1,K[k]===0&&(n.enableVertexAttribArray(k),K[k]=1),H[k]!==V&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,V),H[k]=V)}function E(){const k=c.newAttributes,V=c.enabledAttributes;for(let W=0,K=V.length;W<K;W++)V[W]!==k[W]&&(n.disableVertexAttribArray(W),V[W]=0)}function P(k,V,W,K,H,U){r.isWebGL2===!0&&(W===5124||W===5125)?n.vertexAttribIPointer(k,V,W,H,U):n.vertexAttribPointer(k,V,W,K,H,U)}function M(k,V,W,K){if(r.isWebGL2===!1&&(k.isInstancedMesh||K.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const H=K.attributes,U=W.getAttributes(),z=V.defaultAttributeValues;for(const G in U){const j=U[G];if(j.location>=0){let Z=H[G];if(Z===void 0&&(G==="instanceMatrix"&&k.instanceMatrix&&(Z=k.instanceMatrix),G==="instanceColor"&&k.instanceColor&&(Z=k.instanceColor)),Z!==void 0){const q=Z.normalized,re=Z.itemSize,Q=t.get(Z);if(Q===void 0)continue;const ce=Q.buffer,de=Q.type,Re=Q.bytesPerElement;if(Z.isInterleavedBufferAttribute){const ge=Z.data,ve=ge.stride,ne=Z.offset;if(ge.isInstancedInterleavedBuffer){for(let oe=0;oe<j.locationSize;oe++)C(j.location+oe,ge.meshPerAttribute);k.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let oe=0;oe<j.locationSize;oe++)A(j.location+oe);n.bindBuffer(34962,ce);for(let oe=0;oe<j.locationSize;oe++)P(j.location+oe,re/j.locationSize,de,q,ve*Re,(ne+re/j.locationSize*oe)*Re)}else{if(Z.isInstancedBufferAttribute){for(let ge=0;ge<j.locationSize;ge++)C(j.location+ge,Z.meshPerAttribute);k.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=Z.meshPerAttribute*Z.count)}else for(let ge=0;ge<j.locationSize;ge++)A(j.location+ge);n.bindBuffer(34962,ce);for(let ge=0;ge<j.locationSize;ge++)P(j.location+ge,re/j.locationSize,de,q,re*Re,re/j.locationSize*ge*Re)}}else if(z!==void 0){const q=z[G];if(q!==void 0)switch(q.length){case 2:n.vertexAttrib2fv(j.location,q);break;case 3:n.vertexAttrib3fv(j.location,q);break;case 4:n.vertexAttrib4fv(j.location,q);break;default:n.vertexAttrib1fv(j.location,q)}}}}E()}function T(){L();for(const k in a){const V=a[k];for(const W in V){const K=V[W];for(const H in K)g(K[H].object),delete K[H];delete V[W]}delete a[k]}}function D(k){if(a[k.id]===void 0)return;const V=a[k.id];for(const W in V){const K=V[W];for(const H in K)g(K[H].object),delete K[H];delete V[W]}delete a[k.id]}function F(k){for(const V in a){const W=a[V];if(W[k.id]===void 0)continue;const K=W[k.id];for(const H in K)g(K[H].object),delete K[H];delete W[k.id]}}function L(){N(),u=!0,c!==l&&(c=l,p(c.object))}function N(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:L,resetDefaultState:N,dispose:T,releaseStatesOfGeometry:D,releaseStatesOfProgram:F,initAttributes:w,enableAttribute:A,disableUnusedAttributes:E}}function M$(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,f){if(f===0)return;let d,p;if(i)d=n,p="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](s,c,u,f),t.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function C$(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(P){if(P==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),d=n.getParameter(35660),p=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),y=n.getParameter(36347),_=n.getParameter(36348),x=n.getParameter(36349),w=d>0,A=o||e.has("OES_texture_float"),C=w&&A,E=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:_,maxFragmentUniforms:x,vertexTextures:w,floatFragmentTextures:A,floatVertexTextures:C,maxSamples:E}}function E$(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Ll,a=new Wr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d,p){const g=f.length!==0||d||r!==0||i;return i=d,t=u(f,p,0),r=f.length,g},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(f,d,p){const g=f.clippingPlanes,v=f.clipIntersection,y=f.clipShadows,_=n.get(f);if(!i||g===null||g.length===0||s&&!y)s?u(null):c();else{const x=s?0:r,w=x*4;let A=_.clippingState||null;l.value=A,A=u(g,d,w,p);for(let C=0;C!==w;++C)A[C]=t[C];_.clippingState=A,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,p,g){const v=f!==null?f.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const _=p+v*4,x=d.matrixWorldInverse;a.getNormalMatrix(x),(y===null||y.length<_)&&(y=new Float32Array(_));for(let w=0,A=p;w!==v;++w,A+=4)o.copy(f[w]).applyMatrix4(x,a),o.normal.toArray(y,A),y[A+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function T$(n){let e=new WeakMap;function t(o,a){return a===ih?o.mapping=oc:a===Ym&&(o.mapping=ac),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===ih||a===Ym)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new dN(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class sf extends Og{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Md=4,fR=[.125,.215,.35,.446,.526,.582],hu=20,lS=new sf,dR=new He;let cS=null;const au=(1+Math.sqrt(5))/2,Xf=1/au,hR=[new $(1,1,1),new $(-1,1,1),new $(1,1,-1),new $(-1,1,-1),new $(0,au,Xf),new $(0,au,-Xf),new $(Xf,0,au),new $(-Xf,0,au),new $(au,Xf,0),new $(-au,Xf,0)];class eM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){cS=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=gR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=mR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(cS),e.scissorTest=!1,Uv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===oc||e.mapping===ac?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),cS=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:fn,minFilter:fn,generateMipmaps:!1,type:oh,format:Ci,encoding:lc,depthBuffer:!1},i=pR(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=pR(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=P$(s)),this._blurMaterial=R$(s,e,t)}return i}_compileMaterial(e){const t=new On(this._lodPlanes[0],e);this._renderer.compile(t,lS)}_sceneToCubeUV(e,t,r,i){const a=new nr(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,d=u.toneMapping;u.getClearColor(dR),u.toneMapping=go,u.autoClear=!1;const p=new Ri({name:"PMREM.Background",side:mi,depthWrite:!1,depthTest:!1}),g=new On(new Mc,p);let v=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,v=!0):(p.color.copy(dR),v=!0);for(let _=0;_<6;_++){const x=_%3;x===0?(a.up.set(0,l[_],0),a.lookAt(c[_],0,0)):x===1?(a.up.set(0,0,l[_]),a.lookAt(0,c[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,c[_]));const w=this._cubeSize;Uv(i,x*w,_>2?w:0,w,w),u.setRenderTarget(i),v&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=d,u.autoClear=f,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===oc||e.mapping===ac;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=gR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=mR());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new On(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Uv(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,lS)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=hR[(i-1)%hR.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new On(this._lodPlanes[i],c),d=c.uniforms,p=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*hu-1),v=s/g,y=isFinite(s)?1+Math.floor(u*v):hu;y>hu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${hu}`);const _=[];let x=0;for(let P=0;P<hu;++P){const M=P/v,T=Math.exp(-M*M/2);_.push(T),P===0?x+=T:P<y&&(x+=2*T)}for(let P=0;P<_.length;P++)_[P]=_[P]/x;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=_,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:w}=this;d.dTheta.value=g,d.mipInt.value=w-r;const A=this._sizeLods[i],C=3*A*(i>w-Md?i-w+Md:0),E=4*(this._cubeSize-A);Uv(t,C,E,3*A,2*A),l.setRenderTarget(t),l.render(f,lS)}}function P$(n){const e=[],t=[],r=[];let i=n;const s=n-Md+1+fR.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Md?l=fR[o-n+Md-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],p=6,g=6,v=3,y=2,_=1,x=new Float32Array(v*g*p),w=new Float32Array(y*g*p),A=new Float32Array(_*g*p);for(let E=0;E<p;E++){const P=E%3*2/3-1,M=E>2?0:-1,T=[P,M,0,P+2/3,M,0,P+2/3,M+1,0,P,M,0,P+2/3,M+1,0,P,M+1,0];x.set(T,v*g*E),w.set(d,y*g*E);const D=[E,E,E,E,E,E];A.set(D,_*g*E)}const C=new gt;C.setAttribute("position",new $t(x,v)),C.setAttribute("uv",new $t(w,y)),C.setAttribute("faceIndex",new $t(A,_)),e.push(C),i>Md&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function pR(n,e,t){const r=new Ks(n,e,t);return r.texture.mapping=Eh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Uv(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function R$(n,e,t){const r=new Float32Array(hu),i=new $(0,1,0);return new wo({name:"SphericalGaussianBlur",defines:{n:hu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:TC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Da,depthTest:!1,depthWrite:!1})}function mR(){return new wo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:TC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Da,depthTest:!1,depthWrite:!1})}function gR(){return new wo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:TC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Da,depthTest:!1,depthWrite:!1})}function TC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function D$(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===ih||l===Ym,u=l===oc||l===ac;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new eM(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){t===null&&(t=new eM(n));const d=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function B$(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function L$(n,e,t,r){const i={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);d.removeEventListener("dispose",o),delete i[d.id];const p=s.get(d);p&&(e.remove(p),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,t.memory.geometries++),d}function l(f){const d=f.attributes;for(const g in d)e.update(d[g],34962);const p=f.morphAttributes;for(const g in p){const v=p[g];for(let y=0,_=v.length;y<_;y++)e.update(v[y],34962)}}function c(f){const d=[],p=f.index,g=f.attributes.position;let v=0;if(p!==null){const x=p.array;v=p.version;for(let w=0,A=x.length;w<A;w+=3){const C=x[w+0],E=x[w+1],P=x[w+2];d.push(C,E,E,P,P,C)}}else{const x=g.array;v=g.version;for(let w=0,A=x.length/3-1;w<A;w+=3){const C=w+0,E=w+1,P=w+2;d.push(C,E,E,P,P,C)}}const y=new(cN(d)?EC:U_)(d,1);y.version=v;const _=s.get(f);_&&e.remove(_),s.set(f,y)}function u(f){const d=s.get(f);if(d){const p=f.index;p!==null&&d.version<p.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function I$(n,e,t,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function c(d){a=d.type,l=d.bytesPerElement}function u(d,p){n.drawElements(s,p,a,d*l),t.update(p,s,1)}function f(d,p,g){if(g===0)return;let v,y;if(i)v=n,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,p,a,d*l,g),t.update(p,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function k$(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function F$(n,e){return n[0]-e[0]}function O$(n,e){return Math.abs(e[1])-Math.abs(n[1])}function N$(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Pt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f,d){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=g!==void 0?g.length:0;let y=s.get(u);if(y===void 0||y.count!==v){let V=function(){N.dispose(),s.delete(u),u.removeEventListener("dispose",V)};y!==void 0&&y.texture.dispose();const w=u.morphAttributes.position!==void 0,A=u.morphAttributes.normal!==void 0,C=u.morphAttributes.color!==void 0,E=u.morphAttributes.position||[],P=u.morphAttributes.normal||[],M=u.morphAttributes.color||[];let T=0;w===!0&&(T=1),A===!0&&(T=2),C===!0&&(T=3);let D=u.attributes.position.count*T,F=1;D>e.maxTextureSize&&(F=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const L=new Float32Array(D*F*4*v),N=new kg(L,D,F,v);N.type=Ea,N.needsUpdate=!0;const k=T*4;for(let W=0;W<v;W++){const K=E[W],H=P[W],U=M[W],z=D*F*4*W;for(let G=0;G<K.count;G++){const j=G*k;w===!0&&(o.fromBufferAttribute(K,G),L[z+j+0]=o.x,L[z+j+1]=o.y,L[z+j+2]=o.z,L[z+j+3]=0),A===!0&&(o.fromBufferAttribute(H,G),L[z+j+4]=o.x,L[z+j+5]=o.y,L[z+j+6]=o.z,L[z+j+7]=0),C===!0&&(o.fromBufferAttribute(U,G),L[z+j+8]=o.x,L[z+j+9]=o.y,L[z+j+10]=o.z,L[z+j+11]=U.itemSize===4?o.w:1)}}y={count:v,texture:N,size:new Le(D,F)},s.set(u,y),u.addEventListener("dispose",V)}let _=0;for(let w=0;w<p.length;w++)_+=p[w];const x=u.morphTargetsRelative?1:1-_;d.getUniforms().setValue(n,"morphTargetBaseInfluence",x),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const g=p===void 0?0:p.length;let v=r[u.id];if(v===void 0||v.length!==g){v=[];for(let A=0;A<g;A++)v[A]=[A,0];r[u.id]=v}for(let A=0;A<g;A++){const C=v[A];C[0]=A,C[1]=p[A]}v.sort(O$);for(let A=0;A<8;A++)A<g&&v[A][1]?(a[A][0]=v[A][0],a[A][1]=v[A][1]):(a[A][0]=Number.MAX_SAFE_INTEGER,a[A][1]=0);a.sort(F$);const y=u.morphAttributes.position,_=u.morphAttributes.normal;let x=0;for(let A=0;A<8;A++){const C=a[A],E=C[0],P=C[1];E!==Number.MAX_SAFE_INTEGER&&P?(y&&u.getAttribute("morphTarget"+A)!==y[E]&&u.setAttribute("morphTarget"+A,y[E]),_&&u.getAttribute("morphNormal"+A)!==_[E]&&u.setAttribute("morphNormal"+A,_[E]),i[A]=P,x+=P):(y&&u.hasAttribute("morphTarget"+A)===!0&&u.deleteAttribute("morphTarget"+A),_&&u.hasAttribute("morphNormal"+A)===!0&&u.deleteAttribute("morphNormal"+A),i[A]=0)}const w=u.morphTargetsRelative?1:1-x;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function U$(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);return i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const pN=new on,mN=new kg,gN=new N_,vN=new Ng,vR=[],yR=[],_R=new Float32Array(16),xR=new Float32Array(9),wR=new Float32Array(4);function Th(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=vR[i];if(s===void 0&&(s=new Float32Array(i),vR[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function dr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function hr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function H_(n,e){let t=yR[e];t===void 0&&(t=new Int32Array(e),yR[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function z$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function G$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(dr(t,e))return;n.uniform2fv(this.addr,e),hr(t,e)}}function H$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(dr(t,e))return;n.uniform3fv(this.addr,e),hr(t,e)}}function V$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(dr(t,e))return;n.uniform4fv(this.addr,e),hr(t,e)}}function W$(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(dr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),hr(t,e)}else{if(dr(t,r))return;wR.set(r),n.uniformMatrix2fv(this.addr,!1,wR),hr(t,r)}}function j$(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(dr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),hr(t,e)}else{if(dr(t,r))return;xR.set(r),n.uniformMatrix3fv(this.addr,!1,xR),hr(t,r)}}function $$(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(dr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),hr(t,e)}else{if(dr(t,r))return;_R.set(r),n.uniformMatrix4fv(this.addr,!1,_R),hr(t,r)}}function X$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function J$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(dr(t,e))return;n.uniform2iv(this.addr,e),hr(t,e)}}function K$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(dr(t,e))return;n.uniform3iv(this.addr,e),hr(t,e)}}function Y$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(dr(t,e))return;n.uniform4iv(this.addr,e),hr(t,e)}}function Q$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function q$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(dr(t,e))return;n.uniform2uiv(this.addr,e),hr(t,e)}}function Z$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(dr(t,e))return;n.uniform3uiv(this.addr,e),hr(t,e)}}function eX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(dr(t,e))return;n.uniform4uiv(this.addr,e),hr(t,e)}}function tX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||pN,i)}function nX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||gN,i)}function rX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||vN,i)}function iX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||mN,i)}function sX(n){switch(n){case 5126:return z$;case 35664:return G$;case 35665:return H$;case 35666:return V$;case 35674:return W$;case 35675:return j$;case 35676:return $$;case 5124:case 35670:return X$;case 35667:case 35671:return J$;case 35668:case 35672:return K$;case 35669:case 35673:return Y$;case 5125:return Q$;case 36294:return q$;case 36295:return Z$;case 36296:return eX;case 35678:case 36198:case 36298:case 36306:case 35682:return tX;case 35679:case 36299:case 36307:return nX;case 35680:case 36300:case 36308:case 36293:return rX;case 36289:case 36303:case 36311:case 36292:return iX}}function oX(n,e){n.uniform1fv(this.addr,e)}function aX(n,e){const t=Th(e,this.size,2);n.uniform2fv(this.addr,t)}function lX(n,e){const t=Th(e,this.size,3);n.uniform3fv(this.addr,t)}function cX(n,e){const t=Th(e,this.size,4);n.uniform4fv(this.addr,t)}function uX(n,e){const t=Th(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function fX(n,e){const t=Th(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function dX(n,e){const t=Th(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function hX(n,e){n.uniform1iv(this.addr,e)}function pX(n,e){n.uniform2iv(this.addr,e)}function mX(n,e){n.uniform3iv(this.addr,e)}function gX(n,e){n.uniform4iv(this.addr,e)}function vX(n,e){n.uniform1uiv(this.addr,e)}function yX(n,e){n.uniform2uiv(this.addr,e)}function _X(n,e){n.uniform3uiv(this.addr,e)}function xX(n,e){n.uniform4uiv(this.addr,e)}function wX(n,e,t){const r=this.cache,i=e.length,s=H_(t,i);dr(r,s)||(n.uniform1iv(this.addr,s),hr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||pN,s[o])}function SX(n,e,t){const r=this.cache,i=e.length,s=H_(t,i);dr(r,s)||(n.uniform1iv(this.addr,s),hr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||gN,s[o])}function AX(n,e,t){const r=this.cache,i=e.length,s=H_(t,i);dr(r,s)||(n.uniform1iv(this.addr,s),hr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||vN,s[o])}function bX(n,e,t){const r=this.cache,i=e.length,s=H_(t,i);dr(r,s)||(n.uniform1iv(this.addr,s),hr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||mN,s[o])}function MX(n){switch(n){case 5126:return oX;case 35664:return aX;case 35665:return lX;case 35666:return cX;case 35674:return uX;case 35675:return fX;case 35676:return dX;case 5124:case 35670:return hX;case 35667:case 35671:return pX;case 35668:case 35672:return mX;case 35669:case 35673:return gX;case 5125:return vX;case 36294:return yX;case 36295:return _X;case 36296:return xX;case 35678:case 36198:case 36298:case 36306:case 35682:return wX;case 35679:case 36299:case 36307:return SX;case 35680:case 36300:case 36308:case 36293:return AX;case 36289:case 36303:case 36311:case 36292:return bX}}class CX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=sX(t.type)}}class EX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=MX(t.type)}}class TX{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const uS=/(\w+)(\])?(\[|\.)?/g;function SR(n,e){n.seq.push(e),n.map[e.id]=e}function PX(n,e,t){const r=n.name,i=r.length;for(uS.lastIndex=0;;){const s=uS.exec(r),o=uS.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){SR(t,c===void 0?new CX(a,n,e):new EX(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new TX(a),SR(t,f)),t=f}}}class Qy{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);PX(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function AR(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let RX=0;function DX(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function BX(n){switch(n){case lc:return["Linear","( value )"];case vn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function bR(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+DX(n.getShaderSource(e),o)}else return i}function LX(n,e){const t=BX(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function IX(n,e){let t;switch(e){case F4:t="Linear";break;case O4:t="Reinhard";break;case N4:t="OptimizedCineon";break;case xC:t="ACESFilmic";break;case U4:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function kX(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(qp).join(`
`)}function FX(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function OX(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function qp(n){return n!==""}function MR(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function CR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const NX=/^[ \t]*#include +<([\w\d./]+)>/gm;function tM(n){return n.replace(NX,UX)}function UX(n,e){const t=Ct[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return tM(t)}const zX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ER(n){return n.replace(zX,GX)}function GX(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function TR(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function HX(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===I_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===dm?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===vu&&(e="SHADOWMAP_TYPE_VSM"),e}function VX(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case oc:case ac:e="ENVMAP_TYPE_CUBE";break;case Eh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function WX(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ac:e="ENVMAP_MODE_REFRACTION";break}return e}function jX(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Ig:e="ENVMAP_BLENDING_MULTIPLY";break;case I4:e="ENVMAP_BLENDING_MIX";break;case k4:e="ENVMAP_BLENDING_ADD";break}return e}function $X(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function XX(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=HX(t),c=VX(t),u=WX(t),f=jX(t),d=$X(t),p=t.isWebGL2?"":kX(t),g=FX(s),v=i.createProgram();let y,_,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[g].filter(qp).join(`
`),y.length>0&&(y+=`
`),_=[p,g].filter(qp).join(`
`),_.length>0&&(_+=`
`)):(y=[TR(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(qp).join(`
`),_=[p,TR(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==go?"#define TONE_MAPPING":"",t.toneMapping!==go?Ct.tonemapping_pars_fragment:"",t.toneMapping!==go?IX("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ct.encodings_pars_fragment,LX("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(qp).join(`
`)),o=tM(o),o=MR(o,t),o=CR(o,t),a=tM(a),a=MR(a,t),a=CR(a,t),o=ER(o),a=ER(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,_=["#define varying in",t.glslVersion===qb?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===qb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const w=x+y+o,A=x+_+a,C=AR(i,35633,w),E=AR(i,35632,A);if(i.attachShader(v,C),i.attachShader(v,E),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const T=i.getProgramInfoLog(v).trim(),D=i.getShaderInfoLog(C).trim(),F=i.getShaderInfoLog(E).trim();let L=!0,N=!0;if(i.getProgramParameter(v,35714)===!1){L=!1;const k=bR(i,C,"vertex"),V=bR(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+T+`
`+k+`
`+V)}else T!==""?console.warn("THREE.WebGLProgram: Program Info Log:",T):(D===""||F==="")&&(N=!1);N&&(this.diagnostics={runnable:L,programLog:T,vertexShader:{log:D,prefix:y},fragmentShader:{log:F,prefix:_}})}i.deleteShader(C),i.deleteShader(E);let P;this.getUniforms=function(){return P===void 0&&(P=new Qy(i,v)),P};let M;return this.getAttributes=function(){return M===void 0&&(M=OX(i,v)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=RX++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=C,this.fragmentShader=E,this}let JX=0;class KX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new YX(e),t.set(e,r)),r}}class YX{constructor(e){this.id=JX++,this.code=e,this.usedTimes=0}}function QX(n,e,t,r,i,s,o){const a=new Lu,l=new KX,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let p=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(M,T,D,F,L){const N=F.fog,k=L.geometry,V=M.isMeshStandardMaterial?F.environment:null,W=(M.isMeshStandardMaterial?t:e).get(M.envMap||V),K=W&&W.mapping===Eh?W.image.height:null,H=g[M.type];M.precision!==null&&(p=i.getMaxPrecision(M.precision),p!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",p,"instead."));const U=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,z=U!==void 0?U.length:0;let G=0;k.morphAttributes.position!==void 0&&(G=1),k.morphAttributes.normal!==void 0&&(G=2),k.morphAttributes.color!==void 0&&(G=3);let j,Z,q,re;if(H){const ve=fo[H];j=ve.vertexShader,Z=ve.fragmentShader}else j=M.vertexShader,Z=M.fragmentShader,l.update(M),q=l.getVertexShaderID(M),re=l.getFragmentShaderID(M);const Q=n.getRenderTarget(),ce=M.alphaTest>0,de=M.clearcoat>0,Re=M.iridescence>0;return{isWebGL2:u,shaderID:H,shaderName:M.type,vertexShader:j,fragmentShader:Z,defines:M.defines,customVertexShaderID:q,customFragmentShaderID:re,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:p,instancing:L.isInstancedMesh===!0,instancingColor:L.isInstancedMesh===!0&&L.instanceColor!==null,supportsVertexTextures:d,outputEncoding:Q===null?n.outputEncoding:Q.isXRRenderTarget===!0?Q.texture.encoding:lc,map:!!M.map,matcap:!!M.matcap,envMap:!!W,envMapMode:W&&W.mapping,envMapCubeUVHeight:K,lightMap:!!M.lightMap,aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:M.normalMapType===oN,tangentSpaceNormalMap:M.normalMapType===bc,decodeVideoTexture:!!M.map&&M.map.isVideoTexture===!0&&M.map.encoding===vn,clearcoat:de,clearcoatMap:de&&!!M.clearcoatMap,clearcoatRoughnessMap:de&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:de&&!!M.clearcoatNormalMap,iridescence:Re,iridescenceMap:Re&&!!M.iridescenceMap,iridescenceThicknessMap:Re&&!!M.iridescenceThicknessMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,opaque:M.transparent===!1&&M.blending===Pu,alphaMap:!!M.alphaMap,alphaTest:ce,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!k.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!k.attributes.color&&k.attributes.color.itemSize===4,vertexUvs:!!M.map||!!M.bumpMap||!!M.normalMap||!!M.specularMap||!!M.alphaMap||!!M.emissiveMap||!!M.roughnessMap||!!M.metalnessMap||!!M.clearcoatMap||!!M.clearcoatRoughnessMap||!!M.clearcoatNormalMap||!!M.iridescenceMap||!!M.iridescenceThicknessMap||!!M.displacementMap||!!M.transmissionMap||!!M.thicknessMap||!!M.specularIntensityMap||!!M.specularColorMap||!!M.sheenColorMap||!!M.sheenRoughnessMap,uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap)&&!!M.displacementMap,fog:!!N,useFog:M.fog===!0,fogExp2:N&&N.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:f,skinning:L.isSkinnedMesh===!0,morphTargets:k.morphAttributes.position!==void 0,morphNormals:k.morphAttributes.normal!==void 0,morphColors:k.morphAttributes.color!==void 0,morphTargetsCount:z,morphTextureStride:G,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:M.toneMapped?n.toneMapping:go,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===Gs,flipSided:M.side===mi,useDepthPacking:!!M.depthPacking,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function y(M){const T=[];if(M.shaderID?T.push(M.shaderID):(T.push(M.customVertexShaderID),T.push(M.customFragmentShaderID)),M.defines!==void 0)for(const D in M.defines)T.push(D),T.push(M.defines[D]);return M.isRawShaderMaterial===!1&&(_(T,M),x(T,M),T.push(n.outputEncoding)),T.push(M.customProgramCacheKey),T.join()}function _(M,T){M.push(T.precision),M.push(T.outputEncoding),M.push(T.envMapMode),M.push(T.envMapCubeUVHeight),M.push(T.combine),M.push(T.vertexUvs),M.push(T.fogExp2),M.push(T.sizeAttenuation),M.push(T.morphTargetsCount),M.push(T.morphAttributeCount),M.push(T.numDirLights),M.push(T.numPointLights),M.push(T.numSpotLights),M.push(T.numSpotLightMaps),M.push(T.numHemiLights),M.push(T.numRectAreaLights),M.push(T.numDirLightShadows),M.push(T.numPointLightShadows),M.push(T.numSpotLightShadows),M.push(T.numSpotLightShadowsWithMaps),M.push(T.shadowMapType),M.push(T.toneMapping),M.push(T.numClippingPlanes),M.push(T.numClipIntersection),M.push(T.depthPacking)}function x(M,T){a.disableAll(),T.isWebGL2&&a.enable(0),T.supportsVertexTextures&&a.enable(1),T.instancing&&a.enable(2),T.instancingColor&&a.enable(3),T.map&&a.enable(4),T.matcap&&a.enable(5),T.envMap&&a.enable(6),T.lightMap&&a.enable(7),T.aoMap&&a.enable(8),T.emissiveMap&&a.enable(9),T.bumpMap&&a.enable(10),T.normalMap&&a.enable(11),T.objectSpaceNormalMap&&a.enable(12),T.tangentSpaceNormalMap&&a.enable(13),T.clearcoat&&a.enable(14),T.clearcoatMap&&a.enable(15),T.clearcoatRoughnessMap&&a.enable(16),T.clearcoatNormalMap&&a.enable(17),T.iridescence&&a.enable(18),T.iridescenceMap&&a.enable(19),T.iridescenceThicknessMap&&a.enable(20),T.displacementMap&&a.enable(21),T.specularMap&&a.enable(22),T.roughnessMap&&a.enable(23),T.metalnessMap&&a.enable(24),T.gradientMap&&a.enable(25),T.alphaMap&&a.enable(26),T.alphaTest&&a.enable(27),T.vertexColors&&a.enable(28),T.vertexAlphas&&a.enable(29),T.vertexUvs&&a.enable(30),T.vertexTangents&&a.enable(31),T.uvsVertexOnly&&a.enable(32),M.push(a.mask),a.disableAll(),T.fog&&a.enable(0),T.useFog&&a.enable(1),T.flatShading&&a.enable(2),T.logarithmicDepthBuffer&&a.enable(3),T.skinning&&a.enable(4),T.morphTargets&&a.enable(5),T.morphNormals&&a.enable(6),T.morphColors&&a.enable(7),T.premultipliedAlpha&&a.enable(8),T.shadowMapEnabled&&a.enable(9),T.physicallyCorrectLights&&a.enable(10),T.doubleSided&&a.enable(11),T.flipSided&&a.enable(12),T.useDepthPacking&&a.enable(13),T.dithering&&a.enable(14),T.specularIntensityMap&&a.enable(15),T.specularColorMap&&a.enable(16),T.transmission&&a.enable(17),T.transmissionMap&&a.enable(18),T.thicknessMap&&a.enable(19),T.sheen&&a.enable(20),T.sheenColorMap&&a.enable(21),T.sheenRoughnessMap&&a.enable(22),T.decodeVideoTexture&&a.enable(23),T.opaque&&a.enable(24),M.push(a.mask)}function w(M){const T=g[M.type];let D;if(T){const F=fo[T];D=z_.clone(F.uniforms)}else D=M.uniforms;return D}function A(M,T){let D;for(let F=0,L=c.length;F<L;F++){const N=c[F];if(N.cacheKey===T){D=N,++D.usedTimes;break}}return D===void 0&&(D=new XX(n,T,M,s),c.push(D)),D}function C(M){if(--M.usedTimes===0){const T=c.indexOf(M);c[T]=c[c.length-1],c.pop(),M.destroy()}}function E(M){l.remove(M)}function P(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:w,acquireProgram:A,releaseProgram:C,releaseShaderCache:E,programs:c,dispose:P}}function qX(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function ZX(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function PR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function RR(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,d,p,g,v,y){let _=n[e];return _===void 0?(_={id:f.id,object:f,geometry:d,material:p,groupOrder:g,renderOrder:f.renderOrder,z:v,group:y},n[e]=_):(_.id=f.id,_.object=f,_.geometry=d,_.material=p,_.groupOrder=g,_.renderOrder=f.renderOrder,_.z=v,_.group=y),e++,_}function a(f,d,p,g,v,y){const _=o(f,d,p,g,v,y);p.transmission>0?r.push(_):p.transparent===!0?i.push(_):t.push(_)}function l(f,d,p,g,v,y){const _=o(f,d,p,g,v,y);p.transmission>0?r.unshift(_):p.transparent===!0?i.unshift(_):t.unshift(_)}function c(f,d){t.length>1&&t.sort(f||ZX),r.length>1&&r.sort(d||PR),i.length>1&&i.sort(d||PR)}function u(){for(let f=e,d=n.length;f<d;f++){const p=n[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function eJ(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new RR,n.set(r,[o])):i>=s.length?(o=new RR,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function tJ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new $,color:new He};break;case"SpotLight":t={position:new $,direction:new $,color:new He,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new $,color:new He,distance:0,decay:0};break;case"HemisphereLight":t={direction:new $,skyColor:new He,groundColor:new He};break;case"RectAreaLight":t={color:new He,position:new $,halfWidth:new $,halfHeight:new $};break}return n[e.id]=t,t}}}function nJ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let rJ=0;function iJ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function sJ(n,e){const t=new tJ,r=nJ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new $);const s=new $,o=new Ze,a=new Ze;function l(u,f){let d=0,p=0,g=0;for(let F=0;F<9;F++)i.probe[F].set(0,0,0);let v=0,y=0,_=0,x=0,w=0,A=0,C=0,E=0,P=0,M=0;u.sort(iJ);const T=f!==!0?Math.PI:1;for(let F=0,L=u.length;F<L;F++){const N=u[F],k=N.color,V=N.intensity,W=N.distance,K=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)d+=k.r*V*T,p+=k.g*V*T,g+=k.b*V*T;else if(N.isLightProbe)for(let H=0;H<9;H++)i.probe[H].addScaledVector(N.sh.coefficients[H],V);else if(N.isDirectionalLight){const H=t.get(N);if(H.color.copy(N.color).multiplyScalar(N.intensity*T),N.castShadow){const U=N.shadow,z=r.get(N);z.shadowBias=U.bias,z.shadowNormalBias=U.normalBias,z.shadowRadius=U.radius,z.shadowMapSize=U.mapSize,i.directionalShadow[v]=z,i.directionalShadowMap[v]=K,i.directionalShadowMatrix[v]=N.shadow.matrix,A++}i.directional[v]=H,v++}else if(N.isSpotLight){const H=t.get(N);H.position.setFromMatrixPosition(N.matrixWorld),H.color.copy(k).multiplyScalar(V*T),H.distance=W,H.coneCos=Math.cos(N.angle),H.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),H.decay=N.decay,i.spot[_]=H;const U=N.shadow;if(N.map&&(i.spotLightMap[P]=N.map,P++,U.updateMatrices(N),N.castShadow&&M++),i.spotLightMatrix[_]=U.matrix,N.castShadow){const z=r.get(N);z.shadowBias=U.bias,z.shadowNormalBias=U.normalBias,z.shadowRadius=U.radius,z.shadowMapSize=U.mapSize,i.spotShadow[_]=z,i.spotShadowMap[_]=K,E++}_++}else if(N.isRectAreaLight){const H=t.get(N);H.color.copy(k).multiplyScalar(V),H.halfWidth.set(N.width*.5,0,0),H.halfHeight.set(0,N.height*.5,0),i.rectArea[x]=H,x++}else if(N.isPointLight){const H=t.get(N);if(H.color.copy(N.color).multiplyScalar(N.intensity*T),H.distance=N.distance,H.decay=N.decay,N.castShadow){const U=N.shadow,z=r.get(N);z.shadowBias=U.bias,z.shadowNormalBias=U.normalBias,z.shadowRadius=U.radius,z.shadowMapSize=U.mapSize,z.shadowCameraNear=U.camera.near,z.shadowCameraFar=U.camera.far,i.pointShadow[y]=z,i.pointShadowMap[y]=K,i.pointShadowMatrix[y]=N.shadow.matrix,C++}i.point[y]=H,y++}else if(N.isHemisphereLight){const H=t.get(N);H.skyColor.copy(N.color).multiplyScalar(V*T),H.groundColor.copy(N.groundColor).multiplyScalar(V*T),i.hemi[w]=H,w++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=$e.LTC_FLOAT_1,i.rectAreaLTC2=$e.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=$e.LTC_HALF_1,i.rectAreaLTC2=$e.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=p,i.ambient[2]=g;const D=i.hash;(D.directionalLength!==v||D.pointLength!==y||D.spotLength!==_||D.rectAreaLength!==x||D.hemiLength!==w||D.numDirectionalShadows!==A||D.numPointShadows!==C||D.numSpotShadows!==E||D.numSpotMaps!==P)&&(i.directional.length=v,i.spot.length=_,i.rectArea.length=x,i.point.length=y,i.hemi.length=w,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=E+P-M,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=M,D.directionalLength=v,D.pointLength=y,D.spotLength=_,D.rectAreaLength=x,D.hemiLength=w,D.numDirectionalShadows=A,D.numPointShadows=C,D.numSpotShadows=E,D.numSpotMaps=P,i.version=rJ++)}function c(u,f){let d=0,p=0,g=0,v=0,y=0;const _=f.matrixWorldInverse;for(let x=0,w=u.length;x<w;x++){const A=u[x];if(A.isDirectionalLight){const C=i.directional[d];C.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(_),d++}else if(A.isSpotLight){const C=i.spot[g];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(_),C.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(_),g++}else if(A.isRectAreaLight){const C=i.rectArea[v];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(_),a.identity(),o.copy(A.matrixWorld),o.premultiply(_),a.extractRotation(o),C.halfWidth.set(A.width*.5,0,0),C.halfHeight.set(0,A.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),v++}else if(A.isPointLight){const C=i.point[p];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(_),p++}else if(A.isHemisphereLight){const C=i.hemi[y];C.direction.setFromMatrixPosition(A.matrixWorld),C.direction.transformDirection(_),y++}}}return{setup:l,setupView:c,state:i}}function DR(n,e){const t=new sJ(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function c(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function oJ(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new DR(n,e),t.set(s,[l])):o>=a.length?(l=new DR(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class V_ extends ir{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=sN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class W_ extends ir{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new $,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const aJ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,lJ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function cJ(n,e,t){let r=new G_;const i=new Le,s=new Le,o=new Pt,a=new V_({depthPacking:bC}),l=new W_,c={},u=t.maxTextureSize,f={0:mi,1:Wa,2:Gs},d=new wo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Le},radius:{value:4}},vertexShader:aJ,fragmentShader:lJ}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const g=new gt;g.setAttribute("position",new $t(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new On(g,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=I_,this.render=function(A,C,E){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;const P=n.getRenderTarget(),M=n.getActiveCubeFace(),T=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Da),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let F=0,L=A.length;F<L;F++){const N=A[F],k=N.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",N,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;i.copy(k.mapSize);const V=k.getFrameExtents();if(i.multiply(V),s.copy(k.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/V.x),i.x=s.x*V.x,k.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/V.y),i.y=s.y*V.y,k.mapSize.y=s.y)),k.map===null){const K=this.type!==vu?{minFilter:Kn,magFilter:Kn}:{};k.map=new Ks(i.x,i.y,K),k.map.texture.name=N.name+".shadowMap",k.camera.updateProjectionMatrix()}n.setRenderTarget(k.map),n.clear();const W=k.getViewportCount();for(let K=0;K<W;K++){const H=k.getViewport(K);o.set(s.x*H.x,s.y*H.y,s.x*H.z,s.y*H.w),D.viewport(o),k.updateMatrices(N,K),r=k.getFrustum(),w(C,E,k.camera,N,this.type)}k.isPointLightShadow!==!0&&this.type===vu&&_(k,E),k.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(P,M,T)};function _(A,C){const E=e.update(v);d.defines.VSM_SAMPLES!==A.blurSamples&&(d.defines.VSM_SAMPLES=A.blurSamples,p.defines.VSM_SAMPLES=A.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Ks(i.x,i.y)),d.uniforms.shadow_pass.value=A.map.texture,d.uniforms.resolution.value=A.mapSize,d.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(C,null,E,d,v,null),p.uniforms.shadow_pass.value=A.mapPass.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(C,null,E,p,v,null)}function x(A,C,E,P,M,T){let D=null;const F=E.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(F!==void 0?D=F:D=E.isPointLight===!0?l:a,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0){const L=D.uuid,N=C.uuid;let k=c[L];k===void 0&&(k={},c[L]=k);let V=k[N];V===void 0&&(V=D.clone(),k[N]=V),D=V}return D.visible=C.visible,D.wireframe=C.wireframe,T===vu?D.side=C.shadowSide!==null?C.shadowSide:C.side:D.side=C.shadowSide!==null?C.shadowSide:f[C.side],D.alphaMap=C.alphaMap,D.alphaTest=C.alphaTest,D.clipShadows=C.clipShadows,D.clippingPlanes=C.clippingPlanes,D.clipIntersection=C.clipIntersection,D.displacementMap=C.displacementMap,D.displacementScale=C.displacementScale,D.displacementBias=C.displacementBias,D.wireframeLinewidth=C.wireframeLinewidth,D.linewidth=C.linewidth,E.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(E.matrixWorld),D.nearDistance=P,D.farDistance=M),D}function w(A,C,E,P,M){if(A.visible===!1)return;if(A.layers.test(C.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&M===vu)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,A.matrixWorld);const F=e.update(A),L=A.material;if(Array.isArray(L)){const N=F.groups;for(let k=0,V=N.length;k<V;k++){const W=N[k],K=L[W.materialIndex];if(K&&K.visible){const H=x(A,K,P,E.near,E.far,M);n.renderBufferDirect(E,null,F,H,A,W)}}}else if(L.visible){const N=x(A,L,P,E.near,E.far,M);n.renderBufferDirect(E,null,F,N,A,null)}}const D=A.children;for(let F=0,L=D.length;F<L;F++)w(D[F],C,E,P,M)}}function uJ(n,e,t){const r=t.isWebGL2;function i(){let ie=!1;const fe=new Pt;let Be=null;const Je=new Pt(0,0,0,0);return{setMask:function(We){Be!==We&&!ie&&(n.colorMask(We,We,We,We),Be=We)},setLocked:function(We){ie=We},setClear:function(We,Qe,St,_t,ct){ct===!0&&(We*=_t,Qe*=_t,St*=_t),fe.set(We,Qe,St,_t),Je.equals(fe)===!1&&(n.clearColor(We,Qe,St,_t),Je.copy(fe))},reset:function(){ie=!1,Be=null,Je.set(-1,0,0,0)}}}function s(){let ie=!1,fe=null,Be=null,Je=null;return{setTest:function(We){We?ce(2929):de(2929)},setMask:function(We){fe!==We&&!ie&&(n.depthMask(We),fe=We)},setFunc:function(We){if(Be!==We){switch(We){case E4:n.depthFunc(512);break;case T4:n.depthFunc(519);break;case P4:n.depthFunc(513);break;case R1:n.depthFunc(515);break;case R4:n.depthFunc(514);break;case D4:n.depthFunc(518);break;case B4:n.depthFunc(516);break;case L4:n.depthFunc(517);break;default:n.depthFunc(515)}Be=We}},setLocked:function(We){ie=We},setClear:function(We){Je!==We&&(n.clearDepth(We),Je=We)},reset:function(){ie=!1,fe=null,Be=null,Je=null}}}function o(){let ie=!1,fe=null,Be=null,Je=null,We=null,Qe=null,St=null,_t=null,ct=null;return{setTest:function(ut){ie||(ut?ce(2960):de(2960))},setMask:function(ut){fe!==ut&&!ie&&(n.stencilMask(ut),fe=ut)},setFunc:function(ut,Qt,Jt){(Be!==ut||Je!==Qt||We!==Jt)&&(n.stencilFunc(ut,Qt,Jt),Be=ut,Je=Qt,We=Jt)},setOp:function(ut,Qt,Jt){(Qe!==ut||St!==Qt||_t!==Jt)&&(n.stencilOp(ut,Qt,Jt),Qe=ut,St=Qt,_t=Jt)},setLocked:function(ut){ie=ut},setClear:function(ut){ct!==ut&&(n.clearStencil(ut),ct=ut)},reset:function(){ie=!1,fe=null,Be=null,Je=null,We=null,Qe=null,St=null,_t=null,ct=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let d={},p={},g=new WeakMap,v=[],y=null,_=!1,x=null,w=null,A=null,C=null,E=null,P=null,M=null,T=!1,D=null,F=null,L=null,N=null,k=null;const V=n.getParameter(35661);let W=!1,K=0;const H=n.getParameter(7938);H.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(H)[1]),W=K>=1):H.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),W=K>=2);let U=null,z={};const G=n.getParameter(3088),j=n.getParameter(2978),Z=new Pt().fromArray(G),q=new Pt().fromArray(j);function re(ie,fe,Be){const Je=new Uint8Array(4),We=n.createTexture();n.bindTexture(ie,We),n.texParameteri(ie,10241,9728),n.texParameteri(ie,10240,9728);for(let Qe=0;Qe<Be;Qe++)n.texImage2D(fe+Qe,0,6408,1,1,0,6408,5121,Je);return We}const Q={};Q[3553]=re(3553,3553,1),Q[34067]=re(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ce(2929),l.setFunc(R1),xe(!1),Ne(Mb),ce(2884),_e(Da);function ce(ie){d[ie]!==!0&&(n.enable(ie),d[ie]=!0)}function de(ie){d[ie]!==!1&&(n.disable(ie),d[ie]=!1)}function Re(ie,fe){return p[ie]!==fe?(n.bindFramebuffer(ie,fe),p[ie]=fe,r&&(ie===36009&&(p[36160]=fe),ie===36160&&(p[36009]=fe)),!0):!1}function ge(ie,fe){let Be=v,Je=!1;if(ie)if(Be=g.get(fe),Be===void 0&&(Be=[],g.set(fe,Be)),ie.isWebGLMultipleRenderTargets){const We=ie.texture;if(Be.length!==We.length||Be[0]!==36064){for(let Qe=0,St=We.length;Qe<St;Qe++)Be[Qe]=36064+Qe;Be.length=We.length,Je=!0}}else Be[0]!==36064&&(Be[0]=36064,Je=!0);else Be[0]!==1029&&(Be[0]=1029,Je=!0);Je&&(t.isWebGL2?n.drawBuffers(Be):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Be))}function ve(ie){return y!==ie?(n.useProgram(ie),y=ie,!0):!1}const ne={[du]:32774,[g4]:32778,[v4]:32779};if(r)ne[Pb]=32775,ne[Rb]=32776;else{const ie=e.get("EXT_blend_minmax");ie!==null&&(ne[Pb]=ie.MIN_EXT,ne[Rb]=ie.MAX_EXT)}const oe={[y4]:0,[_4]:1,[x4]:768,[yC]:770,[C4]:776,[b4]:774,[S4]:772,[w4]:769,[_C]:771,[M4]:775,[A4]:773};function _e(ie,fe,Be,Je,We,Qe,St,_t){if(ie===Da){_===!0&&(de(3042),_=!1);return}if(_===!1&&(ce(3042),_=!0),ie!==m4){if(ie!==x||_t!==T){if((w!==du||E!==du)&&(n.blendEquation(32774),w=du,E=du),_t)switch(ie){case Pu:n.blendFuncSeparate(1,771,1,771);break;case Cb:n.blendFunc(1,1);break;case Eb:n.blendFuncSeparate(0,769,0,1);break;case Tb:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}else switch(ie){case Pu:n.blendFuncSeparate(770,771,1,771);break;case Cb:n.blendFunc(770,1);break;case Eb:n.blendFuncSeparate(0,769,0,1);break;case Tb:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}A=null,C=null,P=null,M=null,x=ie,T=_t}return}We=We||fe,Qe=Qe||Be,St=St||Je,(fe!==w||We!==E)&&(n.blendEquationSeparate(ne[fe],ne[We]),w=fe,E=We),(Be!==A||Je!==C||Qe!==P||St!==M)&&(n.blendFuncSeparate(oe[Be],oe[Je],oe[Qe],oe[St]),A=Be,C=Je,P=Qe,M=St),x=ie,T=null}function be(ie,fe){ie.side===Gs?de(2884):ce(2884);let Be=ie.side===mi;fe&&(Be=!Be),xe(Be),ie.blending===Pu&&ie.transparent===!1?_e(Da):_e(ie.blending,ie.blendEquation,ie.blendSrc,ie.blendDst,ie.blendEquationAlpha,ie.blendSrcAlpha,ie.blendDstAlpha,ie.premultipliedAlpha),l.setFunc(ie.depthFunc),l.setTest(ie.depthTest),l.setMask(ie.depthWrite),a.setMask(ie.colorWrite);const Je=ie.stencilWrite;c.setTest(Je),Je&&(c.setMask(ie.stencilWriteMask),c.setFunc(ie.stencilFunc,ie.stencilRef,ie.stencilFuncMask),c.setOp(ie.stencilFail,ie.stencilZFail,ie.stencilZPass)),Ie(ie.polygonOffset,ie.polygonOffsetFactor,ie.polygonOffsetUnits),ie.alphaToCoverage===!0?ce(32926):de(32926)}function xe(ie){D!==ie&&(ie?n.frontFace(2304):n.frontFace(2305),D=ie)}function Ne(ie){ie!==d4?(ce(2884),ie!==F&&(ie===Mb?n.cullFace(1029):ie===h4?n.cullFace(1028):n.cullFace(1032))):de(2884),F=ie}function we(ie){ie!==L&&(W&&n.lineWidth(ie),L=ie)}function Ie(ie,fe,Be){ie?(ce(32823),(N!==fe||k!==Be)&&(n.polygonOffset(fe,Be),N=fe,k=Be)):de(32823)}function Ue(ie){ie?ce(3089):de(3089)}function Ae(ie){ie===void 0&&(ie=33984+V-1),U!==ie&&(n.activeTexture(ie),U=ie)}function X(ie,fe,Be){Be===void 0&&(U===null?Be=33984+V-1:Be=U);let Je=z[Be];Je===void 0&&(Je={type:void 0,texture:void 0},z[Be]=Je),(Je.type!==ie||Je.texture!==fe)&&(U!==Be&&(n.activeTexture(Be),U=Be),n.bindTexture(ie,fe||Q[ie]),Je.type=ie,Je.texture=fe)}function O(){const ie=z[U];ie!==void 0&&ie.type!==void 0&&(n.bindTexture(ie.type,null),ie.type=void 0,ie.texture=void 0)}function ee(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ae(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ye(){try{n.texSubImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Fe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Ee(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function pe(){try{n.texStorage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function je(){try{n.texStorage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Xe(){try{n.texImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Oe(){try{n.texImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ze(ie){Z.equals(ie)===!1&&(n.scissor(ie.x,ie.y,ie.z,ie.w),Z.copy(ie))}function ke(ie){q.equals(ie)===!1&&(n.viewport(ie.x,ie.y,ie.z,ie.w),q.copy(ie))}function it(ie,fe){let Be=f.get(fe);Be===void 0&&(Be=new WeakMap,f.set(fe,Be));let Je=Be.get(ie);Je===void 0&&(Je=n.getUniformBlockIndex(fe,ie.name),Be.set(ie,Je))}function at(ie,fe){const Je=f.get(fe).get(ie);u.get(ie)!==Je&&(n.uniformBlockBinding(fe,Je,ie.__bindingPointIndex),u.set(ie,Je))}function It(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},U=null,z={},p={},g=new WeakMap,v=[],y=null,_=!1,x=null,w=null,A=null,C=null,E=null,P=null,M=null,T=!1,D=null,F=null,L=null,N=null,k=null,Z.set(0,0,n.canvas.width,n.canvas.height),q.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ce,disable:de,bindFramebuffer:Re,drawBuffers:ge,useProgram:ve,setBlending:_e,setMaterial:be,setFlipSided:xe,setCullFace:Ne,setLineWidth:we,setPolygonOffset:Ie,setScissorTest:Ue,activeTexture:Ae,bindTexture:X,unbindTexture:O,compressedTexImage2D:ee,compressedTexImage3D:ae,texImage2D:Xe,texImage3D:Oe,updateUBOMapping:it,uniformBlockBinding:at,texStorage2D:pe,texStorage3D:je,texSubImage2D:Ce,texSubImage3D:ye,compressedTexSubImage2D:Fe,compressedTexSubImage3D:Ee,scissor:ze,viewport:ke,reset:It}}function fJ(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(X,O){return _?new OffscreenCanvas(X,O):ng("canvas")}function w(X,O,ee,ae){let Ce=1;if((X.width>ae||X.height>ae)&&(Ce=ae/Math.max(X.width,X.height)),Ce<1||O===!0)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap){const ye=O?L1:Math.floor,Fe=ye(Ce*X.width),Ee=ye(Ce*X.height);v===void 0&&(v=x(Fe,Ee));const pe=ee?x(Fe,Ee):v;return pe.width=Fe,pe.height=Ee,pe.getContext("2d").drawImage(X,0,0,Fe,Ee),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+X.width+"x"+X.height+") to ("+Fe+"x"+Ee+")."),pe}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+X.width+"x"+X.height+")."),X;return X}function A(X){return Zb(X.width)&&Zb(X.height)}function C(X){return a?!1:X.wrapS!==cr||X.wrapT!==cr||X.minFilter!==Kn&&X.minFilter!==fn}function E(X,O){return X.generateMipmaps&&O&&X.minFilter!==Kn&&X.minFilter!==fn}function P(X){n.generateMipmap(X)}function M(X,O,ee,ae,Ce=!1){if(a===!1)return O;if(X!==null){if(n[X]!==void 0)return n[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let ye=O;return O===6403&&(ee===5126&&(ye=33326),ee===5131&&(ye=33325),ee===5121&&(ye=33321)),O===33319&&(ee===5126&&(ye=33328),ee===5131&&(ye=33327),ee===5121&&(ye=33323)),O===6408&&(ee===5126&&(ye=34836),ee===5131&&(ye=34842),ee===5121&&(ye=ae===vn&&Ce===!1?35907:32856),ee===32819&&(ye=32854),ee===32820&&(ye=32855)),(ye===33325||ye===33326||ye===33327||ye===33328||ye===34842||ye===34836)&&e.get("EXT_color_buffer_float"),ye}function T(X,O,ee){return E(X,ee)===!0||X.isFramebufferTexture&&X.minFilter!==Kn&&X.minFilter!==fn?Math.log2(Math.max(O.width,O.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?O.mipmaps.length:1}function D(X){return X===Kn||X===Qm||X===qm?9728:9729}function F(X){const O=X.target;O.removeEventListener("dispose",F),N(O),O.isVideoTexture&&g.delete(O)}function L(X){const O=X.target;O.removeEventListener("dispose",L),V(O)}function N(X){const O=r.get(X);if(O.__webglInit===void 0)return;const ee=X.source,ae=y.get(ee);if(ae){const Ce=ae[O.__cacheKey];Ce.usedTimes--,Ce.usedTimes===0&&k(X),Object.keys(ae).length===0&&y.delete(ee)}r.remove(X)}function k(X){const O=r.get(X);n.deleteTexture(O.__webglTexture);const ee=X.source,ae=y.get(ee);delete ae[O.__cacheKey],o.memory.textures--}function V(X){const O=X.texture,ee=r.get(X),ae=r.get(O);if(ae.__webglTexture!==void 0&&(n.deleteTexture(ae.__webglTexture),o.memory.textures--),X.depthTexture&&X.depthTexture.dispose(),X.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++)n.deleteFramebuffer(ee.__webglFramebuffer[Ce]),ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer[Ce]);else{if(n.deleteFramebuffer(ee.__webglFramebuffer),ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let Ce=0;Ce<ee.__webglColorRenderbuffer.length;Ce++)ee.__webglColorRenderbuffer[Ce]&&n.deleteRenderbuffer(ee.__webglColorRenderbuffer[Ce]);ee.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}if(X.isWebGLMultipleRenderTargets)for(let Ce=0,ye=O.length;Ce<ye;Ce++){const Fe=r.get(O[Ce]);Fe.__webglTexture&&(n.deleteTexture(Fe.__webglTexture),o.memory.textures--),r.remove(O[Ce])}r.remove(O),r.remove(X)}let W=0;function K(){W=0}function H(){const X=W;return X>=l&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+l),W+=1,X}function U(X){const O=[];return O.push(X.wrapS),O.push(X.wrapT),O.push(X.wrapR||0),O.push(X.magFilter),O.push(X.minFilter),O.push(X.anisotropy),O.push(X.internalFormat),O.push(X.format),O.push(X.type),O.push(X.generateMipmaps),O.push(X.premultiplyAlpha),O.push(X.flipY),O.push(X.unpackAlignment),O.push(X.encoding),O.join()}function z(X,O){const ee=r.get(X);if(X.isVideoTexture&&Ue(X),X.isRenderTargetTexture===!1&&X.version>0&&ee.__version!==X.version){const ae=X.image;if(ae===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{de(ee,X,O);return}}t.bindTexture(3553,ee.__webglTexture,33984+O)}function G(X,O){const ee=r.get(X);if(X.version>0&&ee.__version!==X.version){de(ee,X,O);return}t.bindTexture(35866,ee.__webglTexture,33984+O)}function j(X,O){const ee=r.get(X);if(X.version>0&&ee.__version!==X.version){de(ee,X,O);return}t.bindTexture(32879,ee.__webglTexture,33984+O)}function Z(X,O){const ee=r.get(X);if(X.version>0&&ee.__version!==X.version){Re(ee,X,O);return}t.bindTexture(34067,ee.__webglTexture,33984+O)}const q={[Jo]:10497,[cr]:33071,[sh]:33648},re={[Kn]:9728,[Qm]:9984,[qm]:9986,[fn]:9729,[F_]:9985,[Za]:9987};function Q(X,O,ee){if(ee?(n.texParameteri(X,10242,q[O.wrapS]),n.texParameteri(X,10243,q[O.wrapT]),(X===32879||X===35866)&&n.texParameteri(X,32882,q[O.wrapR]),n.texParameteri(X,10240,re[O.magFilter]),n.texParameteri(X,10241,re[O.minFilter])):(n.texParameteri(X,10242,33071),n.texParameteri(X,10243,33071),(X===32879||X===35866)&&n.texParameteri(X,32882,33071),(O.wrapS!==cr||O.wrapT!==cr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(X,10240,D(O.magFilter)),n.texParameteri(X,10241,D(O.minFilter)),O.minFilter!==Kn&&O.minFilter!==fn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ae=e.get("EXT_texture_filter_anisotropic");if(O.type===Ea&&e.has("OES_texture_float_linear")===!1||a===!1&&O.type===oh&&e.has("OES_texture_half_float_linear")===!1)return;(O.anisotropy>1||r.get(O).__currentAnisotropy)&&(n.texParameterf(X,ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,i.getMaxAnisotropy())),r.get(O).__currentAnisotropy=O.anisotropy)}}function ce(X,O){let ee=!1;X.__webglInit===void 0&&(X.__webglInit=!0,O.addEventListener("dispose",F));const ae=O.source;let Ce=y.get(ae);Ce===void 0&&(Ce={},y.set(ae,Ce));const ye=U(O);if(ye!==X.__cacheKey){Ce[ye]===void 0&&(Ce[ye]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ee=!0),Ce[ye].usedTimes++;const Fe=Ce[X.__cacheKey];Fe!==void 0&&(Ce[X.__cacheKey].usedTimes--,Fe.usedTimes===0&&k(O)),X.__cacheKey=ye,X.__webglTexture=Ce[ye].texture}return ee}function de(X,O,ee){let ae=3553;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(ae=35866),O.isData3DTexture&&(ae=32879);const Ce=ce(X,O),ye=O.source;t.bindTexture(ae,X.__webglTexture,33984+ee);const Fe=r.get(ye);if(ye.version!==Fe.__version||Ce===!0){t.activeTexture(33984+ee),n.pixelStorei(37440,O.flipY),n.pixelStorei(37441,O.premultiplyAlpha),n.pixelStorei(3317,O.unpackAlignment),n.pixelStorei(37443,0);const Ee=C(O)&&A(O.image)===!1;let pe=w(O.image,Ee,!1,u);pe=Ae(O,pe);const je=A(pe)||a,Xe=s.convert(O.format,O.encoding);let Oe=s.convert(O.type),ze=M(O.internalFormat,Xe,Oe,O.encoding,O.isVideoTexture);Q(ae,O,je);let ke;const it=O.mipmaps,at=a&&O.isVideoTexture!==!0,It=Fe.__version===void 0||Ce===!0,ie=T(O,pe,je);if(O.isDepthTexture)ze=6402,a?O.type===Ea?ze=36012:O.type===zl?ze=33190:O.type===Ru?ze=35056:ze=33189:O.type===Ea&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===ec&&ze===6402&&O.type!==wC&&O.type!==zl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=zl,Oe=s.convert(O.type)),O.format===Xu&&ze===6402&&(ze=34041,O.type!==Ru&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=Ru,Oe=s.convert(O.type))),It&&(at?t.texStorage2D(3553,1,ze,pe.width,pe.height):t.texImage2D(3553,0,ze,pe.width,pe.height,0,Xe,Oe,null));else if(O.isDataTexture)if(it.length>0&&je){at&&It&&t.texStorage2D(3553,ie,ze,it[0].width,it[0].height);for(let fe=0,Be=it.length;fe<Be;fe++)ke=it[fe],at?t.texSubImage2D(3553,fe,0,0,ke.width,ke.height,Xe,Oe,ke.data):t.texImage2D(3553,fe,ze,ke.width,ke.height,0,Xe,Oe,ke.data);O.generateMipmaps=!1}else at?(It&&t.texStorage2D(3553,ie,ze,pe.width,pe.height),t.texSubImage2D(3553,0,0,0,pe.width,pe.height,Xe,Oe,pe.data)):t.texImage2D(3553,0,ze,pe.width,pe.height,0,Xe,Oe,pe.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){at&&It&&t.texStorage3D(35866,ie,ze,it[0].width,it[0].height,pe.depth);for(let fe=0,Be=it.length;fe<Be;fe++)ke=it[fe],O.format!==Ci?Xe!==null?at?t.compressedTexSubImage3D(35866,fe,0,0,0,ke.width,ke.height,pe.depth,Xe,ke.data,0,0):t.compressedTexImage3D(35866,fe,ze,ke.width,ke.height,pe.depth,0,ke.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):at?t.texSubImage3D(35866,fe,0,0,0,ke.width,ke.height,pe.depth,Xe,Oe,ke.data):t.texImage3D(35866,fe,ze,ke.width,ke.height,pe.depth,0,Xe,Oe,ke.data)}else{at&&It&&t.texStorage2D(3553,ie,ze,it[0].width,it[0].height);for(let fe=0,Be=it.length;fe<Be;fe++)ke=it[fe],O.format!==Ci?Xe!==null?at?t.compressedTexSubImage2D(3553,fe,0,0,ke.width,ke.height,Xe,ke.data):t.compressedTexImage2D(3553,fe,ze,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):at?t.texSubImage2D(3553,fe,0,0,ke.width,ke.height,Xe,Oe,ke.data):t.texImage2D(3553,fe,ze,ke.width,ke.height,0,Xe,Oe,ke.data)}else if(O.isDataArrayTexture)at?(It&&t.texStorage3D(35866,ie,ze,pe.width,pe.height,pe.depth),t.texSubImage3D(35866,0,0,0,0,pe.width,pe.height,pe.depth,Xe,Oe,pe.data)):t.texImage3D(35866,0,ze,pe.width,pe.height,pe.depth,0,Xe,Oe,pe.data);else if(O.isData3DTexture)at?(It&&t.texStorage3D(32879,ie,ze,pe.width,pe.height,pe.depth),t.texSubImage3D(32879,0,0,0,0,pe.width,pe.height,pe.depth,Xe,Oe,pe.data)):t.texImage3D(32879,0,ze,pe.width,pe.height,pe.depth,0,Xe,Oe,pe.data);else if(O.isFramebufferTexture){if(It)if(at)t.texStorage2D(3553,ie,ze,pe.width,pe.height);else{let fe=pe.width,Be=pe.height;for(let Je=0;Je<ie;Je++)t.texImage2D(3553,Je,ze,fe,Be,0,Xe,Oe,null),fe>>=1,Be>>=1}}else if(it.length>0&&je){at&&It&&t.texStorage2D(3553,ie,ze,it[0].width,it[0].height);for(let fe=0,Be=it.length;fe<Be;fe++)ke=it[fe],at?t.texSubImage2D(3553,fe,0,0,Xe,Oe,ke):t.texImage2D(3553,fe,ze,Xe,Oe,ke);O.generateMipmaps=!1}else at?(It&&t.texStorage2D(3553,ie,ze,pe.width,pe.height),t.texSubImage2D(3553,0,0,0,Xe,Oe,pe)):t.texImage2D(3553,0,ze,Xe,Oe,pe);E(O,je)&&P(ae),Fe.__version=ye.version,O.onUpdate&&O.onUpdate(O)}X.__version=O.version}function Re(X,O,ee){if(O.image.length!==6)return;const ae=ce(X,O),Ce=O.source;t.bindTexture(34067,X.__webglTexture,33984+ee);const ye=r.get(Ce);if(Ce.version!==ye.__version||ae===!0){t.activeTexture(33984+ee),n.pixelStorei(37440,O.flipY),n.pixelStorei(37441,O.premultiplyAlpha),n.pixelStorei(3317,O.unpackAlignment),n.pixelStorei(37443,0);const Fe=O.isCompressedTexture||O.image[0].isCompressedTexture,Ee=O.image[0]&&O.image[0].isDataTexture,pe=[];for(let fe=0;fe<6;fe++)!Fe&&!Ee?pe[fe]=w(O.image[fe],!1,!0,c):pe[fe]=Ee?O.image[fe].image:O.image[fe],pe[fe]=Ae(O,pe[fe]);const je=pe[0],Xe=A(je)||a,Oe=s.convert(O.format,O.encoding),ze=s.convert(O.type),ke=M(O.internalFormat,Oe,ze,O.encoding),it=a&&O.isVideoTexture!==!0,at=ye.__version===void 0||ae===!0;let It=T(O,je,Xe);Q(34067,O,Xe);let ie;if(Fe){it&&at&&t.texStorage2D(34067,It,ke,je.width,je.height);for(let fe=0;fe<6;fe++){ie=pe[fe].mipmaps;for(let Be=0;Be<ie.length;Be++){const Je=ie[Be];O.format!==Ci?Oe!==null?it?t.compressedTexSubImage2D(34069+fe,Be,0,0,Je.width,Je.height,Oe,Je.data):t.compressedTexImage2D(34069+fe,Be,ke,Je.width,Je.height,0,Je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):it?t.texSubImage2D(34069+fe,Be,0,0,Je.width,Je.height,Oe,ze,Je.data):t.texImage2D(34069+fe,Be,ke,Je.width,Je.height,0,Oe,ze,Je.data)}}}else{ie=O.mipmaps,it&&at&&(ie.length>0&&It++,t.texStorage2D(34067,It,ke,pe[0].width,pe[0].height));for(let fe=0;fe<6;fe++)if(Ee){it?t.texSubImage2D(34069+fe,0,0,0,pe[fe].width,pe[fe].height,Oe,ze,pe[fe].data):t.texImage2D(34069+fe,0,ke,pe[fe].width,pe[fe].height,0,Oe,ze,pe[fe].data);for(let Be=0;Be<ie.length;Be++){const We=ie[Be].image[fe].image;it?t.texSubImage2D(34069+fe,Be+1,0,0,We.width,We.height,Oe,ze,We.data):t.texImage2D(34069+fe,Be+1,ke,We.width,We.height,0,Oe,ze,We.data)}}else{it?t.texSubImage2D(34069+fe,0,0,0,Oe,ze,pe[fe]):t.texImage2D(34069+fe,0,ke,Oe,ze,pe[fe]);for(let Be=0;Be<ie.length;Be++){const Je=ie[Be];it?t.texSubImage2D(34069+fe,Be+1,0,0,Oe,ze,Je.image[fe]):t.texImage2D(34069+fe,Be+1,ke,Oe,ze,Je.image[fe])}}}E(O,Xe)&&P(34067),ye.__version=Ce.version,O.onUpdate&&O.onUpdate(O)}X.__version=O.version}function ge(X,O,ee,ae,Ce){const ye=s.convert(ee.format,ee.encoding),Fe=s.convert(ee.type),Ee=M(ee.internalFormat,ye,Fe,ee.encoding);r.get(O).__hasExternalTextures||(Ce===32879||Ce===35866?t.texImage3D(Ce,0,Ee,O.width,O.height,O.depth,0,ye,Fe,null):t.texImage2D(Ce,0,Ee,O.width,O.height,0,ye,Fe,null)),t.bindFramebuffer(36160,X),Ie(O)?d.framebufferTexture2DMultisampleEXT(36160,ae,Ce,r.get(ee).__webglTexture,0,we(O)):(Ce===3553||Ce>=34069&&Ce<=34074)&&n.framebufferTexture2D(36160,ae,Ce,r.get(ee).__webglTexture,0),t.bindFramebuffer(36160,null)}function ve(X,O,ee){if(n.bindRenderbuffer(36161,X),O.depthBuffer&&!O.stencilBuffer){let ae=33189;if(ee||Ie(O)){const Ce=O.depthTexture;Ce&&Ce.isDepthTexture&&(Ce.type===Ea?ae=36012:Ce.type===zl&&(ae=33190));const ye=we(O);Ie(O)?d.renderbufferStorageMultisampleEXT(36161,ye,ae,O.width,O.height):n.renderbufferStorageMultisample(36161,ye,ae,O.width,O.height)}else n.renderbufferStorage(36161,ae,O.width,O.height);n.framebufferRenderbuffer(36160,36096,36161,X)}else if(O.depthBuffer&&O.stencilBuffer){const ae=we(O);ee&&Ie(O)===!1?n.renderbufferStorageMultisample(36161,ae,35056,O.width,O.height):Ie(O)?d.renderbufferStorageMultisampleEXT(36161,ae,35056,O.width,O.height):n.renderbufferStorage(36161,34041,O.width,O.height),n.framebufferRenderbuffer(36160,33306,36161,X)}else{const ae=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let Ce=0;Ce<ae.length;Ce++){const ye=ae[Ce],Fe=s.convert(ye.format,ye.encoding),Ee=s.convert(ye.type),pe=M(ye.internalFormat,Fe,Ee,ye.encoding),je=we(O);ee&&Ie(O)===!1?n.renderbufferStorageMultisample(36161,je,pe,O.width,O.height):Ie(O)?d.renderbufferStorageMultisampleEXT(36161,je,pe,O.width,O.height):n.renderbufferStorage(36161,pe,O.width,O.height)}}n.bindRenderbuffer(36161,null)}function ne(X,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,X),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),z(O.depthTexture,0);const ae=r.get(O.depthTexture).__webglTexture,Ce=we(O);if(O.depthTexture.format===ec)Ie(O)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,ae,0,Ce):n.framebufferTexture2D(36160,36096,3553,ae,0);else if(O.depthTexture.format===Xu)Ie(O)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,ae,0,Ce):n.framebufferTexture2D(36160,33306,3553,ae,0);else throw new Error("Unknown depthTexture format")}function oe(X){const O=r.get(X),ee=X.isWebGLCubeRenderTarget===!0;if(X.depthTexture&&!O.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");ne(O.__webglFramebuffer,X)}else if(ee){O.__webglDepthbuffer=[];for(let ae=0;ae<6;ae++)t.bindFramebuffer(36160,O.__webglFramebuffer[ae]),O.__webglDepthbuffer[ae]=n.createRenderbuffer(),ve(O.__webglDepthbuffer[ae],X,!1)}else t.bindFramebuffer(36160,O.__webglFramebuffer),O.__webglDepthbuffer=n.createRenderbuffer(),ve(O.__webglDepthbuffer,X,!1);t.bindFramebuffer(36160,null)}function _e(X,O,ee){const ae=r.get(X);O!==void 0&&ge(ae.__webglFramebuffer,X,X.texture,36064,3553),ee!==void 0&&oe(X)}function be(X){const O=X.texture,ee=r.get(X),ae=r.get(O);X.addEventListener("dispose",L),X.isWebGLMultipleRenderTargets!==!0&&(ae.__webglTexture===void 0&&(ae.__webglTexture=n.createTexture()),ae.__version=O.version,o.memory.textures++);const Ce=X.isWebGLCubeRenderTarget===!0,ye=X.isWebGLMultipleRenderTargets===!0,Fe=A(X)||a;if(Ce){ee.__webglFramebuffer=[];for(let Ee=0;Ee<6;Ee++)ee.__webglFramebuffer[Ee]=n.createFramebuffer()}else{if(ee.__webglFramebuffer=n.createFramebuffer(),ye)if(i.drawBuffers){const Ee=X.texture;for(let pe=0,je=Ee.length;pe<je;pe++){const Xe=r.get(Ee[pe]);Xe.__webglTexture===void 0&&(Xe.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&X.samples>0&&Ie(X)===!1){const Ee=ye?O:[O];ee.__webglMultisampledFramebuffer=n.createFramebuffer(),ee.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ee.__webglMultisampledFramebuffer);for(let pe=0;pe<Ee.length;pe++){const je=Ee[pe];ee.__webglColorRenderbuffer[pe]=n.createRenderbuffer(),n.bindRenderbuffer(36161,ee.__webglColorRenderbuffer[pe]);const Xe=s.convert(je.format,je.encoding),Oe=s.convert(je.type),ze=M(je.internalFormat,Xe,Oe,je.encoding,X.isXRRenderTarget===!0),ke=we(X);n.renderbufferStorageMultisample(36161,ke,ze,X.width,X.height),n.framebufferRenderbuffer(36160,36064+pe,36161,ee.__webglColorRenderbuffer[pe])}n.bindRenderbuffer(36161,null),X.depthBuffer&&(ee.__webglDepthRenderbuffer=n.createRenderbuffer(),ve(ee.__webglDepthRenderbuffer,X,!0)),t.bindFramebuffer(36160,null)}}if(Ce){t.bindTexture(34067,ae.__webglTexture),Q(34067,O,Fe);for(let Ee=0;Ee<6;Ee++)ge(ee.__webglFramebuffer[Ee],X,O,36064,34069+Ee);E(O,Fe)&&P(34067),t.unbindTexture()}else if(ye){const Ee=X.texture;for(let pe=0,je=Ee.length;pe<je;pe++){const Xe=Ee[pe],Oe=r.get(Xe);t.bindTexture(3553,Oe.__webglTexture),Q(3553,Xe,Fe),ge(ee.__webglFramebuffer,X,Xe,36064+pe,3553),E(Xe,Fe)&&P(3553)}t.unbindTexture()}else{let Ee=3553;(X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(a?Ee=X.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ee,ae.__webglTexture),Q(Ee,O,Fe),ge(ee.__webglFramebuffer,X,O,36064,Ee),E(O,Fe)&&P(Ee),t.unbindTexture()}X.depthBuffer&&oe(X)}function xe(X){const O=A(X)||a,ee=X.isWebGLMultipleRenderTargets===!0?X.texture:[X.texture];for(let ae=0,Ce=ee.length;ae<Ce;ae++){const ye=ee[ae];if(E(ye,O)){const Fe=X.isWebGLCubeRenderTarget?34067:3553,Ee=r.get(ye).__webglTexture;t.bindTexture(Fe,Ee),P(Fe),t.unbindTexture()}}}function Ne(X){if(a&&X.samples>0&&Ie(X)===!1){const O=X.isWebGLMultipleRenderTargets?X.texture:[X.texture],ee=X.width,ae=X.height;let Ce=16384;const ye=[],Fe=X.stencilBuffer?33306:36096,Ee=r.get(X),pe=X.isWebGLMultipleRenderTargets===!0;if(pe)for(let je=0;je<O.length;je++)t.bindFramebuffer(36160,Ee.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+je,36161,null),t.bindFramebuffer(36160,Ee.__webglFramebuffer),n.framebufferTexture2D(36009,36064+je,3553,null,0);t.bindFramebuffer(36008,Ee.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ee.__webglFramebuffer);for(let je=0;je<O.length;je++){ye.push(36064+je),X.depthBuffer&&ye.push(Fe);const Xe=Ee.__ignoreDepthValues!==void 0?Ee.__ignoreDepthValues:!1;if(Xe===!1&&(X.depthBuffer&&(Ce|=256),X.stencilBuffer&&(Ce|=1024)),pe&&n.framebufferRenderbuffer(36008,36064,36161,Ee.__webglColorRenderbuffer[je]),Xe===!0&&(n.invalidateFramebuffer(36008,[Fe]),n.invalidateFramebuffer(36009,[Fe])),pe){const Oe=r.get(O[je]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,Oe,0)}n.blitFramebuffer(0,0,ee,ae,0,0,ee,ae,Ce,9728),p&&n.invalidateFramebuffer(36008,ye)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),pe)for(let je=0;je<O.length;je++){t.bindFramebuffer(36160,Ee.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+je,36161,Ee.__webglColorRenderbuffer[je]);const Xe=r.get(O[je]).__webglTexture;t.bindFramebuffer(36160,Ee.__webglFramebuffer),n.framebufferTexture2D(36009,36064+je,3553,Xe,0)}t.bindFramebuffer(36009,Ee.__webglMultisampledFramebuffer)}}function we(X){return Math.min(f,X.samples)}function Ie(X){const O=r.get(X);return a&&X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function Ue(X){const O=o.render.frame;g.get(X)!==O&&(g.set(X,O),X.update())}function Ae(X,O){const ee=X.encoding,ae=X.format,Ce=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||X.format===B1||ee!==lc&&(ee===vn?a===!1?e.has("EXT_sRGB")===!0&&ae===Ci?(X.format=B1,X.minFilter=fn,X.generateMipmaps=!1):O=CC.sRGBToLinear(O):(ae!==Ci||Ce!==ja)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ee)),O}this.allocateTextureUnit=H,this.resetTextureUnits=K,this.setTexture2D=z,this.setTexture2DArray=G,this.setTexture3D=j,this.setTextureCube=Z,this.rebindTextures=_e,this.setupRenderTarget=be,this.updateRenderTargetMipmap=xe,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=oe,this.setupFrameBufferTexture=ge,this.useMultisampledRTT=Ie}function yN(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===ja)return 5121;if(s===V4)return 32819;if(s===W4)return 32820;if(s===z4)return 5120;if(s===G4)return 5122;if(s===wC)return 5123;if(s===H4)return 5124;if(s===zl)return 5125;if(s===Ea)return 5126;if(s===oh)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===j4)return 6406;if(s===Ci)return 6408;if(s===X4)return 6409;if(s===J4)return 6410;if(s===ec)return 6402;if(s===Xu)return 34041;if(s===K4)return 6403;if(s===$4)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===B1)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Y4)return 36244;if(s===Q4)return 33319;if(s===q4)return 33320;if(s===Z4)return 36249;if(s===Wy||s===jy||s===$y||s===Xy)if(o===vn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Wy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===jy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===$y)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Xy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Wy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===jy)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===$y)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Xy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Db||s===Bb||s===Lb||s===Ib)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Db)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Bb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Lb)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Ib)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===eN)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===kb||s===Fb)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===kb)return o===vn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Fb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Ob||s===Nb||s===Ub||s===zb||s===Gb||s===Hb||s===Vb||s===Wb||s===jb||s===$b||s===Xb||s===Jb||s===Kb||s===Yb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Ob)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Nb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Ub)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===zb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Gb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Hb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Vb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Wb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===jb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===$b)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Xb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Jb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Kb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===Yb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Qb)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Qb)return o===vn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Ru?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class _N extends nr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ho extends Rt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const dJ={type:"move"};class fS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ho,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ho,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ho,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const y=t.getJointPose(v,r);if(c.joints[v.jointName]===void 0){const x=new ho;x.matrixAutoUpdate=!1,x.visible=!1,c.joints[v.jointName]=x,c.add(x)}const _=c.joints[v.jointName];y!==null&&(_.matrix.fromArray(y.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=y.radius),_.visible=y!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),p=.02,g=.005;c.inputState.pinching&&d>p+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=p-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(dJ)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class xN extends on{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:ec,u!==ec&&u!==Xu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===ec&&(r=zl),r===void 0&&u===Xu&&(r=Ru),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Kn,this.minFilter=l!==void 0?l:Kn,this.flipY=!1,this.generateMipmaps=!1}}class hJ extends el{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,f=null,d=null,p=null;const g=t.getContextAttributes();let v=null,y=null;const _=[],x=[],w=new nr;w.layers.enable(1),w.viewport=new Pt;const A=new nr;A.layers.enable(2),A.viewport=new Pt;const C=[w,A],E=new _N;E.layers.enable(1),E.layers.enable(2);let P=null,M=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(U){let z=_[U];return z===void 0&&(z=new fS,_[U]=z),z.getTargetRaySpace()},this.getControllerGrip=function(U){let z=_[U];return z===void 0&&(z=new fS,_[U]=z),z.getGripSpace()},this.getHand=function(U){let z=_[U];return z===void 0&&(z=new fS,_[U]=z),z.getHandSpace()};function T(U){const z=x.indexOf(U.inputSource);if(z===-1)return;const G=_[z];G!==void 0&&G.dispatchEvent({type:U.type,data:U.inputSource})}function D(){i.removeEventListener("select",T),i.removeEventListener("selectstart",T),i.removeEventListener("selectend",T),i.removeEventListener("squeeze",T),i.removeEventListener("squeezestart",T),i.removeEventListener("squeezeend",T),i.removeEventListener("end",D),i.removeEventListener("inputsourceschange",F);for(let U=0;U<_.length;U++){const z=x[U];z!==null&&(x[U]=null,_[U].disconnect(z))}P=null,M=null,e.setRenderTarget(v),d=null,f=null,u=null,i=null,y=null,H.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(U){s=U,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(U){a=U,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(U){l=U},this.getBaseLayer=function(){return f!==null?f:d},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(U){if(i=U,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",T),i.addEventListener("selectstart",T),i.addEventListener("selectend",T),i.addEventListener("squeeze",T),i.addEventListener("squeezestart",T),i.addEventListener("squeezeend",T),i.addEventListener("end",D),i.addEventListener("inputsourceschange",F),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const z={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(i,t,z),i.updateRenderState({baseLayer:d}),y=new Ks(d.framebufferWidth,d.framebufferHeight,{format:Ci,type:ja,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let z=null,G=null,j=null;g.depth&&(j=g.stencil?35056:33190,z=g.stencil?Xu:ec,G=g.stencil?Ru:zl);const Z={colorFormat:32856,depthFormat:j,scaleFactor:s};u=new XRWebGLBinding(i,t),f=u.createProjectionLayer(Z),i.updateRenderState({layers:[f]}),y=new Ks(f.textureWidth,f.textureHeight,{format:Ci,type:ja,depthTexture:new xN(f.textureWidth,f.textureHeight,G,void 0,void 0,void 0,void 0,void 0,void 0,z),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const q=e.properties.get(y);q.__ignoreDepthValues=f.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),H.setContext(i),H.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function F(U){for(let z=0;z<U.removed.length;z++){const G=U.removed[z],j=x.indexOf(G);j>=0&&(x[j]=null,_[j].dispatchEvent({type:"disconnected",data:G}))}for(let z=0;z<U.added.length;z++){const G=U.added[z];let j=x.indexOf(G);if(j===-1){for(let q=0;q<_.length;q++)if(q>=x.length){x.push(G),j=q;break}else if(x[q]===null){x[q]=G,j=q;break}if(j===-1)break}const Z=_[j];Z&&Z.dispatchEvent({type:"connected",data:G})}}const L=new $,N=new $;function k(U,z,G){L.setFromMatrixPosition(z.matrixWorld),N.setFromMatrixPosition(G.matrixWorld);const j=L.distanceTo(N),Z=z.projectionMatrix.elements,q=G.projectionMatrix.elements,re=Z[14]/(Z[10]-1),Q=Z[14]/(Z[10]+1),ce=(Z[9]+1)/Z[5],de=(Z[9]-1)/Z[5],Re=(Z[8]-1)/Z[0],ge=(q[8]+1)/q[0],ve=re*Re,ne=re*ge,oe=j/(-Re+ge),_e=oe*-Re;z.matrixWorld.decompose(U.position,U.quaternion,U.scale),U.translateX(_e),U.translateZ(oe),U.matrixWorld.compose(U.position,U.quaternion,U.scale),U.matrixWorldInverse.copy(U.matrixWorld).invert();const be=re+oe,xe=Q+oe,Ne=ve-_e,we=ne+(j-_e),Ie=ce*Q/xe*be,Ue=de*Q/xe*be;U.projectionMatrix.makePerspective(Ne,we,Ie,Ue,be,xe)}function V(U,z){z===null?U.matrixWorld.copy(U.matrix):U.matrixWorld.multiplyMatrices(z.matrixWorld,U.matrix),U.matrixWorldInverse.copy(U.matrixWorld).invert()}this.updateCamera=function(U){if(i===null)return;E.near=A.near=w.near=U.near,E.far=A.far=w.far=U.far,(P!==E.near||M!==E.far)&&(i.updateRenderState({depthNear:E.near,depthFar:E.far}),P=E.near,M=E.far);const z=U.parent,G=E.cameras;V(E,z);for(let Z=0;Z<G.length;Z++)V(G[Z],z);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),U.matrix.copy(E.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale);const j=U.children;for(let Z=0,q=j.length;Z<q;Z++)j[Z].updateMatrixWorld(!0);G.length===2?k(E,w,A):E.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(f!==null)return f.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(U){f!==null&&(f.fixedFoveation=U),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=U)};let W=null;function K(U,z){if(c=z.getViewerPose(l||o),p=z,c!==null){const G=c.views;d!==null&&(e.setRenderTargetFramebuffer(y,d.framebuffer),e.setRenderTarget(y));let j=!1;G.length!==E.cameras.length&&(E.cameras.length=0,j=!0);for(let Z=0;Z<G.length;Z++){const q=G[Z];let re=null;if(d!==null)re=d.getViewport(q);else{const ce=u.getViewSubImage(f,q);re=ce.viewport,Z===0&&(e.setRenderTargetTextures(y,ce.colorTexture,f.ignoreDepthValues?void 0:ce.depthStencilTexture),e.setRenderTarget(y))}let Q=C[Z];Q===void 0&&(Q=new nr,Q.layers.enable(Z),Q.viewport=new Pt,C[Z]=Q),Q.matrix.fromArray(q.transform.matrix),Q.projectionMatrix.fromArray(q.projectionMatrix),Q.viewport.set(re.x,re.y,re.width,re.height),Z===0&&E.matrix.copy(Q.matrix),j===!0&&E.cameras.push(Q)}}for(let G=0;G<_.length;G++){const j=x[G],Z=_[G];j!==null&&Z!==void 0&&Z.update(j,z,l||o)}W&&W(U,z),p=null}const H=new hN;H.setAnimationLoop(K),this.setAnimationLoop=function(U){W=U},this.dispose=function(){}}}function pJ(n,e){function t(v,y){v.fogColor.value.copy(y.color),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,_,x,w){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),u(v,y)):y.isMeshPhongMaterial?(i(v,y),c(v,y)):y.isMeshStandardMaterial?(i(v,y),f(v,y),y.isMeshPhysicalMaterial&&d(v,y,w)):y.isMeshMatcapMaterial?(i(v,y),p(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),g(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(s(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?a(v,y,_,x):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===mi&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===mi&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const _=e.get(y).envMap;if(_&&(v.envMap.value=_,v.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const A=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*A}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let x;y.map?x=y.map:y.specularMap?x=y.specularMap:y.displacementMap?x=y.displacementMap:y.normalMap?x=y.normalMap:y.bumpMap?x=y.bumpMap:y.roughnessMap?x=y.roughnessMap:y.metalnessMap?x=y.metalnessMap:y.alphaMap?x=y.alphaMap:y.emissiveMap?x=y.emissiveMap:y.clearcoatMap?x=y.clearcoatMap:y.clearcoatNormalMap?x=y.clearcoatNormalMap:y.clearcoatRoughnessMap?x=y.clearcoatRoughnessMap:y.iridescenceMap?x=y.iridescenceMap:y.iridescenceThicknessMap?x=y.iridescenceThicknessMap:y.specularIntensityMap?x=y.specularIntensityMap:y.specularColorMap?x=y.specularColorMap:y.transmissionMap?x=y.transmissionMap:y.thicknessMap?x=y.thicknessMap:y.sheenColorMap?x=y.sheenColorMap:y.sheenRoughnessMap&&(x=y.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix));let w;y.aoMap?w=y.aoMap:y.lightMap&&(w=y.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uv2Transform.value.copy(w.matrix))}function s(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function a(v,y,_,x){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*_,v.scale.value=x*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let w;y.map?w=y.map:y.alphaMap&&(w=y.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let _;y.map?_=y.map:y.alphaMap&&(_=y.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix))}function c(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function u(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function f(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function d(v,y,_){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===mi&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=_.texture,v.transmissionSamplerSize.value.set(_.width,_.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function p(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function mJ(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(x,w){const A=w.program;r.uniformBlockBinding(x,A)}function c(x,w){let A=i[x.id];A===void 0&&(g(x),A=u(x),i[x.id]=A,x.addEventListener("dispose",y));const C=w.program;r.updateUBOMapping(x,C);const E=e.render.frame;s[x.id]!==E&&(d(x),s[x.id]=E)}function u(x){const w=f();x.__bindingPointIndex=w;const A=n.createBuffer(),C=x.__size,E=x.usage;return n.bindBuffer(35345,A),n.bufferData(35345,C,E),n.bindBuffer(35345,null),n.bindBufferBase(35345,w,A),A}function f(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(x){const w=i[x.id],A=x.uniforms,C=x.__cache;n.bindBuffer(35345,w);for(let E=0,P=A.length;E<P;E++){const M=A[E];if(p(M,E,C)===!0){const T=M.value,D=M.__offset;typeof T=="number"?(M.__data[0]=T,n.bufferSubData(35345,D,M.__data)):(M.value.isMatrix3?(M.__data[0]=M.value.elements[0],M.__data[1]=M.value.elements[1],M.__data[2]=M.value.elements[2],M.__data[3]=M.value.elements[0],M.__data[4]=M.value.elements[3],M.__data[5]=M.value.elements[4],M.__data[6]=M.value.elements[5],M.__data[7]=M.value.elements[0],M.__data[8]=M.value.elements[6],M.__data[9]=M.value.elements[7],M.__data[10]=M.value.elements[8],M.__data[11]=M.value.elements[0]):T.toArray(M.__data),n.bufferSubData(35345,D,M.__data))}}n.bindBuffer(35345,null)}function p(x,w,A){const C=x.value;if(A[w]===void 0)return typeof C=="number"?A[w]=C:A[w]=C.clone(),!0;if(typeof C=="number"){if(A[w]!==C)return A[w]=C,!0}else{const E=A[w];if(E.equals(C)===!1)return E.copy(C),!0}return!1}function g(x){const w=x.uniforms;let A=0;const C=16;let E=0;for(let P=0,M=w.length;P<M;P++){const T=w[P],D=v(T);if(T.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=A,P>0){E=A%C;const F=C-E;E!==0&&F-D.boundary<0&&(A+=C-E,T.__offset=A)}A+=D.storage}return E=A%C,E>0&&(A+=C-E),x.__size=A,x.__cache={},this}function v(x){const w=x.value,A={boundary:0,storage:0};return typeof w=="number"?(A.boundary=4,A.storage=4):w.isVector2?(A.boundary=8,A.storage=8):w.isVector3||w.isColor?(A.boundary=16,A.storage=12):w.isVector4?(A.boundary=16,A.storage=16):w.isMatrix3?(A.boundary=48,A.storage=48):w.isMatrix4?(A.boundary=64,A.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),A}function y(x){const w=x.target;w.removeEventListener("dispose",y);const A=o.indexOf(w.__bindingPointIndex);o.splice(A,1),n.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function _(){for(const x in i)n.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:c,dispose:_}}function gJ(){const n=ng("canvas");return n.style.display="block",n}function PC(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:gJ(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let f=null,d=null;const p=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=lc,this.physicallyCorrectLights=!1,this.toneMapping=go,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const v=this;let y=!1,_=0,x=0,w=null,A=-1,C=null;const E=new Pt,P=new Pt;let M=null,T=e.width,D=e.height,F=1,L=null,N=null;const k=new Pt(0,0,T,D),V=new Pt(0,0,T,D);let W=!1;const K=new G_;let H=!1,U=!1,z=null;const G=new Ze,j=new Le,Z=new $,q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function re(){return w===null?F:1}let Q=t;function ce(J,he){for(let Me=0;Me<J.length;Me++){const ue=J[Me],De=e.getContext(ue,he);if(De!==null)return De}return null}try{const J={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Ch}`),e.addEventListener("webglcontextlost",ze,!1),e.addEventListener("webglcontextrestored",ke,!1),e.addEventListener("webglcontextcreationerror",it,!1),Q===null){const he=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&he.shift(),Q=ce(he,J),Q===null)throw ce(he)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Q.getShaderPrecisionFormat===void 0&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let de,Re,ge,ve,ne,oe,_e,be,xe,Ne,we,Ie,Ue,Ae,X,O,ee,ae,Ce,ye,Fe,Ee,pe,je;function Xe(){de=new B$(Q),Re=new C$(Q,de,n),de.init(Re),Ee=new yN(Q,de,Re),ge=new uJ(Q,de,Re),ve=new k$,ne=new qX,oe=new fJ(Q,de,ge,ne,Re,Ee,ve),_e=new T$(v),be=new D$(v),xe=new WW(Q,Re),pe=new b$(Q,de,xe,Re),Ne=new L$(Q,xe,ve,pe),we=new U$(Q,Ne,xe,ve),Ce=new N$(Q,Re,oe),O=new E$(ne),Ie=new QX(v,_e,be,de,Re,pe,O),Ue=new pJ(v,ne),Ae=new eJ,X=new oJ(de,Re),ae=new A$(v,_e,be,ge,we,u,o),ee=new cJ(v,we,Re),je=new mJ(Q,ve,Re,ge),ye=new M$(Q,de,ve,Re),Fe=new I$(Q,de,ve,Re),ve.programs=Ie.programs,v.capabilities=Re,v.extensions=de,v.properties=ne,v.renderLists=Ae,v.shadowMap=ee,v.state=ge,v.info=ve}Xe();const Oe=new hJ(v,Q);this.xr=Oe,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const J=de.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=de.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(J){J!==void 0&&(F=J,this.setSize(T,D,!1))},this.getSize=function(J){return J.set(T,D)},this.setSize=function(J,he,Me){if(Oe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}T=J,D=he,e.width=Math.floor(J*F),e.height=Math.floor(he*F),Me!==!1&&(e.style.width=J+"px",e.style.height=he+"px"),this.setViewport(0,0,J,he)},this.getDrawingBufferSize=function(J){return J.set(T*F,D*F).floor()},this.setDrawingBufferSize=function(J,he,Me){T=J,D=he,F=Me,e.width=Math.floor(J*Me),e.height=Math.floor(he*Me),this.setViewport(0,0,J,he)},this.getCurrentViewport=function(J){return J.copy(E)},this.getViewport=function(J){return J.copy(k)},this.setViewport=function(J,he,Me,ue){J.isVector4?k.set(J.x,J.y,J.z,J.w):k.set(J,he,Me,ue),ge.viewport(E.copy(k).multiplyScalar(F).floor())},this.getScissor=function(J){return J.copy(V)},this.setScissor=function(J,he,Me,ue){J.isVector4?V.set(J.x,J.y,J.z,J.w):V.set(J,he,Me,ue),ge.scissor(P.copy(V).multiplyScalar(F).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(J){ge.setScissorTest(W=J)},this.setOpaqueSort=function(J){L=J},this.setTransparentSort=function(J){N=J},this.getClearColor=function(J){return J.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(J=!0,he=!0,Me=!0){let ue=0;J&&(ue|=16384),he&&(ue|=256),Me&&(ue|=1024),Q.clear(ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ze,!1),e.removeEventListener("webglcontextrestored",ke,!1),e.removeEventListener("webglcontextcreationerror",it,!1),Ae.dispose(),X.dispose(),ne.dispose(),_e.dispose(),be.dispose(),we.dispose(),pe.dispose(),je.dispose(),Ie.dispose(),Oe.dispose(),Oe.removeEventListener("sessionstart",Je),Oe.removeEventListener("sessionend",We),z&&(z.dispose(),z=null),Qe.stop()};function ze(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function ke(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const J=ve.autoReset,he=ee.enabled,Me=ee.autoUpdate,ue=ee.needsUpdate,De=ee.type;Xe(),ve.autoReset=J,ee.enabled=he,ee.autoUpdate=Me,ee.needsUpdate=ue,ee.type=De}function it(J){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function at(J){const he=J.target;he.removeEventListener("dispose",at),It(he)}function It(J){ie(J),ne.remove(J)}function ie(J){const he=ne.get(J).programs;he!==void 0&&(he.forEach(function(Me){Ie.releaseProgram(Me)}),J.isShaderMaterial&&Ie.releaseShaderCache(J))}this.renderBufferDirect=function(J,he,Me,ue,De,lt){he===null&&(he=q);const ht=De.isMesh&&De.matrixWorld.determinant()<0,At=Qr(J,he,Me,ue,De);ge.setMaterial(ue,ht);let yt=Me.index;const Dt=Me.attributes.position;if(yt===null){if(Dt===void 0||Dt.count===0)return}else if(yt.count===0)return;let bt=1;ue.wireframe===!0&&(yt=Ne.getWireframeAttribute(Me),bt=2),pe.setup(De,ue,At,Me,yt);let kt,en=ye;yt!==null&&(kt=xe.get(yt),en=Fe,en.setIndex(kt));const yi=yt!==null?yt.count:Dt.count,ps=Me.drawRange.start*bt,ms=Me.drawRange.count*bt,qe=lt!==null?lt.start*bt:0,Mt=lt!==null?lt.count*bt:1/0,gs=Math.max(ps,qe),Kt=Math.min(yi,ps+ms,qe+Mt)-1,sr=Math.max(0,Kt-gs+1);if(sr!==0){if(De.isMesh)ue.wireframe===!0?(ge.setLineWidth(ue.wireframeLinewidth*re()),en.setMode(1)):en.setMode(4);else if(De.isLine){let Zr=ue.linewidth;Zr===void 0&&(Zr=1),ge.setLineWidth(Zr*re()),De.isLineSegments?en.setMode(1):De.isLineLoop?en.setMode(2):en.setMode(3)}else De.isPoints?en.setMode(0):De.isSprite&&en.setMode(4);if(De.isInstancedMesh)en.renderInstances(gs,sr,De.count);else if(Me.isInstancedBufferGeometry){const Zr=Math.min(Me.instanceCount,Me._maxInstanceCount);en.renderInstances(gs,sr,Zr)}else en.render(gs,sr)}},this.compile=function(J,he){function Me(ue,De,lt){ue.transparent===!0&&ue.side===Gs?(ue.side=mi,ue.needsUpdate=!0,Jt(ue,De,lt),ue.side=Wa,ue.needsUpdate=!0,Jt(ue,De,lt),ue.side=Gs):Jt(ue,De,lt)}d=X.get(J),d.init(),g.push(d),J.traverseVisible(function(ue){ue.isLight&&ue.layers.test(he.layers)&&(d.pushLight(ue),ue.castShadow&&d.pushShadow(ue))}),d.setupLights(v.physicallyCorrectLights),J.traverse(function(ue){const De=ue.material;if(De)if(Array.isArray(De))for(let lt=0;lt<De.length;lt++){const ht=De[lt];Me(ht,J,ue)}else Me(De,J,ue)}),g.pop(),d=null};let fe=null;function Be(J){fe&&fe(J)}function Je(){Qe.stop()}function We(){Qe.start()}const Qe=new hN;Qe.setAnimationLoop(Be),typeof self<"u"&&Qe.setContext(self),this.setAnimationLoop=function(J){fe=J,Oe.setAnimationLoop(J),J===null?Qe.stop():Qe.start()},Oe.addEventListener("sessionstart",Je),Oe.addEventListener("sessionend",We),this.render=function(J,he){if(he!==void 0&&he.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),he.parent===null&&he.matrixWorldAutoUpdate===!0&&he.updateMatrixWorld(),Oe.enabled===!0&&Oe.isPresenting===!0&&(Oe.cameraAutoUpdate===!0&&Oe.updateCamera(he),he=Oe.getCamera()),J.isScene===!0&&J.onBeforeRender(v,J,he,w),d=X.get(J,g.length),d.init(),g.push(d),G.multiplyMatrices(he.projectionMatrix,he.matrixWorldInverse),K.setFromProjectionMatrix(G),U=this.localClippingEnabled,H=O.init(this.clippingPlanes,U,he),f=Ae.get(J,p.length),f.init(),p.push(f),St(J,he,0,v.sortObjects),f.finish(),v.sortObjects===!0&&f.sort(L,N),H===!0&&O.beginShadows();const Me=d.state.shadowsArray;if(ee.render(Me,J,he),H===!0&&O.endShadows(),this.info.autoReset===!0&&this.info.reset(),ae.render(f,J),d.setupLights(v.physicallyCorrectLights),he.isArrayCamera){const ue=he.cameras;for(let De=0,lt=ue.length;De<lt;De++){const ht=ue[De];_t(f,J,ht,ht.viewport)}}else _t(f,J,he);w!==null&&(oe.updateMultisampleRenderTarget(w),oe.updateRenderTargetMipmap(w)),J.isScene===!0&&J.onAfterRender(v,J,he),pe.resetDefaultState(),A=-1,C=null,g.pop(),g.length>0?d=g[g.length-1]:d=null,p.pop(),p.length>0?f=p[p.length-1]:f=null};function St(J,he,Me,ue){if(J.visible===!1)return;if(J.layers.test(he.layers)){if(J.isGroup)Me=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(he);else if(J.isLight)d.pushLight(J),J.castShadow&&d.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||K.intersectsSprite(J)){ue&&Z.setFromMatrixPosition(J.matrixWorld).applyMatrix4(G);const ht=we.update(J),At=J.material;At.visible&&f.push(J,ht,At,Me,Z.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(J.isSkinnedMesh&&J.skeleton.frame!==ve.render.frame&&(J.skeleton.update(),J.skeleton.frame=ve.render.frame),!J.frustumCulled||K.intersectsObject(J))){ue&&Z.setFromMatrixPosition(J.matrixWorld).applyMatrix4(G);const ht=we.update(J),At=J.material;if(Array.isArray(At)){const yt=ht.groups;for(let Dt=0,bt=yt.length;Dt<bt;Dt++){const kt=yt[Dt],en=At[kt.materialIndex];en&&en.visible&&f.push(J,ht,en,Me,Z.z,kt)}}else At.visible&&f.push(J,ht,At,Me,Z.z,null)}}const lt=J.children;for(let ht=0,At=lt.length;ht<At;ht++)St(lt[ht],he,Me,ue)}function _t(J,he,Me,ue){const De=J.opaque,lt=J.transmissive,ht=J.transparent;d.setupLightsView(Me),lt.length>0&&ct(De,he,Me),ue&&ge.viewport(E.copy(ue)),De.length>0&&ut(De,he,Me),lt.length>0&&ut(lt,he,Me),ht.length>0&&ut(ht,he,Me),ge.buffers.depth.setTest(!0),ge.buffers.depth.setMask(!0),ge.buffers.color.setMask(!0),ge.setPolygonOffset(!1)}function ct(J,he,Me){const ue=Re.isWebGL2;z===null&&(z=new Ks(1,1,{generateMipmaps:!0,type:de.has("EXT_color_buffer_half_float")?oh:ja,minFilter:Za,samples:ue&&s===!0?4:0})),v.getDrawingBufferSize(j),ue?z.setSize(j.x,j.y):z.setSize(L1(j.x),L1(j.y));const De=v.getRenderTarget();v.setRenderTarget(z),v.clear();const lt=v.toneMapping;v.toneMapping=go,ut(J,he,Me),v.toneMapping=lt,oe.updateMultisampleRenderTarget(z),oe.updateRenderTargetMipmap(z),v.setRenderTarget(De)}function ut(J,he,Me){const ue=he.isScene===!0?he.overrideMaterial:null;for(let De=0,lt=J.length;De<lt;De++){const ht=J[De],At=ht.object,yt=ht.geometry,Dt=ue===null?ht.material:ue,bt=ht.group;At.layers.test(Me.layers)&&Qt(At,he,Me,yt,Dt,bt)}}function Qt(J,he,Me,ue,De,lt){J.onBeforeRender(v,he,Me,ue,De,lt),J.modelViewMatrix.multiplyMatrices(Me.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),De.onBeforeRender(v,he,Me,ue,J,lt),De.transparent===!0&&De.side===Gs?(De.side=mi,De.needsUpdate=!0,v.renderBufferDirect(Me,he,ue,De,J,lt),De.side=Wa,De.needsUpdate=!0,v.renderBufferDirect(Me,he,ue,De,J,lt),De.side=Gs):v.renderBufferDirect(Me,he,ue,De,J,lt),J.onAfterRender(v,he,Me,ue,De,lt)}function Jt(J,he,Me){he.isScene!==!0&&(he=q);const ue=ne.get(J),De=d.state.lights,lt=d.state.shadowsArray,ht=De.state.version,At=Ie.getParameters(J,De.state,lt,he,Me),yt=Ie.getProgramCacheKey(At);let Dt=ue.programs;ue.environment=J.isMeshStandardMaterial?he.environment:null,ue.fog=he.fog,ue.envMap=(J.isMeshStandardMaterial?be:_e).get(J.envMap||ue.environment),Dt===void 0&&(J.addEventListener("dispose",at),Dt=new Map,ue.programs=Dt);let bt=Dt.get(yt);if(bt!==void 0){if(ue.currentProgram===bt&&ue.lightsStateVersion===ht)return mn(J,At),bt}else At.uniforms=Ie.getUniforms(J),J.onBuild(Me,At,v),J.onBeforeCompile(At,v),bt=Ie.acquireProgram(At,yt),Dt.set(yt,bt),ue.uniforms=At.uniforms;const kt=ue.uniforms;(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(kt.clippingPlanes=O.uniform),mn(J,At),ue.needsLights=qr(J),ue.lightsStateVersion=ht,ue.needsLights&&(kt.ambientLightColor.value=De.state.ambient,kt.lightProbe.value=De.state.probe,kt.directionalLights.value=De.state.directional,kt.directionalLightShadows.value=De.state.directionalShadow,kt.spotLights.value=De.state.spot,kt.spotLightShadows.value=De.state.spotShadow,kt.rectAreaLights.value=De.state.rectArea,kt.ltc_1.value=De.state.rectAreaLTC1,kt.ltc_2.value=De.state.rectAreaLTC2,kt.pointLights.value=De.state.point,kt.pointLightShadows.value=De.state.pointShadow,kt.hemisphereLights.value=De.state.hemi,kt.directionalShadowMap.value=De.state.directionalShadowMap,kt.directionalShadowMatrix.value=De.state.directionalShadowMatrix,kt.spotShadowMap.value=De.state.spotShadowMap,kt.spotLightMatrix.value=De.state.spotLightMatrix,kt.spotLightMap.value=De.state.spotLightMap,kt.pointShadowMap.value=De.state.pointShadowMap,kt.pointShadowMatrix.value=De.state.pointShadowMatrix);const en=bt.getUniforms(),yi=Qy.seqWithValue(en.seq,kt);return ue.currentProgram=bt,ue.uniformsList=yi,bt}function mn(J,he){const Me=ne.get(J);Me.outputEncoding=he.outputEncoding,Me.instancing=he.instancing,Me.skinning=he.skinning,Me.morphTargets=he.morphTargets,Me.morphNormals=he.morphNormals,Me.morphColors=he.morphColors,Me.morphTargetsCount=he.morphTargetsCount,Me.numClippingPlanes=he.numClippingPlanes,Me.numIntersection=he.numClipIntersection,Me.vertexAlphas=he.vertexAlphas,Me.vertexTangents=he.vertexTangents,Me.toneMapping=he.toneMapping}function Qr(J,he,Me,ue,De){he.isScene!==!0&&(he=q),oe.resetTextureUnits();const lt=he.fog,ht=ue.isMeshStandardMaterial?he.environment:null,At=w===null?v.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:lc,yt=(ue.isMeshStandardMaterial?be:_e).get(ue.envMap||ht),Dt=ue.vertexColors===!0&&!!Me.attributes.color&&Me.attributes.color.itemSize===4,bt=!!ue.normalMap&&!!Me.attributes.tangent,kt=!!Me.morphAttributes.position,en=!!Me.morphAttributes.normal,yi=!!Me.morphAttributes.color,ps=ue.toneMapped?v.toneMapping:go,ms=Me.morphAttributes.position||Me.morphAttributes.normal||Me.morphAttributes.color,qe=ms!==void 0?ms.length:0,Mt=ne.get(ue),gs=d.state.lights;if(H===!0&&(U===!0||J!==C)){const Ht=J===C&&ue.id===A;O.setState(ue,J,Ht)}let Kt=!1;ue.version===Mt.__version?(Mt.needsLights&&Mt.lightsStateVersion!==gs.state.version||Mt.outputEncoding!==At||De.isInstancedMesh&&Mt.instancing===!1||!De.isInstancedMesh&&Mt.instancing===!0||De.isSkinnedMesh&&Mt.skinning===!1||!De.isSkinnedMesh&&Mt.skinning===!0||Mt.envMap!==yt||ue.fog===!0&&Mt.fog!==lt||Mt.numClippingPlanes!==void 0&&(Mt.numClippingPlanes!==O.numPlanes||Mt.numIntersection!==O.numIntersection)||Mt.vertexAlphas!==Dt||Mt.vertexTangents!==bt||Mt.morphTargets!==kt||Mt.morphNormals!==en||Mt.morphColors!==yi||Mt.toneMapping!==ps||Re.isWebGL2===!0&&Mt.morphTargetsCount!==qe)&&(Kt=!0):(Kt=!0,Mt.__version=ue.version);let sr=Mt.currentProgram;Kt===!0&&(sr=Jt(ue,he,De));let Zr=!1,Lr=!1,br=!1;const vt=sr.getUniforms(),Ft=Mt.uniforms;if(ge.useProgram(sr.program)&&(Zr=!0,Lr=!0,br=!0),ue.id!==A&&(A=ue.id,Lr=!0),Zr||C!==J){if(vt.setValue(Q,"projectionMatrix",J.projectionMatrix),Re.logarithmicDepthBuffer&&vt.setValue(Q,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),C!==J&&(C=J,Lr=!0,br=!0),ue.isShaderMaterial||ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshStandardMaterial||ue.envMap){const Ht=vt.map.cameraPosition;Ht!==void 0&&Ht.setValue(Q,Z.setFromMatrixPosition(J.matrixWorld))}(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial)&&vt.setValue(Q,"isOrthographic",J.isOrthographicCamera===!0),(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial||ue.isShadowMaterial||De.isSkinnedMesh)&&vt.setValue(Q,"viewMatrix",J.matrixWorldInverse)}if(De.isSkinnedMesh){vt.setOptional(Q,De,"bindMatrix"),vt.setOptional(Q,De,"bindMatrixInverse");const Ht=De.skeleton;Ht&&(Re.floatVertexTextures?(Ht.boneTexture===null&&Ht.computeBoneTexture(),vt.setValue(Q,"boneTexture",Ht.boneTexture,oe),vt.setValue(Q,"boneTextureSize",Ht.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Mr=Me.morphAttributes;if((Mr.position!==void 0||Mr.normal!==void 0||Mr.color!==void 0&&Re.isWebGL2===!0)&&Ce.update(De,Me,ue,sr),(Lr||Mt.receiveShadow!==De.receiveShadow)&&(Mt.receiveShadow=De.receiveShadow,vt.setValue(Q,"receiveShadow",De.receiveShadow)),ue.isMeshGouraudMaterial&&ue.envMap!==null&&(Ft.envMap.value=yt,Ft.flipEnvMap.value=yt.isCubeTexture&&yt.isRenderTargetTexture===!1?-1:1),Lr&&(vt.setValue(Q,"toneMappingExposure",v.toneMappingExposure),Mt.needsLights&&zi(Ft,br),lt&&ue.fog===!0&&Ue.refreshFogUniforms(Ft,lt),Ue.refreshMaterialUniforms(Ft,ue,F,D,z),Qy.upload(Q,Mt.uniformsList,Ft,oe)),ue.isShaderMaterial&&ue.uniformsNeedUpdate===!0&&(Qy.upload(Q,Mt.uniformsList,Ft,oe),ue.uniformsNeedUpdate=!1),ue.isSpriteMaterial&&vt.setValue(Q,"center",De.center),vt.setValue(Q,"modelViewMatrix",De.modelViewMatrix),vt.setValue(Q,"normalMatrix",De.normalMatrix),vt.setValue(Q,"modelMatrix",De.matrixWorld),ue.isShaderMaterial||ue.isRawShaderMaterial){const Ht=ue.uniformsGroups;for(let Bn=0,vs=Ht.length;Bn<vs;Bn++)if(Re.isWebGL2){const ei=Ht[Bn];je.update(ei,sr),je.bind(ei,sr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return sr}function zi(J,he){J.ambientLightColor.needsUpdate=he,J.lightProbe.needsUpdate=he,J.directionalLights.needsUpdate=he,J.directionalLightShadows.needsUpdate=he,J.pointLights.needsUpdate=he,J.pointLightShadows.needsUpdate=he,J.spotLights.needsUpdate=he,J.spotLightShadows.needsUpdate=he,J.rectAreaLights.needsUpdate=he,J.hemisphereLights.needsUpdate=he}function qr(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(J,he,Me){ne.get(J.texture).__webglTexture=he,ne.get(J.depthTexture).__webglTexture=Me;const ue=ne.get(J);ue.__hasExternalTextures=!0,ue.__hasExternalTextures&&(ue.__autoAllocateDepthBuffer=Me===void 0,ue.__autoAllocateDepthBuffer||de.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ue.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(J,he){const Me=ne.get(J);Me.__webglFramebuffer=he,Me.__useDefaultFramebuffer=he===void 0},this.setRenderTarget=function(J,he=0,Me=0){w=J,_=he,x=Me;let ue=!0,De=null,lt=!1,ht=!1;if(J){const yt=ne.get(J);yt.__useDefaultFramebuffer!==void 0?(ge.bindFramebuffer(36160,null),ue=!1):yt.__webglFramebuffer===void 0?oe.setupRenderTarget(J):yt.__hasExternalTextures&&oe.rebindTextures(J,ne.get(J.texture).__webglTexture,ne.get(J.depthTexture).__webglTexture);const Dt=J.texture;(Dt.isData3DTexture||Dt.isDataArrayTexture||Dt.isCompressedArrayTexture)&&(ht=!0);const bt=ne.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(De=bt[he],lt=!0):Re.isWebGL2&&J.samples>0&&oe.useMultisampledRTT(J)===!1?De=ne.get(J).__webglMultisampledFramebuffer:De=bt,E.copy(J.viewport),P.copy(J.scissor),M=J.scissorTest}else E.copy(k).multiplyScalar(F).floor(),P.copy(V).multiplyScalar(F).floor(),M=W;if(ge.bindFramebuffer(36160,De)&&Re.drawBuffers&&ue&&ge.drawBuffers(J,De),ge.viewport(E),ge.scissor(P),ge.setScissorTest(M),lt){const yt=ne.get(J.texture);Q.framebufferTexture2D(36160,36064,34069+he,yt.__webglTexture,Me)}else if(ht){const yt=ne.get(J.texture),Dt=he||0;Q.framebufferTextureLayer(36160,36064,yt.__webglTexture,Me||0,Dt)}A=-1},this.readRenderTargetPixels=function(J,he,Me,ue,De,lt,ht){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let At=ne.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&ht!==void 0&&(At=At[ht]),At){ge.bindFramebuffer(36160,At);try{const yt=J.texture,Dt=yt.format,bt=yt.type;if(Dt!==Ci&&Ee.convert(Dt)!==Q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const kt=bt===oh&&(de.has("EXT_color_buffer_half_float")||Re.isWebGL2&&de.has("EXT_color_buffer_float"));if(bt!==ja&&Ee.convert(bt)!==Q.getParameter(35738)&&!(bt===Ea&&(Re.isWebGL2||de.has("OES_texture_float")||de.has("WEBGL_color_buffer_float")))&&!kt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}he>=0&&he<=J.width-ue&&Me>=0&&Me<=J.height-De&&Q.readPixels(he,Me,ue,De,Ee.convert(Dt),Ee.convert(bt),lt)}finally{const yt=w!==null?ne.get(w).__webglFramebuffer:null;ge.bindFramebuffer(36160,yt)}}},this.copyFramebufferToTexture=function(J,he,Me=0){const ue=Math.pow(2,-Me),De=Math.floor(he.image.width*ue),lt=Math.floor(he.image.height*ue);oe.setTexture2D(he,0),Q.copyTexSubImage2D(3553,Me,0,0,J.x,J.y,De,lt),ge.unbindTexture()},this.copyTextureToTexture=function(J,he,Me,ue=0){const De=he.image.width,lt=he.image.height,ht=Ee.convert(Me.format),At=Ee.convert(Me.type);oe.setTexture2D(Me,0),Q.pixelStorei(37440,Me.flipY),Q.pixelStorei(37441,Me.premultiplyAlpha),Q.pixelStorei(3317,Me.unpackAlignment),he.isDataTexture?Q.texSubImage2D(3553,ue,J.x,J.y,De,lt,ht,At,he.image.data):he.isCompressedTexture?Q.compressedTexSubImage2D(3553,ue,J.x,J.y,he.mipmaps[0].width,he.mipmaps[0].height,ht,he.mipmaps[0].data):Q.texSubImage2D(3553,ue,J.x,J.y,ht,At,he.image),ue===0&&Me.generateMipmaps&&Q.generateMipmap(3553),ge.unbindTexture()},this.copyTextureToTexture3D=function(J,he,Me,ue,De=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const lt=J.max.x-J.min.x+1,ht=J.max.y-J.min.y+1,At=J.max.z-J.min.z+1,yt=Ee.convert(ue.format),Dt=Ee.convert(ue.type);let bt;if(ue.isData3DTexture)oe.setTexture3D(ue,0),bt=32879;else if(ue.isDataArrayTexture)oe.setTexture2DArray(ue,0),bt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(37440,ue.flipY),Q.pixelStorei(37441,ue.premultiplyAlpha),Q.pixelStorei(3317,ue.unpackAlignment);const kt=Q.getParameter(3314),en=Q.getParameter(32878),yi=Q.getParameter(3316),ps=Q.getParameter(3315),ms=Q.getParameter(32877),qe=Me.isCompressedTexture?Me.mipmaps[0]:Me.image;Q.pixelStorei(3314,qe.width),Q.pixelStorei(32878,qe.height),Q.pixelStorei(3316,J.min.x),Q.pixelStorei(3315,J.min.y),Q.pixelStorei(32877,J.min.z),Me.isDataTexture||Me.isData3DTexture?Q.texSubImage3D(bt,De,he.x,he.y,he.z,lt,ht,At,yt,Dt,qe.data):Me.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(bt,De,he.x,he.y,he.z,lt,ht,At,yt,qe.data)):Q.texSubImage3D(bt,De,he.x,he.y,he.z,lt,ht,At,yt,Dt,qe),Q.pixelStorei(3314,kt),Q.pixelStorei(32878,en),Q.pixelStorei(3316,yi),Q.pixelStorei(3315,ps),Q.pixelStorei(32877,ms),De===0&&ue.generateMipmaps&&Q.generateMipmap(bt),ge.unbindTexture()},this.initTexture=function(J){J.isCubeTexture?oe.setTextureCube(J,0):J.isData3DTexture?oe.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?oe.setTexture2DArray(J,0):oe.setTexture2D(J,0),ge.unbindTexture()},this.resetState=function(){_=0,x=0,w=null,ge.reset(),pe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class wN extends PC{}wN.prototype.isWebGL1Renderer=!0;class j_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new He(e),this.density=t}clone(){return new j_(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class $_{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new He(e),this.near=t,this.far=r}clone(){return new $_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class I1 extends Rt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Ug{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=eg,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ss()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ss()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ss()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ai=new $;class cc{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)ai.fromBufferAttribute(this,t),ai.applyMatrix4(e),this.setXYZ(t,ai.x,ai.y,ai.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ai.fromBufferAttribute(this,t),ai.applyNormalMatrix(e),this.setXYZ(t,ai.x,ai.y,ai.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ai.fromBufferAttribute(this,t),ai.transformDirection(e),this.setXYZ(t,ai.x,ai.y,ai.z);return this}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ta(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ta(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ta(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ta(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),r=rn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),r=rn(r,this.array),i=rn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),r=rn(r,this.array),i=rn(i,this.array),s=rn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new $t(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new cc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class RC extends ir{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Jf;const Mp=new $,Kf=new $,Yf=new $,Qf=new Le,Cp=new Le,SN=new Ze,zv=new $,Ep=new $,Gv=new $,BR=new Le,dS=new Le,LR=new Le;class AN extends Rt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Jf===void 0){Jf=new gt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Ug(t,5);Jf.setIndex([0,1,2,0,2,3]),Jf.setAttribute("position",new cc(r,3,0,!1)),Jf.setAttribute("uv",new cc(r,2,3,!1))}this.geometry=Jf,this.material=e!==void 0?e:new RC,this.center=new Le(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Kf.setFromMatrixScale(this.matrixWorld),SN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Yf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Kf.multiplyScalar(-Yf.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Hv(zv.set(-.5,-.5,0),Yf,o,Kf,i,s),Hv(Ep.set(.5,-.5,0),Yf,o,Kf,i,s),Hv(Gv.set(.5,.5,0),Yf,o,Kf,i,s),BR.set(0,0),dS.set(1,0),LR.set(1,1);let a=e.ray.intersectTriangle(zv,Ep,Gv,!1,Mp);if(a===null&&(Hv(Ep.set(-.5,.5,0),Yf,o,Kf,i,s),dS.set(0,1),a=e.ray.intersectTriangle(zv,Gv,Ep,!1,Mp),a===null))return;const l=e.ray.origin.distanceTo(Mp);l<e.near||l>e.far||t.push({distance:l,point:Mp.clone(),uv:Ns.getUV(Mp,zv,Ep,Gv,BR,dS,LR,new Le),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Hv(n,e,t,r,i,s){Qf.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Cp.x=s*Qf.x-i*Qf.y,Cp.y=i*Qf.x+s*Qf.y):Cp.copy(Qf),n.copy(e),n.x+=Cp.x,n.y+=Cp.y,n.applyMatrix4(SN)}const Vv=new $,IR=new $;class bN extends Rt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Vv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Vv);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Vv.setFromMatrixPosition(e.matrixWorld),IR.setFromMatrixPosition(this.matrixWorld);const r=Vv.distanceTo(IR)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const kR=new $,FR=new Pt,OR=new Pt,vJ=new $,NR=new Ze;class X_ extends On{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ze,this.bindMatrixInverse=new Ze}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Pt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;FR.fromBufferAttribute(i.attributes.skinIndex,e),OR.fromBufferAttribute(i.attributes.skinWeight,e),kR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=OR.getComponent(s);if(o!==0){const a=FR.getComponent(s);NR.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(vJ.copy(kR).applyMatrix4(NR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class ch extends Rt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Hd extends on{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Kn,u=Kn,f,d){super(null,o,a,l,c,u,i,s,f,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const UR=new Ze,yJ=new Ze;class Ph{constructor(e=[],t=[]){this.uuid=ss(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ze)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Ze;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:yJ;UR.multiplyMatrices(a,t[s]),UR.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Ph(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=lN(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Hd(t,e,e,Ci,Ea);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new ch),this.bones.push(o),this.boneInverses.push(new Ze().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class uc extends $t{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const zR=new Ze,GR=new Ze,Wv=[],_J=new Ze,Tp=new On;class DC extends On{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new uc(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,_J)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Tp.geometry=this.geometry,Tp.material=this.material,Tp.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,zR),GR.multiplyMatrices(r,zR),Tp.matrixWorld=GR,Tp.raycast(e,Wv);for(let o=0,a=Wv.length;o<a;o++){const l=Wv[o];l.instanceId=s,l.object=this,t.push(l)}Wv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new uc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Br extends ir{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new He(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const HR=new $,VR=new $,WR=new Ze,hS=new Fg,jv=new nl;class Ko extends Rt{constructor(e=new gt,t=new Br){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)HR.fromBufferAttribute(t,i-1),VR.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=HR.distanceTo(VR);e.setAttribute("lineDistance",new et(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),jv.copy(r.boundingSphere),jv.applyMatrix4(i),jv.radius+=s,e.ray.intersectsSphere(jv)===!1)return;WR.copy(i).invert(),hS.copy(e.ray).applyMatrix4(WR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new $,u=new $,f=new $,d=new $,p=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const _=Math.max(0,o.start),x=Math.min(g.count,o.start+o.count);for(let w=_,A=x-1;w<A;w+=p){const C=g.getX(w),E=g.getX(w+1);if(c.fromBufferAttribute(y,C),u.fromBufferAttribute(y,E),hS.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(d);M<e.near||M>e.far||t.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,o.start),x=Math.min(y.count,o.start+o.count);for(let w=_,A=x-1;w<A;w+=p){if(c.fromBufferAttribute(y,w),u.fromBufferAttribute(y,w+1),hS.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(d);E<e.near||E>e.far||t.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const jR=new $,$R=new $;class bo extends Ko{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)jR.fromBufferAttribute(t,i),$R.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+jR.distanceTo($R);e.setAttribute("lineDistance",new et(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class BC extends Ko{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class J_ extends ir{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const XR=new Ze,nM=new Fg,$v=new nl,Xv=new $;class LC extends Rt{constructor(e=new gt,t=new J_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$v.copy(r.boundingSphere),$v.applyMatrix4(i),$v.radius+=s,e.ray.intersectsSphere($v)===!1)return;XR.copy(i).invert(),nM.copy(e.ray).applyMatrix4(XR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const d=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let g=d,v=p;g<v;g++){const y=c.getX(g);Xv.fromBufferAttribute(f,y),JR(Xv,y,l,i,e,t,this)}}else{const d=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let g=d,v=p;g<v;g++)Xv.fromBufferAttribute(f,g),JR(Xv,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function JR(n,e,t,r,i,s,o){const a=nM.distanceSqToPoint(n);if(a<t){const l=new $;nM.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class MN extends on{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:fn,this.magFilter=s!==void 0?s:fn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class xJ extends on{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Kn,this.minFilter=Kn,this.generateMipmaps=!1,this.needsUpdate=!0}}class IC extends on{constructor(e,t,r,i,s,o,a,l,c,u,f,d){super(null,o,a,l,c,u,i,s,f,d),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class wJ extends IC{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=cr}}class SJ extends on{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Qs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],d=r[i+1]-u,p=(o-u)/d;return(i+p)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Le:new $);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new $,i=[],s=[],o=[],a=new $,l=new Ze;for(let p=0;p<=e;p++){const g=p/e;i[p]=this.getTangentAt(g,new $)}s[0]=new $,o[0]=new $;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(i[p-1],i[p]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Yn(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,g))}o[p].crossVectors(i[p],s[p])}if(t===!0){let p=Math.acos(Yn(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(p=-p);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],p*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class K_ extends Qs{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Le,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*f+this.aX,c=d*f+p*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class CN extends K_{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function kC(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let d=(o-s)/c-(a-s)/(c+u)+(a-o)/u,p=(a-o)/u-(l-o)/(u+f)+(l-a)/f;d*=u,p*=u,i(o,a,d,p)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Jv=new $,pS=new kC,mS=new kC,gS=new kC;class EN extends Qs{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new $){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(Jv.subVectors(i[0],i[1]).add(i[0]),c=Jv);const f=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(Jv.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=Jv),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(f),p),v=Math.pow(f.distanceToSquared(d),p),y=Math.pow(d.distanceToSquared(u),p);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),pS.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,g,v,y),mS.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,g,v,y),gS.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,g,v,y)}else this.curveType==="catmullrom"&&(pS.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),mS.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),gS.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(pS.calc(l),mS.calc(l),gS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new $().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function KR(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function AJ(n,e){const t=1-n;return t*t*e}function bJ(n,e){return 2*(1-n)*n*e}function MJ(n,e){return n*n*e}function pm(n,e,t,r){return AJ(n,e)+bJ(n,t)+MJ(n,r)}function CJ(n,e){const t=1-n;return t*t*t*e}function EJ(n,e){const t=1-n;return 3*t*t*n*e}function TJ(n,e){return 3*(1-n)*n*n*e}function PJ(n,e){return n*n*n*e}function mm(n,e,t,r,i){return CJ(n,e)+EJ(n,t)+TJ(n,r)+PJ(n,i)}class FC extends Qs{constructor(e=new Le,t=new Le,r=new Le,i=new Le){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Le){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(mm(e,i.x,s.x,o.x,a.x),mm(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class TN extends Qs{constructor(e=new $,t=new $,r=new $,i=new $){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new $){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(mm(e,i.x,s.x,o.x,a.x),mm(e,i.y,s.y,o.y,a.y),mm(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Y_ extends Qs{constructor(e=new Le,t=new Le){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Le){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Le;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class PN extends Qs{constructor(e=new $,t=new $){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new $){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OC extends Qs{constructor(e=new Le,t=new Le,r=new Le){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Le){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(pm(e,i.x,s.x,o.x),pm(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NC extends Qs{constructor(e=new $,t=new $,r=new $){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new $){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(pm(e,i.x,s.x,o.x),pm(e,i.y,s.y,o.y),pm(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UC extends Qs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Le){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(KR(a,l.x,c.x,u.x,f.x),KR(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Le().fromArray(i))}return this}}var zC=Object.freeze({__proto__:null,ArcCurve:CN,CatmullRomCurve3:EN,CubicBezierCurve:FC,CubicBezierCurve3:TN,EllipseCurve:K_,LineCurve:Y_,LineCurve3:PN,QuadraticBezierCurve:OC,QuadraticBezierCurve3:NC,SplineCurve:UC});class RN extends Qs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Y_(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new zC[i.type]().fromJSON(i))}return this}}class rg extends RN{constructor(e){super(),this.type="Path",this.currentPoint=new Le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new Y_(this.currentPoint.clone(),new Le(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new OC(this.currentPoint.clone(),new Le(e,t),new Le(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new FC(this.currentPoint.clone(),new Le(e,t),new Le(r,i),new Le(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new UC(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new K_(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Rh extends gt{constructor(e=[new Le(0,-.5),new Le(.5,0),new Le(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Yn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new $,d=new Le,p=new $,g=new $,v=new $;let y=0,_=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:y=e[x+1].x-e[x].x,_=e[x+1].y-e[x].y,p.x=_*1,p.y=-y,p.z=_*0,v.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[x+1].x-e[x].x,_=e[x+1].y-e[x].y,p.x=_*1,p.y=-y,p.z=_*0,g.copy(p),p.x+=v.x,p.y+=v.y,p.z+=v.z,p.normalize(),l.push(p.x,p.y,p.z),v.copy(g)}for(let x=0;x<=t;x++){const w=r+x*u*i,A=Math.sin(w),C=Math.cos(w);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*A,f.y=e[E].y,f.z=e[E].x*C,o.push(f.x,f.y,f.z),d.x=x/t,d.y=E/(e.length-1),a.push(d.x,d.y);const P=l[3*E+0]*A,M=l[3*E+1],T=l[3*E+0]*C;c.push(P,M,T)}}for(let x=0;x<t;x++)for(let w=0;w<e.length-1;w++){const A=w+x*e.length,C=A,E=A+e.length,P=A+e.length+1,M=A+1;s.push(C,E,M),s.push(P,M,E)}this.setIndex(s),this.setAttribute("position",new et(o,3)),this.setAttribute("uv",new et(a,2)),this.setAttribute("normal",new et(c,3))}static fromJSON(e){return new Rh(e.points,e.segments,e.phiStart,e.phiLength)}}class zg extends Rh{constructor(e=1,t=1,r=4,i=8){const s=new rg;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new zg(e.radius,e.length,e.capSegments,e.radialSegments)}}class Gg extends gt{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new $,u=new Le;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=t;f++,d+=3){const p=r+f/t*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[d]/e+1)/2,u.y=(o[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new et(o,3)),this.setAttribute("normal",new et(a,3)),this.setAttribute("uv",new et(l,2))}static fromJSON(e){return new Gg(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class of extends gt{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],d=[],p=[];let g=0;const v=[],y=r/2;let _=0;x(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new et(f,3)),this.setAttribute("normal",new et(d,3)),this.setAttribute("uv",new et(p,2));function x(){const A=new $,C=new $;let E=0;const P=(t-e)/r;for(let M=0;M<=s;M++){const T=[],D=M/s,F=D*(t-e)+e;for(let L=0;L<=i;L++){const N=L/i,k=N*l+a,V=Math.sin(k),W=Math.cos(k);C.x=F*V,C.y=-D*r+y,C.z=F*W,f.push(C.x,C.y,C.z),A.set(V,P,W).normalize(),d.push(A.x,A.y,A.z),p.push(N,1-D),T.push(g++)}v.push(T)}for(let M=0;M<i;M++)for(let T=0;T<s;T++){const D=v[T][M],F=v[T+1][M],L=v[T+1][M+1],N=v[T][M+1];u.push(D,F,N),u.push(F,L,N),E+=6}c.addGroup(_,E,0),_+=E}function w(A){const C=g,E=new Le,P=new $;let M=0;const T=A===!0?e:t,D=A===!0?1:-1;for(let L=1;L<=i;L++)f.push(0,y*D,0),d.push(0,D,0),p.push(.5,.5),g++;const F=g;for(let L=0;L<=i;L++){const k=L/i*l+a,V=Math.cos(k),W=Math.sin(k);P.x=T*W,P.y=y*D,P.z=T*V,f.push(P.x,P.y,P.z),d.push(0,D,0),E.x=V*.5+.5,E.y=W*.5*D+.5,p.push(E.x,E.y),g++}for(let L=0;L<i;L++){const N=C+L,k=F+L;A===!0?u.push(k,k+1,N):u.push(k+1,k,N),M+=3}c.addGroup(_,M,A===!0?1:2),_+=M}}static fromJSON(e){return new of(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Hg extends of{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Hg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class il extends gt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new et(s,3)),this.setAttribute("normal",new et(s.slice(),3)),this.setAttribute("uv",new et(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const w=new $,A=new $,C=new $;for(let E=0;E<t.length;E+=3)p(t[E+0],w),p(t[E+1],A),p(t[E+2],C),l(w,A,C,x)}function l(x,w,A,C){const E=C+1,P=[];for(let M=0;M<=E;M++){P[M]=[];const T=x.clone().lerp(A,M/E),D=w.clone().lerp(A,M/E),F=E-M;for(let L=0;L<=F;L++)L===0&&M===E?P[M][L]=T:P[M][L]=T.clone().lerp(D,L/F)}for(let M=0;M<E;M++)for(let T=0;T<2*(E-M)-1;T++){const D=Math.floor(T/2);T%2===0?(d(P[M][D+1]),d(P[M+1][D]),d(P[M][D])):(d(P[M][D+1]),d(P[M+1][D+1]),d(P[M+1][D]))}}function c(x){const w=new $;for(let A=0;A<s.length;A+=3)w.x=s[A+0],w.y=s[A+1],w.z=s[A+2],w.normalize().multiplyScalar(x),s[A+0]=w.x,s[A+1]=w.y,s[A+2]=w.z}function u(){const x=new $;for(let w=0;w<s.length;w+=3){x.x=s[w+0],x.y=s[w+1],x.z=s[w+2];const A=y(x)/2/Math.PI+.5,C=_(x)/Math.PI+.5;o.push(A,1-C)}g(),f()}function f(){for(let x=0;x<o.length;x+=6){const w=o[x+0],A=o[x+2],C=o[x+4],E=Math.max(w,A,C),P=Math.min(w,A,C);E>.9&&P<.1&&(w<.2&&(o[x+0]+=1),A<.2&&(o[x+2]+=1),C<.2&&(o[x+4]+=1))}}function d(x){s.push(x.x,x.y,x.z)}function p(x,w){const A=x*3;w.x=e[A+0],w.y=e[A+1],w.z=e[A+2]}function g(){const x=new $,w=new $,A=new $,C=new $,E=new Le,P=new Le,M=new Le;for(let T=0,D=0;T<s.length;T+=9,D+=6){x.set(s[T+0],s[T+1],s[T+2]),w.set(s[T+3],s[T+4],s[T+5]),A.set(s[T+6],s[T+7],s[T+8]),E.set(o[D+0],o[D+1]),P.set(o[D+2],o[D+3]),M.set(o[D+4],o[D+5]),C.copy(x).add(w).add(A).divideScalar(3);const F=y(C);v(E,D+0,x,F),v(P,D+2,w,F),v(M,D+4,A,F)}}function v(x,w,A,C){C<0&&x.x===1&&(o[w]=x.x-1),A.x===0&&A.z===0&&(o[w]=C/2/Math.PI+.5)}function y(x){return Math.atan2(x.z,-x.x)}function _(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}static fromJSON(e){return new il(e.vertices,e.indices,e.radius,e.details)}}class Vg extends il{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Vg(e.radius,e.detail)}}const Kv=new $,Yv=new $,vS=new $,Qv=new Ns;class DN extends gt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Du*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},p=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:v,b:y,c:_}=Qv;if(v.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),_.fromBufferAttribute(a,c[2]),Qv.getNormal(vS),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const w=(x+1)%3,A=f[x],C=f[w],E=Qv[u[x]],P=Qv[u[w]],M=`${A}_${C}`,T=`${C}_${A}`;T in d&&d[T]?(vS.dot(d[T].normal)<=s&&(p.push(E.x,E.y,E.z),p.push(P.x,P.y,P.z)),d[T]=null):M in d||(d[M]={index0:c[x],index1:c[w],normal:vS.clone()})}}for(const g in d)if(d[g]){const{index0:v,index1:y}=d[g];Kv.fromBufferAttribute(a,v),Yv.fromBufferAttribute(a,y),p.push(Kv.x,Kv.y,Kv.z),p.push(Yv.x,Yv.y,Yv.z)}this.setAttribute("position",new et(p,3))}}}class Iu extends rg{constructor(e){super(e),this.uuid=ss(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new rg().fromJSON(i))}return this}}const RJ={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=BN(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,d,p;if(r&&(s=kJ(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<i;g+=t)f=n[g],d=n[g+1],f<a&&(a=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);p=Math.max(c-a,u-l),p=p!==0?32767/p:0}return ig(s,o,t,a,l,p,0),o}};function BN(n,e,t,r,i){let s,o;if(i===$J(n,e,t,r)>0)for(s=e;s<t;s+=r)o=YR(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=YR(s,n[s],n[s+1],o);return o&&Q_(o,o.next)&&(og(o),o=o.next),o}function Ku(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Q_(t,t.next)||Cn(t.prev,t,t.next)===0)){if(og(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function ig(n,e,t,r,i,s,o){if(!n)return;!o&&s&&zJ(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?BJ(n,r,i,s):DJ(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),og(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=LJ(Ku(n),e,t),ig(n,e,t,r,i,s,2)):o===2&&IJ(n,e,t,r,i,s):ig(Ku(n),e,t,r,i,s,1);break}}}function DJ(n){const e=n.prev,t=n,r=n.next;if(Cn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,d=i>s?i>o?i:o:s>o?s:o,p=a>l?a>c?a:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=d&&g.y>=f&&g.y<=p&&Cd(i,a,s,l,o,c,g.x,g.y)&&Cn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function BJ(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Cn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,d=o.y,p=a<l?a<c?a:c:l<c?l:c,g=u<f?u<d?u:d:f<d?f:d,v=a>l?a>c?a:c:l>c?l:c,y=u>f?u>d?u:d:f>d?f:d,_=rM(p,g,e,t,r),x=rM(v,y,e,t,r);let w=n.prevZ,A=n.nextZ;for(;w&&w.z>=_&&A&&A.z<=x;){if(w.x>=p&&w.x<=v&&w.y>=g&&w.y<=y&&w!==i&&w!==o&&Cd(a,u,l,f,c,d,w.x,w.y)&&Cn(w.prev,w,w.next)>=0||(w=w.prevZ,A.x>=p&&A.x<=v&&A.y>=g&&A.y<=y&&A!==i&&A!==o&&Cd(a,u,l,f,c,d,A.x,A.y)&&Cn(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;w&&w.z>=_;){if(w.x>=p&&w.x<=v&&w.y>=g&&w.y<=y&&w!==i&&w!==o&&Cd(a,u,l,f,c,d,w.x,w.y)&&Cn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=x;){if(A.x>=p&&A.x<=v&&A.y>=g&&A.y<=y&&A!==i&&A!==o&&Cd(a,u,l,f,c,d,A.x,A.y)&&Cn(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function LJ(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!Q_(i,s)&&LN(i,r,r.next,s)&&sg(i,s)&&sg(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),og(r),og(r.next),r=n=s),r=r.next}while(r!==n);return Ku(r)}function IJ(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&VJ(o,a)){let l=IN(o,a);o=Ku(o,o.next),l=Ku(l,l.next),ig(o,e,t,r,i,s,0),ig(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function kJ(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=BN(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(HJ(c));for(i.sort(FJ),s=0;s<i.length;s++)t=OJ(i[s],t);return t}function FJ(n,e){return n.x-e.x}function OJ(n,e){const t=NJ(n,e);if(!t)return e;const r=IN(t,n);return Ku(r,r.next),Ku(t,t.next)}function NJ(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const d=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>r&&(r=d,i=t.x<t.next.x?t:t.next,d===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&Cd(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),sg(t,n)&&(f<u||f===u&&(t.x>i.x||t.x===i.x&&UJ(i,t)))&&(i=t,u=f)),t=t.next;while(t!==a);return i}function UJ(n,e){return Cn(n.prev,n,e.prev)<0&&Cn(e.next,n,n.next)<0}function zJ(n,e,t,r){let i=n;do i.z===0&&(i.z=rM(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,GJ(i)}function GJ(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function rM(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function HJ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Cd(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function VJ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!WJ(n,e)&&(sg(n,e)&&sg(e,n)&&jJ(n,e)&&(Cn(n.prev,n,e.prev)||Cn(n,e.prev,e))||Q_(n,e)&&Cn(n.prev,n,n.next)>0&&Cn(e.prev,e,e.next)>0)}function Cn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Q_(n,e){return n.x===e.x&&n.y===e.y}function LN(n,e,t,r){const i=Zv(Cn(n,e,t)),s=Zv(Cn(n,e,r)),o=Zv(Cn(t,r,n)),a=Zv(Cn(t,r,e));return!!(i!==s&&o!==a||i===0&&qv(n,t,e)||s===0&&qv(n,r,e)||o===0&&qv(t,n,r)||a===0&&qv(t,e,r))}function qv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Zv(n){return n>0?1:n<0?-1:0}function WJ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&LN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function sg(n,e){return Cn(n.prev,n,n.next)<0?Cn(n,e,n.next)>=0&&Cn(n,n.prev,e)>=0:Cn(n,e,n.prev)<0||Cn(n,n.next,e)<0}function jJ(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function IN(n,e){const t=new iM(n.i,n.x,n.y),r=new iM(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function YR(n,e,t,r){const i=new iM(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function og(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function iM(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $J(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Wo{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Wo.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];QR(e),qR(r,e);let o=e.length;t.forEach(QR);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,qR(r,t[l]);const a=RJ.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function QR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function qR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Wg extends gt{constructor(e=new Iu([new Le(.5,.5),new Le(-.5,.5),new Le(-.5,-.5),new Le(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new et(i,3)),this.setAttribute("uv",new et(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:p-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:XJ;let w,A=!1,C,E,P,M;_&&(w=_.getSpacedPoints(u),A=!0,d=!1,C=_.computeFrenetFrames(u,!1),E=new $,P=new $,M=new $),d||(y=0,p=0,g=0,v=0);const T=a.extractPoints(c);let D=T.shape;const F=T.holes;if(!Wo.isClockWise(D)){D=D.reverse();for(let ne=0,oe=F.length;ne<oe;ne++){const _e=F[ne];Wo.isClockWise(_e)&&(F[ne]=_e.reverse())}}const N=Wo.triangulateShape(D,F),k=D;for(let ne=0,oe=F.length;ne<oe;ne++){const _e=F[ne];D=D.concat(_e)}function V(ne,oe,_e){return oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),oe.clone().multiplyScalar(_e).add(ne)}const W=D.length,K=N.length;function H(ne,oe,_e){let be,xe,Ne;const we=ne.x-oe.x,Ie=ne.y-oe.y,Ue=_e.x-ne.x,Ae=_e.y-ne.y,X=we*we+Ie*Ie,O=we*Ae-Ie*Ue;if(Math.abs(O)>Number.EPSILON){const ee=Math.sqrt(X),ae=Math.sqrt(Ue*Ue+Ae*Ae),Ce=oe.x-Ie/ee,ye=oe.y+we/ee,Fe=_e.x-Ae/ae,Ee=_e.y+Ue/ae,pe=((Fe-Ce)*Ae-(Ee-ye)*Ue)/(we*Ae-Ie*Ue);be=Ce+we*pe-ne.x,xe=ye+Ie*pe-ne.y;const je=be*be+xe*xe;if(je<=2)return new Le(be,xe);Ne=Math.sqrt(je/2)}else{let ee=!1;we>Number.EPSILON?Ue>Number.EPSILON&&(ee=!0):we<-Number.EPSILON?Ue<-Number.EPSILON&&(ee=!0):Math.sign(Ie)===Math.sign(Ae)&&(ee=!0),ee?(be=-Ie,xe=we,Ne=Math.sqrt(X)):(be=we,xe=Ie,Ne=Math.sqrt(X/2))}return new Le(be/Ne,xe/Ne)}const U=[];for(let ne=0,oe=k.length,_e=oe-1,be=ne+1;ne<oe;ne++,_e++,be++)_e===oe&&(_e=0),be===oe&&(be=0),U[ne]=H(k[ne],k[_e],k[be]);const z=[];let G,j=U.concat();for(let ne=0,oe=F.length;ne<oe;ne++){const _e=F[ne];G=[];for(let be=0,xe=_e.length,Ne=xe-1,we=be+1;be<xe;be++,Ne++,we++)Ne===xe&&(Ne=0),we===xe&&(we=0),G[be]=H(_e[be],_e[Ne],_e[we]);z.push(G),j=j.concat(G)}for(let ne=0;ne<y;ne++){const oe=ne/y,_e=p*Math.cos(oe*Math.PI/2),be=g*Math.sin(oe*Math.PI/2)+v;for(let xe=0,Ne=k.length;xe<Ne;xe++){const we=V(k[xe],U[xe],be);ce(we.x,we.y,-_e)}for(let xe=0,Ne=F.length;xe<Ne;xe++){const we=F[xe];G=z[xe];for(let Ie=0,Ue=we.length;Ie<Ue;Ie++){const Ae=V(we[Ie],G[Ie],be);ce(Ae.x,Ae.y,-_e)}}}const Z=g+v;for(let ne=0;ne<W;ne++){const oe=d?V(D[ne],j[ne],Z):D[ne];A?(P.copy(C.normals[0]).multiplyScalar(oe.x),E.copy(C.binormals[0]).multiplyScalar(oe.y),M.copy(w[0]).add(P).add(E),ce(M.x,M.y,M.z)):ce(oe.x,oe.y,0)}for(let ne=1;ne<=u;ne++)for(let oe=0;oe<W;oe++){const _e=d?V(D[oe],j[oe],Z):D[oe];A?(P.copy(C.normals[ne]).multiplyScalar(_e.x),E.copy(C.binormals[ne]).multiplyScalar(_e.y),M.copy(w[ne]).add(P).add(E),ce(M.x,M.y,M.z)):ce(_e.x,_e.y,f/u*ne)}for(let ne=y-1;ne>=0;ne--){const oe=ne/y,_e=p*Math.cos(oe*Math.PI/2),be=g*Math.sin(oe*Math.PI/2)+v;for(let xe=0,Ne=k.length;xe<Ne;xe++){const we=V(k[xe],U[xe],be);ce(we.x,we.y,f+_e)}for(let xe=0,Ne=F.length;xe<Ne;xe++){const we=F[xe];G=z[xe];for(let Ie=0,Ue=we.length;Ie<Ue;Ie++){const Ae=V(we[Ie],G[Ie],be);A?ce(Ae.x,Ae.y+w[u-1].y,w[u-1].x+_e):ce(Ae.x,Ae.y,f+_e)}}}q(),re();function q(){const ne=i.length/3;if(d){let oe=0,_e=W*oe;for(let be=0;be<K;be++){const xe=N[be];de(xe[2]+_e,xe[1]+_e,xe[0]+_e)}oe=u+y*2,_e=W*oe;for(let be=0;be<K;be++){const xe=N[be];de(xe[0]+_e,xe[1]+_e,xe[2]+_e)}}else{for(let oe=0;oe<K;oe++){const _e=N[oe];de(_e[2],_e[1],_e[0])}for(let oe=0;oe<K;oe++){const _e=N[oe];de(_e[0]+W*u,_e[1]+W*u,_e[2]+W*u)}}r.addGroup(ne,i.length/3-ne,0)}function re(){const ne=i.length/3;let oe=0;Q(k,oe),oe+=k.length;for(let _e=0,be=F.length;_e<be;_e++){const xe=F[_e];Q(xe,oe),oe+=xe.length}r.addGroup(ne,i.length/3-ne,1)}function Q(ne,oe){let _e=ne.length;for(;--_e>=0;){const be=_e;let xe=_e-1;xe<0&&(xe=ne.length-1);for(let Ne=0,we=u+y*2;Ne<we;Ne++){const Ie=W*Ne,Ue=W*(Ne+1),Ae=oe+be+Ie,X=oe+xe+Ie,O=oe+xe+Ue,ee=oe+be+Ue;Re(Ae,X,O,ee)}}}function ce(ne,oe,_e){l.push(ne),l.push(oe),l.push(_e)}function de(ne,oe,_e){ge(ne),ge(oe),ge(_e);const be=i.length/3,xe=x.generateTopUV(r,i,be-3,be-2,be-1);ve(xe[0]),ve(xe[1]),ve(xe[2])}function Re(ne,oe,_e,be){ge(ne),ge(oe),ge(be),ge(oe),ge(_e),ge(be);const xe=i.length/3,Ne=x.generateSideWallUV(r,i,xe-6,xe-3,xe-2,xe-1);ve(Ne[0]),ve(Ne[1]),ve(Ne[3]),ve(Ne[1]),ve(Ne[2]),ve(Ne[3])}function ge(ne){i.push(l[ne*3+0]),i.push(l[ne*3+1]),i.push(l[ne*3+2])}function ve(ne){s.push(ne.x),s.push(ne.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return JJ(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new zC[i.type]().fromJSON(i)),new Wg(r,e.options)}}const XJ={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Le(s,o),new Le(a,l),new Le(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],p=e[i*3+1],g=e[i*3+2],v=e[s*3],y=e[s*3+1],_=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Le(o,1-l),new Le(c,1-f),new Le(d,1-g),new Le(v,1-_)]:[new Le(a,1-l),new Le(u,1-f),new Le(p,1-g),new Le(y,1-_)]}};function JJ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class jg extends il{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jg(e.radius,e.detail)}}class Dh extends il{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Dh(e.radius,e.detail)}}class $g extends gt{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const d=(t-e)/i,p=new $,g=new Le;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const _=s+y/r*o;p.x=f*Math.cos(_),p.y=f*Math.sin(_),l.push(p.x,p.y,p.z),c.push(0,0,1),g.x=(p.x/t+1)/2,g.y=(p.y/t+1)/2,u.push(g.x,g.y)}f+=d}for(let v=0;v<i;v++){const y=v*(r+1);for(let _=0;_<r;_++){const x=_+y,w=x,A=x+r+1,C=x+r+2,E=x+1;a.push(w,A,E),a.push(A,C,E)}}this.setIndex(a),this.setAttribute("position",new et(l,3)),this.setAttribute("normal",new et(c,3)),this.setAttribute("uv",new et(u,2))}static fromJSON(e){return new $g(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Xg extends gt{constructor(e=new Iu([new Le(0,.5),new Le(-.5,-.5),new Le(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new et(i,3)),this.setAttribute("normal",new et(s,3)),this.setAttribute("uv",new et(o,2));function c(u){const f=i.length/3,d=u.extractPoints(t);let p=d.shape;const g=d.holes;Wo.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,_=g.length;y<_;y++){const x=g[y];Wo.isClockWise(x)===!0&&(g[y]=x.reverse())}const v=Wo.triangulateShape(p,g);for(let y=0,_=g.length;y<_;y++){const x=g[y];p=p.concat(x)}for(let y=0,_=p.length;y<_;y++){const x=p[y];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let y=0,_=v.length;y<_;y++){const x=v[y],w=x[0]+f,A=x[1]+f,C=x[2]+f;r.push(w,A,C),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return KJ(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Xg(r,e.curveSegments)}}function KJ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Bh extends gt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new $,d=new $,p=[],g=[],v=[],y=[];for(let _=0;_<=r;_++){const x=[],w=_/r;let A=0;_==0&&o==0?A=.5/t:_==r&&l==Math.PI&&(A=-.5/t);for(let C=0;C<=t;C++){const E=C/t;f.x=-e*Math.cos(i+E*s)*Math.sin(o+w*a),f.y=e*Math.cos(o+w*a),f.z=e*Math.sin(i+E*s)*Math.sin(o+w*a),g.push(f.x,f.y,f.z),d.copy(f).normalize(),v.push(d.x,d.y,d.z),y.push(E+A,1-w),x.push(c++)}u.push(x)}for(let _=0;_<r;_++)for(let x=0;x<t;x++){const w=u[_][x+1],A=u[_][x],C=u[_+1][x],E=u[_+1][x+1];(_!==0||o>0)&&p.push(w,A,E),(_!==r-1||l<Math.PI)&&p.push(A,C,E)}this.setIndex(p),this.setAttribute("position",new et(g,3)),this.setAttribute("normal",new et(v,3)),this.setAttribute("uv",new et(y,2))}static fromJSON(e){return new Bh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Jg extends il{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Jg(e.radius,e.detail)}}class Kg extends gt{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new $,f=new $,d=new $;for(let p=0;p<=r;p++)for(let g=0;g<=i;g++){const v=g/i*s,y=p/r*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(v),f.y=(e+t*Math.cos(y))*Math.sin(v),f.z=t*Math.sin(y),a.push(f.x,f.y,f.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(g/i),c.push(p/r)}for(let p=1;p<=r;p++)for(let g=1;g<=i;g++){const v=(i+1)*p+g-1,y=(i+1)*(p-1)+g-1,_=(i+1)*(p-1)+g,x=(i+1)*p+g;o.push(v,y,x),o.push(y,_,x)}this.setIndex(o),this.setAttribute("position",new et(a,3)),this.setAttribute("normal",new et(l,3)),this.setAttribute("uv",new et(c,2))}static fromJSON(e){return new Kg(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Yg extends gt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new $,d=new $,p=new $,g=new $,v=new $,y=new $,_=new $;for(let w=0;w<=r;++w){const A=w/r*s*Math.PI*2;x(A,s,o,e,p),x(A+.01,s,o,e,g),y.subVectors(g,p),_.addVectors(g,p),v.crossVectors(y,_),_.crossVectors(v,y),v.normalize(),_.normalize();for(let C=0;C<=i;++C){const E=C/i*Math.PI*2,P=-t*Math.cos(E),M=t*Math.sin(E);f.x=p.x+(P*_.x+M*v.x),f.y=p.y+(P*_.y+M*v.y),f.z=p.z+(P*_.z+M*v.z),l.push(f.x,f.y,f.z),d.subVectors(f,p).normalize(),c.push(d.x,d.y,d.z),u.push(w/r),u.push(C/i)}}for(let w=1;w<=r;w++)for(let A=1;A<=i;A++){const C=(i+1)*(w-1)+(A-1),E=(i+1)*w+(A-1),P=(i+1)*w+A,M=(i+1)*(w-1)+A;a.push(C,E,M),a.push(E,P,M)}this.setIndex(a),this.setAttribute("position",new et(l,3)),this.setAttribute("normal",new et(c,3)),this.setAttribute("uv",new et(u,2));function x(w,A,C,E,P){const M=Math.cos(w),T=Math.sin(w),D=C/A*w,F=Math.cos(D);P.x=E*(2+F)*.5*M,P.y=E*(2+F)*T*.5,P.z=E*Math.sin(D)*.5}}static fromJSON(e){return new Yg(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Qg extends gt{constructor(e=new NC(new $(-1,-1,0),new $(-1,1,0),new $(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new $,l=new $,c=new Le;let u=new $;const f=[],d=[],p=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new et(f,3)),this.setAttribute("normal",new et(d,3)),this.setAttribute("uv",new et(p,2));function v(){for(let w=0;w<t;w++)y(w);y(s===!1?t:0),x(),_()}function y(w){u=e.getPointAt(w/t,u);const A=o.normals[w],C=o.binormals[w];for(let E=0;E<=i;E++){const P=E/i*Math.PI*2,M=Math.sin(P),T=-Math.cos(P);l.x=T*A.x+M*C.x,l.y=T*A.y+M*C.y,l.z=T*A.z+M*C.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function _(){for(let w=1;w<=t;w++)for(let A=1;A<=i;A++){const C=(i+1)*(w-1)+(A-1),E=(i+1)*w+(A-1),P=(i+1)*w+A,M=(i+1)*(w-1)+A;g.push(C,E,M),g.push(E,P,M)}}function x(){for(let w=0;w<=t;w++)for(let A=0;A<=i;A++)c.x=w/t,c.y=A/i,p.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Qg(new zC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class kN extends gt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new $,s=new $;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,p=f.count;for(let g=d,v=d+p;g<v;g+=3)for(let y=0;y<3;y++){const _=a.getX(g+y),x=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,_),s.fromBufferAttribute(o,x),ZR(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),ZR(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new et(t,3))}}}function ZR(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var eD=Object.freeze({__proto__:null,BoxGeometry:Mc,CapsuleGeometry:zg,CircleGeometry:Gg,ConeGeometry:Hg,CylinderGeometry:of,DodecahedronGeometry:Vg,EdgesGeometry:DN,ExtrudeGeometry:Wg,IcosahedronGeometry:jg,LatheGeometry:Rh,OctahedronGeometry:Dh,PlaneGeometry:rl,PolyhedronGeometry:il,RingGeometry:$g,ShapeGeometry:Xg,SphereGeometry:Bh,TetrahedronGeometry:Jg,TorusGeometry:Kg,TorusKnotGeometry:Yg,TubeGeometry:Qg,WireframeGeometry:kN});class FN extends ir{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new He(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class ON extends wo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class fc extends ir{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new He(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bc,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ds extends fc{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Yn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new He(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new He(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new He(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class gm extends ir{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new He(16777215),this.specular=new He(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bc,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ig,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class NN extends ir{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new He(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bc,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class UN extends ir{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bc,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class GC extends ir{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bc,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ig,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zN extends ir{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new He(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bc,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GN extends Br{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ls(n,e,t){return HC(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function wu(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function HC(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function HN(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function sM(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function VC(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function YJ(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],d=[];for(let p=0;p<c.times.length;++p){const g=c.times[p]*i;if(!(g<t||g>=r)){f.push(c.times[p]);for(let v=0;v<u;++v)d.push(c.values[p*u+v])}}f.length!==0&&(c.times=wu(f,c.times.constructor),c.values=wu(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function QJ(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const _=u,x=f-u;v=Ls(a.values,_,x)}else if(s>=a.times[g]){const _=g*f+u,x=_+f-u;v=Ls(a.values,_,x)}else{const _=a.createInterpolant(),x=u,w=f-u;_.evaluate(s),v=Ls(_.resultBuffer,x,w)}l==="quaternion"&&new pn().fromArray(v).normalize().conjugate().toArray(v);const y=c.times.length;for(let _=0;_<y;++_){const x=_*p+d;if(l==="quaternion")pn.multiplyQuaternionsFlat(c.values,x,v,0,c.values,x);else{const w=p-d*2;for(let A=0;A<w;++A)c.values[x+A]-=v[A]}}}return n.blendMode=SC,n}var qJ=Object.freeze({__proto__:null,arraySlice:Ls,convertArray:wu,isTypedArray:HC,getKeyframeOrder:HN,sortedArray:sM,flattenJSON:VC,subclip:YJ,makeClipAdditive:QJ});class Lh{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class VN extends Lh{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:yu,endingEnd:yu}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case _u:s=e,a=2*t-r;break;case Zm:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case _u:o=e,l=2*r-t;break;case Zm:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,p=this._weightNext,g=(r-t)/(i-t),v=g*g,y=v*g,_=-d*y+2*d*v-d*g,x=(1+d)*y+(-1.5-2*d)*v+(-.5+d)*g+1,w=(-1-p)*y+(1.5+p)*v+.5*g,A=p*y-p*v;for(let C=0;C!==a;++C)s[C]=_*o[u+C]+x*o[c+C]+w*o[l+C]+A*o[f+C];return s}}class WC extends Lh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),f=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*f+o[l+d]*u;return s}}class WN extends Lh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Mo{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=wu(t,this.TimeBufferType),this.values=wu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:wu(e.times,Array),values:wu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new WN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new WC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new VN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ah:t=this.InterpolantFactoryMethodDiscrete;break;case Ju:t=this.InterpolantFactoryMethodLinear;break;case Jy:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ah;case this.InterpolantFactoryMethodLinear:return Ju;case this.InterpolantFactoryMethodSmooth:return Jy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ls(r,s,o),this.values=Ls(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&HC(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Ls(this.times),t=Ls(this.values),r=this.getValueSize(),i=this.getInterpolation()===Jy,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,d=f-r,p=f+r;for(let g=0;g!==r;++g){const v=t[f+g];if(v!==t[d+g]||v!==t[p+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,d=o*r;for(let p=0;p!==r;++p)t[d+p]=t[f+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Ls(e,0,o),this.values=Ls(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Ls(this.times,0),t=Ls(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Mo.prototype.TimeBufferType=Float32Array;Mo.prototype.ValueBufferType=Float32Array;Mo.prototype.DefaultInterpolation=Ju;class af extends Mo{}af.prototype.ValueTypeName="bool";af.prototype.ValueBufferType=Array;af.prototype.DefaultInterpolation=ah;af.prototype.InterpolantFactoryMethodLinear=void 0;af.prototype.InterpolantFactoryMethodSmooth=void 0;class jC extends Mo{}jC.prototype.ValueTypeName="color";class dc extends Mo{}dc.prototype.ValueTypeName="number";class jN extends Lh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)pn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class $a extends Mo{InterpolantFactoryMethodLinear(e){return new jN(this.times,this.values,this.getValueSize(),e)}}$a.prototype.ValueTypeName="quaternion";$a.prototype.DefaultInterpolation=Ju;$a.prototype.InterpolantFactoryMethodSmooth=void 0;class lf extends Mo{}lf.prototype.ValueTypeName="string";lf.prototype.ValueBufferType=Array;lf.prototype.DefaultInterpolation=ah;lf.prototype.InterpolantFactoryMethodLinear=void 0;lf.prototype.InterpolantFactoryMethodSmooth=void 0;class hc extends Mo{}hc.prototype.ValueTypeName="vector";class Yu{constructor(e,t=-1,r,i=O_){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ss(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(eK(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Mo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=HN(l);l=sM(l,1,u),c=sM(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new dc(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,p,g,v){if(p.length!==0){const y=[],_=[];VC(p,y,_,g),y.length!==0&&v.push(new f(d,y,_))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const p={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let v=0;v<d[g].morphTargets.length;v++)p[d[g].morphTargets[v]]=-1;for(const v in p){const y=[],_=[];for(let x=0;x!==d[g].morphTargets.length;++x){const w=d[g];y.push(w.time),_.push(w.morphTarget===v?1:0)}i.push(new dc(".morphTargetInfluence["+v+"]",y,_))}l=p.length*o}else{const p=".bones["+t[f].name+"]";r(hc,p+".position",d,"pos",i),r($a,p+".quaternion",d,"rot",i),r(hc,p+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ZJ(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return dc;case"vector":case"vector2":case"vector3":case"vector4":return hc;case"color":return jC;case"quaternion":return $a;case"bool":case"boolean":return af;case"string":return lf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function eK(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ZJ(n.type);if(n.times===void 0){const t=[],r=[];VC(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Qu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class $C{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const p=c[f],g=c[f+1];if(p.global&&(p.lastIndex=0),p.test(u))return g}return null}}}const Ed=new $C;class Kr{constructor(e){this.manager=e!==void 0?e:Ed,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const pa={};class tK extends Error{constructor(e,t){super(e),this.response=t}}class Ni extends Kr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Qu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(pa[e]!==void 0){pa[e].push({onLoad:t,onProgress:r,onError:i});return}pa[e]=[],pa[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=pa[e],f=c.body.getReader(),d=c.headers.get("Content-Length"),p=d?parseInt(d):0,g=p!==0;let v=0;const y=new ReadableStream({start(_){x();function x(){f.read().then(({done:w,value:A})=>{if(w)_.close();else{v+=A.byteLength;const C=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:p});for(let E=0,P=u.length;E<P;E++){const M=u[E];M.onProgress&&M.onProgress(C)}_.enqueue(A),x()}})}}});return new Response(y)}else throw new tK(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),d=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(d);return c.arrayBuffer().then(g=>p.decode(g))}}}).then(c=>{Qu.add(e,c);const u=pa[e];delete pa[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=pa[e];if(u===void 0)throw this.manager.itemError(e),c;delete pa[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class nK extends Kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ni(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Yu.parse(e[r]);t.push(i)}return t}}class rK extends Kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new IC,l=new Ni(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const p=s.parse(d,!0);o[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(a.minFilter=fn),a.image=o,a.format=p.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const p=d.mipmaps.length/d.mipmapCount;for(let g=0;g<p;g++){o[g]={mipmaps:[]};for(let v=0;v<d.mipmapCount;v++)o[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+v]),o[g].format=d.format,o[g].width=d.width,o[g].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=fn),a.format=d.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class ag extends Kr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Qu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=ng("img");function l(){u(),Qu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class iK extends Kr{constructor(e){super(e)}load(e,t,r,i){const s=new Ng,o=new ag(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class sK extends Kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Hd,a=new Ni(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:cr,o.wrapT=c.wrapT!==void 0?c.wrapT:cr,o.magFilter=c.magFilter!==void 0?c.magFilter:fn,o.minFilter=c.minFilter!==void 0?c.minFilter:fn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Za),c.mipmapCount===1&&(o.minFilter=fn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class Ih extends Kr{constructor(e){super(e)}load(e,t,r,i){const s=new on,o=new ag(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Cc extends Rt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new He(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class $N extends Cc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Rt.DefaultUp),this.updateMatrix(),this.groundColor=new He(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const yS=new Ze,tD=new $,nD=new $;class XC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Le(512,512),this.map=null,this.mapPass=null,this.matrix=new Ze,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new G_,this._frameExtents=new Le(1,1),this._viewportCount=1,this._viewports=[new Pt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;tD.setFromMatrixPosition(e.matrixWorld),t.position.copy(tD),nD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(nD),t.updateMatrixWorld(),yS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(yS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class oK extends XC{constructor(){super(new nr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=tg*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class q_ extends Cc{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Rt.DefaultUp),this.updateMatrix(),this.target=new Rt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new oK}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const rD=new Ze,Pp=new $,_S=new $;class aK extends XC{constructor(){super(new nr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Le(4,2),this._viewportCount=6,this._viewports=[new Pt(2,1,1,1),new Pt(0,1,1,1),new Pt(3,1,1,1),new Pt(1,1,1,1),new Pt(3,0,1,1),new Pt(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Pp.setFromMatrixPosition(e.matrixWorld),r.position.copy(Pp),_S.copy(r.position),_S.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(_S),r.updateMatrixWorld(),i.makeTranslation(-Pp.x,-Pp.y,-Pp.z),rD.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rD)}}class lg extends Cc{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new aK}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class lK extends XC{constructor(){super(new sf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Z_ extends Cc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Rt.DefaultUp),this.updateMatrix(),this.target=new Rt,this.shadow=new lK}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class JC extends Cc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class XN extends Cc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class JN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new $)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class ex extends Cc{constructor(e=new JN,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class tx extends Kr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Ni(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=tx.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new He().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new He().setHex(o.value);break;case"v2":i.uniforms[s].value=new Le().fromArray(o.value);break;case"v3":i.uniforms[s].value=new $().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Pt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Wr().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ze().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Le().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Le().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:FN,SpriteMaterial:RC,RawShaderMaterial:ON,ShaderMaterial:wo,PointsMaterial:J_,MeshPhysicalMaterial:ds,MeshStandardMaterial:fc,MeshPhongMaterial:gm,MeshToonMaterial:NN,MeshNormalMaterial:UN,MeshLambertMaterial:GC,MeshDepthMaterial:V_,MeshDistanceMaterial:W_,MeshBasicMaterial:Ri,MeshMatcapMaterial:zN,LineDashedMaterial:GN,LineBasicMaterial:Br,Material:ir};return new t[e]}}class Ba{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class KC extends gt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class KN extends Kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ni(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(p,g){if(t[g]!==void 0)return t[g];const y=p.interleavedBuffers[g],_=s(p,y.buffer),x=bd(y.type,_),w=new Ug(x,y.stride);return w.uuid=y.uuid,t[g]=w,w}function s(p,g){if(r[g]!==void 0)return r[g];const y=p.arrayBuffers[g],_=new Uint32Array(y).buffer;return r[g]=_,_}const o=e.isInstancedBufferGeometry?new KC:new gt,a=e.data.index;if(a!==void 0){const p=bd(a.type,a.array);o.setIndex(new $t(p,1))}const l=e.data.attributes;for(const p in l){const g=l[p];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new cc(y,g.itemSize,g.offset,g.normalized)}else{const y=bd(g.type,g.array),_=g.isInstancedBufferAttribute?uc:$t;v=new _(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(p,v)}const c=e.data.morphAttributes;if(c)for(const p in c){const g=c[p],v=[];for(let y=0,_=g.length;y<_;y++){const x=g[y];let w;if(x.isInterleavedBufferAttribute){const A=i(e.data,x.data);w=new cc(A,x.itemSize,x.offset,x.normalized)}else{const A=bd(x.type,x.array);w=new $t(A,x.itemSize,x.normalized)}x.name!==void 0&&(w.name=x.name),v.push(w)}o.morphAttributes[p]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let p=0,g=f.length;p!==g;++p){const v=f[p];o.addGroup(v.start,v.count,v.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const p=new $;d.center!==void 0&&p.fromArray(d.center),o.boundingSphere=new nl(p,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class cK extends Kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Ba.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ni(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Ba.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ni(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Iu().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Ph().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new KN;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in eD?a=eD[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new tx;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Yu.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:bd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new $C(t);s=new ag(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const p=[];for(let g=0,v=d.length;g<v;g++){const y=d[g],_=a(y);_!==null&&(_ instanceof HTMLImageElement?p.push(_):p.push(new Hd(_.data,_.width,_.height)))}i[f.uuid]=new xu(p)}else{const p=a(f.url);i[f.uuid]=new xu(p)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:bd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new ag(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f],g=await s(p);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new Hd(g.data,g.width,g.height)))}r[l.uuid]=new xu(u)}else{const u=await s(l.url);r[l.uuid]=new xu(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Ng,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Hd:u=new on,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,uK)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],iD),u.wrapT=r(a.wrap[1],iD)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,sD)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,sD)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const p=[];for(let g=0,v=d.length;g<v;g++){const y=d[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),p.push(r[y])}return p}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":o=new I1,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new He(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new $_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new j_(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new nr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new sf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new JC(e.color,e.intensity);break;case"DirectionalLight":o=new Z_(e.color,e.intensity);break;case"PointLight":o=new lg(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new XN(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new q_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new $N(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new ex().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new X_(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new On(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const d=e.count,p=e.instanceMatrix,g=e.instanceColor;o=new DC(u,f,d),o.instanceMatrix=new uc(new Float32Array(p.array),16),g!==void 0&&(o.instanceColor=new uc(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new bN;break;case"Line":o=new Ko(a(e.geometry),l(e.material));break;case"LineLoop":o=new BC(a(e.geometry),l(e.material));break;case"LineSegments":o=new bo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new LC(a(e.geometry),l(e.material));break;case"Sprite":o=new AN(l(e.material));break;case"Group":o=new ho;break;case"Bone":o=new ch;break;default:o=new Rt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let p=0;p<d.length;p++)o.add(this.parseObject(d[p],t,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let p=0;p<d.length;p++){const g=d[p];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let p=0;p<d.length;p++){const g=d[p],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const uK={UVMapping:k_,CubeReflectionMapping:oc,CubeRefractionMapping:ac,EquirectangularReflectionMapping:ih,EquirectangularRefractionMapping:Ym,CubeUVReflectionMapping:Eh},iD={RepeatWrapping:Jo,ClampToEdgeWrapping:cr,MirroredRepeatWrapping:sh},sD={NearestFilter:Kn,NearestMipmapNearestFilter:Qm,NearestMipmapLinearFilter:qm,LinearFilter:fn,LinearMipmapNearestFilter:F_,LinearMipmapLinearFilter:Za};class YN extends Kr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Qu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Qu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let ey;class YC{static getContext(){return ey===void 0&&(ey=new(window.AudioContext||window.webkitAudioContext)),ey}static setContext(e){ey=e}}class fK extends Kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ni(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);YC.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class dK extends ex{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new He().set(e),s=new He().set(t),o=new $(i.r,i.g,i.b),a=new $(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class hK extends ex{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new He().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const oD=new Ze,aD=new Ze,Jc=new Ze;class pK{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new nr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new nr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Jc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Du*t.fov*.5)/t.zoom;let a,l;aD.elements[12]=-i,oD.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Jc.elements[0]=2*t.near/(l-a),Jc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Jc),a=-o*t.aspect-s,l=o*t.aspect-s,Jc.elements[0]=2*t.near/(l-a),Jc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Jc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(aD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(oD)}}class QC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=lD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=lD();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function lD(){return(typeof performance>"u"?Date:performance).now()}const Kc=new $,cD=new pn,mK=new $,Yc=new $;class gK extends Rt{constructor(){super(),this.type="AudioListener",this.context=YC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new QC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Kc,cD,mK),Yc.set(0,0,-1).applyQuaternion(cD),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Kc.x,i),t.positionY.linearRampToValueAtTime(Kc.y,i),t.positionZ.linearRampToValueAtTime(Kc.z,i),t.forwardX.linearRampToValueAtTime(Yc.x,i),t.forwardY.linearRampToValueAtTime(Yc.y,i),t.forwardZ.linearRampToValueAtTime(Yc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Kc.x,Kc.y,Kc.z),t.setOrientation(Yc.x,Yc.y,Yc.z,r.x,r.y,r.z)}}class QN extends Rt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Qc=new $,uD=new pn,vK=new $,qc=new $;class yK extends QN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Qc,uD,vK),qc.set(0,0,1).applyQuaternion(uD);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Qc.x,r),t.positionY.linearRampToValueAtTime(Qc.y,r),t.positionZ.linearRampToValueAtTime(Qc.z,r),t.orientationX.linearRampToValueAtTime(qc.x,r),t.orientationY.linearRampToValueAtTime(qc.y,r),t.orientationZ.linearRampToValueAtTime(qc.z,r)}else t.setPosition(Qc.x,Qc.y,Qc.z),t.setOrientation(qc.x,qc.y,qc.z)}}class _K{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class qN{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){pn.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;pn.multiplyQuaternionsFlat(e,o,e,t,e,r),pn.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const qC="\\[\\]\\.:\\/",xK=new RegExp("["+qC+"]","g"),ZC="[^"+qC+"]",wK="[^"+qC.replace("\\.","")+"]",SK=/((?:WC+[\/:])*)/.source.replace("WC",ZC),AK=/(WCOD+)?/.source.replace("WCOD",wK),bK=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ZC),MK=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ZC),CK=new RegExp("^"+SK+AK+bK+MK+"$"),EK=["material","materials","bones","map"];class TK{constructor(e,t,r){const i=r||Lt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Lt{constructor(e,t,r){this.path=t,this.parsedPath=r||Lt.parseTrackName(t),this.node=Lt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Lt.Composite(e,t,r):new Lt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(xK,"")}static parseTrackName(e){const t=CK.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);EK.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Lt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Lt.Composite=TK;Lt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Lt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Lt.prototype.GetterByBindingType=[Lt.prototype._getValue_direct,Lt.prototype._getValue_array,Lt.prototype._getValue_arrayElement,Lt.prototype._getValue_toArray];Lt.prototype.SetterByBindingTypeAndVersioning=[[Lt.prototype._setValue_direct,Lt.prototype._setValue_direct_setNeedsUpdate,Lt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Lt.prototype._setValue_array,Lt.prototype._setValue_array_setNeedsUpdate,Lt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Lt.prototype._setValue_arrayElement,Lt.prototype._setValue_arrayElement_setNeedsUpdate,Lt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Lt.prototype._setValue_fromArray,Lt.prototype._setValue_fromArray_setNeedsUpdate,Lt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class PK{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ss(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],p=d.uuid;let g=t[p];if(g===void 0){g=l++,t[p]=g,e.push(d);for(let v=0,y=o;v!==y;++v)s[v].push(new Lt(d,r[v],i[v]))}else if(g<c){a=e[g];const v=--c,y=e[v];t[y.uuid]=g,e[g]=y,t[p]=v,e[v]=d;for(let _=0,x=o;_!==x;++_){const w=s[_],A=w[v];let C=w[g];w[g]=A,C===void 0&&(C=new Lt(d,r[_],i[_])),w[v]=C}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,d=e[f];t[d.uuid]=u,e[u]=d,t[c]=f,e[f]=l;for(let p=0,g=i;p!==g;++p){const v=r[p],y=v[f],_=v[u];v[u]=y,v[f]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const d=--s,p=e[d],g=--o,v=e[g];t[p.uuid]=f,e[f]=p,t[v.uuid]=d,e[d]=v,e.pop();for(let y=0,_=i;y!==_;++y){const x=r[y],w=x[d],A=x[g];x[f]=w,x[d]=A,x.pop()}}else{const d=--o,p=e[d];d>0&&(t[p.uuid]=f),e[f]=p,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[f]=y[d],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let d=u,p=l.length;d!==p;++d){const g=l[d];f[d]=new Lt(g,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class RK{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:yu,endingEnd:yu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=nN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case SC:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case O_:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===rN;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===tN){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=_u,i.endingEnd=_u):(e?i.endingStart=this.zeroSlopeAtStart?_u:yu:i.endingStart=Zm,t?i.endingEnd=this.zeroSlopeAtEnd?_u:yu:i.endingEnd=Zm)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const DK=new Float32Array(1);class ZN extends el{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const d=i[f],p=d.name;let g=u[p];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const v=t&&t._propertyBindings[f].binding.parsedPath;g=new qN(Lt.create(r,p,v),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new WC(new Float32Array(2),new Float32Array(2),1,DK),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Yu.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=O_),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new RK(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Yu.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class eE{constructor(e){this.value=e}clone(){return new eE(this.value.clone===void 0?this.value:this.value.clone())}}let BK=0;class LK extends el{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:BK++}),this.name="",this.usage=eg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class IK extends Ug{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class kK{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class eU{constructor(e,t,r=0,i=1/0){this.ray=new Fg(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Lu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return oM(e,this,r,t),r.sort(fD),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)oM(e[i],this,r,t);return r.sort(fD),r}}function fD(n,e){return n.distance-e.distance}function oM(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)oM(i[s],e,t,!0)}}class tU{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Yn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class FK{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const dD=new Le;class OK{constructor(e=new Le(1/0,1/0),t=new Le(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=dD.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return dD.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const hD=new $,ty=new $;class NK{constructor(e=new $,t=new $){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){hD.subVectors(e,this.start),ty.subVectors(this.end,this.start);const r=ty.dot(ty);let s=ty.dot(hD)/r;return t&&(s=Yn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const pD=new $;class UK extends Rt{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new gt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new et(i,3));const s=new Br({fog:!1,toneMapped:!1});this.cone=new bo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),pD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(pD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Cl=new $,ny=new Ze,xS=new Ze;class zK extends bo{constructor(e){const t=nU(e),r=new gt,i=[],s=[],o=new He(0,0,1),a=new He(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new et(i,3)),r.setAttribute("color",new et(s,3));const l=new Br({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");xS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(ny.multiplyMatrices(xS,a.matrixWorld),Cl.setFromMatrixPosition(ny),i.setXYZ(o,Cl.x,Cl.y,Cl.z),ny.multiplyMatrices(xS,a.parent.matrixWorld),Cl.setFromMatrixPosition(ny),i.setXYZ(o+1,Cl.x,Cl.y,Cl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function nU(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,nU(n.children[t]));return e}class GK extends On{constructor(e,t,r){const i=new Bh(t,4,2),s=new Ri({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const HK=new $,mD=new He,gD=new He;class VK extends Rt{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new Dh(t);i.rotateY(Math.PI*.5),this.material=new Ri({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new $t(o,3)),this.add(new On(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");mD.copy(this.light.color),gD.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?mD:gD;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(HK.setFromMatrixPosition(this.light.matrixWorld).negate())}}class WK extends bo{constructor(e=10,t=10,r=4473924,i=8947848){r=new He(r),i=new He(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let d=0,p=0,g=-a;d<=t;d++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=d===s?r:i;v.toArray(c,p),p+=3,v.toArray(c,p),p+=3,v.toArray(c,p),p+=3,v.toArray(c,p),p+=3}const u=new gt;u.setAttribute("position",new et(l,3)),u.setAttribute("color",new et(c,3));const f=new Br({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class jK extends bo{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new He(s),o=new He(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const d=f/t*(Math.PI*2),p=Math.sin(d)*e,g=Math.cos(d)*e;a.push(0,0,0),a.push(p,0,g);const v=f&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const d=f&1?s:o,p=e-e/r*f;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*p,_=Math.cos(v)*p;a.push(y,0,_),l.push(d.r,d.g,d.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*p,_=Math.cos(v)*p,a.push(y,0,_),l.push(d.r,d.g,d.b)}}const c=new gt;c.setAttribute("position",new et(a,3)),c.setAttribute("color",new et(l,3));const u=new Br({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const vD=new $,ry=new $,yD=new $;class $K extends Rt{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new gt;i.setAttribute("position",new et([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Br({fog:!1,toneMapped:!1});this.lightPlane=new Ko(i,s),this.add(this.lightPlane),i=new gt,i.setAttribute("position",new et([0,0,0,0,0,1],3)),this.targetLine=new Ko(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){vD.setFromMatrixPosition(this.light.matrixWorld),ry.setFromMatrixPosition(this.light.target.matrixWorld),yD.subVectors(ry,vD),this.lightPlane.lookAt(ry),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ry),this.targetLine.scale.z=yD.length()}}const iy=new $,In=new Og;class XK extends bo{constructor(e){const t=new gt,r=new Br({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new et(i,3)),t.setAttribute("color",new et(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new He(16755200),u=new He(16711680),f=new He(43775),d=new He(16777215),p=new He(3355443);this.setColors(c,u,f,d,p)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;In.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Wn("c",t,e,In,0,0,-1),Wn("t",t,e,In,0,0,1),Wn("n1",t,e,In,-r,-i,-1),Wn("n2",t,e,In,r,-i,-1),Wn("n3",t,e,In,-r,i,-1),Wn("n4",t,e,In,r,i,-1),Wn("f1",t,e,In,-r,-i,1),Wn("f2",t,e,In,r,-i,1),Wn("f3",t,e,In,-r,i,1),Wn("f4",t,e,In,r,i,1),Wn("u1",t,e,In,r*.7,i*1.1,-1),Wn("u2",t,e,In,-r*.7,i*1.1,-1),Wn("u3",t,e,In,0,i*2,-1),Wn("cf1",t,e,In,-r,0,1),Wn("cf2",t,e,In,r,0,1),Wn("cf3",t,e,In,0,-i,1),Wn("cf4",t,e,In,0,i,1),Wn("cn1",t,e,In,-r,0,-1),Wn("cn2",t,e,In,r,0,-1),Wn("cn3",t,e,In,0,-i,-1),Wn("cn4",t,e,In,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Wn(n,e,t,r,i,s,o){iy.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],iy.x,iy.y,iy.z)}}const sy=new tl;class JK extends bo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new gt;s.setIndex(new $t(r,1)),s.setAttribute("position",new $t(i,3)),super(s,new Br({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&sy.setFromObject(this.object),sy.isEmpty())return;const t=sy.min,r=sy.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class KK extends bo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new gt;s.setIndex(new $t(r,1)),s.setAttribute("position",new et(i,3)),super(s,new Br({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class YK extends Ko{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new gt;o.setAttribute("position",new et(s,3)),o.computeBoundingSphere(),super(o,new Br({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new gt;l.setAttribute("position",new et(a,3)),l.computeBoundingSphere(),this.add(new On(l,new Ri({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _D=new $;let oy,wS;class QK extends Rt{constructor(e=new $(0,0,1),t=new $(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",oy===void 0&&(oy=new gt,oy.setAttribute("position",new et([0,0,0,0,1,0],3)),wS=new of(0,.5,1,5,1),wS.translate(0,-.5,0)),this.position.copy(t),this.line=new Ko(oy,new Br({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new On(wS,new Ri({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_D.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(_D,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class qK extends bo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new gt;i.setAttribute("position",new et(t,3)),i.setAttribute("color",new et(r,3));const s=new Br({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new He,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ZK{constructor(){this.type="ShapePath",this.color=new He,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new rg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const x=[];for(let w=0,A=_.length;w<A;w++){const C=_[w],E=new Iu;E.curves=C.curves,x.push(E)}return x}function r(_,x){const w=x.length;let A=!1;for(let C=w-1,E=0;E<w;C=E++){let P=x[C],M=x[E],T=M.x-P.x,D=M.y-P.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(P=x[E],T=-T,M=x[C],D=-D),_.y<P.y||_.y>M.y)continue;if(_.y===P.y){if(_.x===P.x)return!0}else{const F=D*(_.x-P.x)-T*(_.y-P.y);if(F===0)return!0;if(F<0)continue;A=!A}}else{if(_.y!==P.y)continue;if(M.x<=_.x&&_.x<=P.x||P.x<=_.x&&_.x<=M.x)return!0}}return A}const i=Wo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Iu,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],d=[];let p=[],g=0,v;d[g]=void 0,p[g]=[];for(let _=0,x=s.length;_<x;_++)a=s[_],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!u&&d[g]&&g++,d[g]={s:new Iu,p:v},d[g].s.curves=a.curves,u&&g++,p[g]=[]):p[g].push({h:a,p:v[0]});if(!d[0])return t(s);if(d.length>1){let _=!1,x=0;for(let w=0,A=d.length;w<A;w++)f[w]=[];for(let w=0,A=d.length;w<A;w++){const C=p[w];for(let E=0;E<C.length;E++){const P=C[E];let M=!0;for(let T=0;T<d.length;T++)r(P.p,d[T].p)&&(w!==T&&x++,M?(M=!1,f[T].push(P)):_=!0);M&&f[w].push(P)}}x>0&&_===!1&&(p=f)}let y;for(let _=0,x=d.length;_<x;_++){l=d[_].s,c.push(l),y=p[_];for(let w=0,A=y.length;w<A;w++)l.holes.push(y[w].h)}return c}}const Aa=eY();function eY(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function tY(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Yn(n,-65504,65504),Aa.floatView[0]=n;const e=Aa.uint32View[0],t=e>>23&511;return Aa.baseTable[t]+((e&8388607)>>Aa.shiftTable[t])}function nY(n){const e=n>>10;return Aa.uint32View[0]=Aa.mantissaTable[Aa.offsetTable[e]+(n&1023)]+Aa.exponentTable[e],Aa.floatView[0]}var rY=Object.freeze({__proto__:null,toHalfFloat:tY,fromHalfFloat:nY});function iY(){console.error("THREE.ImmediateRenderObject has been removed.")}class sY extends Ks{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class oY extends kg{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class aY extends N_{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class lY extends Mc{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class cY extends zg{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class uY extends Gg{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class fY extends Hg{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class dY extends of{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class hY extends Vg{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class pY extends Wg{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class mY extends jg{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class gY extends Rh{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class vY extends Dh{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class yY extends rl{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class _Y extends il{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class xY extends $g{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class wY extends Xg{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class SY extends Bh{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class AY extends Jg{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class bY extends Kg{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class MY extends Yg{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class CY extends Qg{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ch}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ch);const EY=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:xC,AddEquation:du,AddOperation:k4,AdditiveAnimationBlendMode:SC,AdditiveBlending:Cb,AlphaFormat:j4,AlwaysDepth:T4,AlwaysStencilFunc:aN,AmbientLight:JC,AmbientLightProbe:hK,AnimationClip:Yu,AnimationLoader:nK,AnimationMixer:ZN,AnimationObjectGroup:PK,AnimationUtils:qJ,ArcCurve:CN,ArrayCamera:_N,ArrowHelper:QK,Audio:QN,AudioAnalyser:_K,AudioContext:YC,AudioListener:gK,AudioLoader:fK,AxesHelper:qK,BackSide:mi,BasicDepthPacking:sN,BasicShadowMap:p4,Bone:ch,BooleanKeyframeTrack:af,Box2:OK,Box3:tl,Box3Helper:KK,BoxBufferGeometry:lY,BoxGeometry:Mc,BoxHelper:JK,BufferAttribute:$t,BufferGeometry:gt,BufferGeometryLoader:KN,ByteType:z4,Cache:Qu,Camera:Og,CameraHelper:XK,CanvasTexture:SJ,CapsuleBufferGeometry:cY,CapsuleGeometry:zg,CatmullRomCurve3:EN,CineonToneMapping:N4,CircleBufferGeometry:uY,CircleGeometry:Gg,ClampToEdgeWrapping:cr,Clock:QC,Color:He,ColorKeyframeTrack:jC,ColorManagement:Ps,CompressedArrayTexture:wJ,CompressedTexture:IC,CompressedTextureLoader:rK,ConeBufferGeometry:fY,ConeGeometry:Hg,CubeCamera:fN,CubeReflectionMapping:oc,CubeRefractionMapping:ac,CubeTexture:Ng,CubeTextureLoader:iK,CubeUVReflectionMapping:Eh,CubicBezierCurve:FC,CubicBezierCurve3:TN,CubicInterpolant:VN,CullFaceBack:Mb,CullFaceFront:h4,CullFaceFrontBack:PV,CullFaceNone:d4,Curve:Qs,CurvePath:RN,CustomBlending:m4,CustomToneMapping:U4,CylinderBufferGeometry:dY,CylinderGeometry:of,Cylindrical:FK,Data3DTexture:N_,DataArrayTexture:kg,DataTexture:Hd,DataTexture2DArray:oY,DataTexture3D:aY,DataTextureLoader:sK,DataUtils:rY,DecrementStencilOp:NV,DecrementWrapStencilOp:zV,DefaultLoadingManager:Ed,DepthFormat:ec,DepthStencilFormat:Xu,DepthTexture:xN,DirectionalLight:Z_,DirectionalLightHelper:$K,DiscreteInterpolant:WN,DodecahedronBufferGeometry:hY,DodecahedronGeometry:Vg,DoubleSide:Gs,DstAlphaFactor:S4,DstColorFactor:b4,DynamicCopyUsage:tW,DynamicDrawUsage:KV,DynamicReadUsage:qV,EdgesGeometry:DN,EllipseCurve:K_,EqualDepth:R4,EqualStencilFunc:WV,EquirectangularReflectionMapping:ih,EquirectangularRefractionMapping:Ym,Euler:ns,EventDispatcher:el,ExtrudeBufferGeometry:pY,ExtrudeGeometry:Wg,FileLoader:Ni,Float16BufferAttribute:kW,Float32BufferAttribute:et,Float64BufferAttribute:FW,FloatType:Ea,Fog:$_,FogExp2:j_,FramebufferTexture:xJ,FrontSide:Wa,Frustum:G_,GLBufferAttribute:kK,GLSL1:rW,GLSL3:qb,GreaterDepth:B4,GreaterEqualDepth:D4,GreaterEqualStencilFunc:JV,GreaterStencilFunc:$V,GridHelper:WK,Group:ho,HalfFloatType:oh,HemisphereLight:$N,HemisphereLightHelper:VK,HemisphereLightProbe:dK,IcosahedronBufferGeometry:mY,IcosahedronGeometry:jg,ImageBitmapLoader:YN,ImageLoader:ag,ImageUtils:CC,ImmediateRenderObject:iY,IncrementStencilOp:OV,IncrementWrapStencilOp:UV,InstancedBufferAttribute:uc,InstancedBufferGeometry:KC,InstancedInterleavedBuffer:IK,InstancedMesh:DC,Int16BufferAttribute:LW,Int32BufferAttribute:IW,Int8BufferAttribute:RW,IntType:H4,InterleavedBuffer:Ug,InterleavedBufferAttribute:cc,Interpolant:Lh,InterpolateDiscrete:ah,InterpolateLinear:Ju,InterpolateSmooth:Jy,InvertStencilOp:GV,KeepStencilOp:Ky,KeyframeTrack:Mo,LOD:bN,LatheBufferGeometry:gY,LatheGeometry:Rh,Layers:Lu,LessDepth:P4,LessEqualDepth:R1,LessEqualStencilFunc:jV,LessStencilFunc:VV,Light:Cc,LightProbe:ex,Line:Ko,Line3:NK,LineBasicMaterial:Br,LineCurve:Y_,LineCurve3:PN,LineDashedMaterial:GN,LineLoop:BC,LineSegments:bo,LinearEncoding:lc,LinearFilter:fn,LinearInterpolant:WC,LinearMipMapLinearFilter:LV,LinearMipMapNearestFilter:BV,LinearMipmapLinearFilter:Za,LinearMipmapNearestFilter:F_,LinearSRGBColorSpace:Gl,LinearToneMapping:F4,Loader:Kr,LoaderUtils:Ba,LoadingManager:$C,LoopOnce:tN,LoopPingPong:rN,LoopRepeat:nN,LuminanceAlphaFormat:J4,LuminanceFormat:X4,MOUSE:EV,Material:ir,MaterialLoader:tx,MathUtils:Ei,Matrix3:Wr,Matrix4:Ze,MaxEquation:Rb,Mesh:On,MeshBasicMaterial:Ri,MeshDepthMaterial:V_,MeshDistanceMaterial:W_,MeshLambertMaterial:GC,MeshMatcapMaterial:zN,MeshNormalMaterial:UN,MeshPhongMaterial:gm,MeshPhysicalMaterial:ds,MeshStandardMaterial:fc,MeshToonMaterial:NN,MinEquation:Pb,MirroredRepeatWrapping:sh,MixOperation:I4,MultiplyBlending:Tb,MultiplyOperation:Ig,NearestFilter:Kn,NearestMipMapLinearFilter:DV,NearestMipMapNearestFilter:RV,NearestMipmapLinearFilter:qm,NearestMipmapNearestFilter:Qm,NeverDepth:E4,NeverStencilFunc:HV,NoBlending:Da,NoColorSpace:IV,NoToneMapping:go,NormalAnimationBlendMode:O_,NormalBlending:Pu,NotEqualDepth:L4,NotEqualStencilFunc:XV,NumberKeyframeTrack:dc,Object3D:Rt,ObjectLoader:cK,ObjectSpaceNormalMap:oN,OctahedronBufferGeometry:vY,OctahedronGeometry:Dh,OneFactor:_4,OneMinusDstAlphaFactor:A4,OneMinusDstColorFactor:M4,OneMinusSrcAlphaFactor:_C,OneMinusSrcColorFactor:w4,OrthographicCamera:sf,PCFShadowMap:I_,PCFSoftShadowMap:dm,PMREMGenerator:eM,Path:rg,PerspectiveCamera:nr,Plane:Ll,PlaneBufferGeometry:yY,PlaneGeometry:rl,PlaneHelper:YK,PointLight:lg,PointLightHelper:GK,Points:LC,PointsMaterial:J_,PolarGridHelper:jK,PolyhedronBufferGeometry:_Y,PolyhedronGeometry:il,PositionalAudio:yK,PropertyBinding:Lt,PropertyMixer:qN,QuadraticBezierCurve:OC,QuadraticBezierCurve3:NC,Quaternion:pn,QuaternionKeyframeTrack:$a,QuaternionLinearInterpolant:jN,REVISION:Ch,RGBADepthPacking:bC,RGBAFormat:Ci,RGBAIntegerFormat:Z4,RGBA_ASTC_10x10_Format:Jb,RGBA_ASTC_10x5_Format:jb,RGBA_ASTC_10x6_Format:$b,RGBA_ASTC_10x8_Format:Xb,RGBA_ASTC_12x10_Format:Kb,RGBA_ASTC_12x12_Format:Yb,RGBA_ASTC_4x4_Format:Ob,RGBA_ASTC_5x4_Format:Nb,RGBA_ASTC_5x5_Format:Ub,RGBA_ASTC_6x5_Format:zb,RGBA_ASTC_6x6_Format:Gb,RGBA_ASTC_8x5_Format:Hb,RGBA_ASTC_8x6_Format:Vb,RGBA_ASTC_8x8_Format:Wb,RGBA_BPTC_Format:Qb,RGBA_ETC2_EAC_Format:Fb,RGBA_PVRTC_2BPPV1_Format:Ib,RGBA_PVRTC_4BPPV1_Format:Lb,RGBA_S3TC_DXT1_Format:jy,RGBA_S3TC_DXT3_Format:$y,RGBA_S3TC_DXT5_Format:Xy,RGBFormat:$4,RGB_ETC1_Format:eN,RGB_ETC2_Format:kb,RGB_PVRTC_2BPPV1_Format:Bb,RGB_PVRTC_4BPPV1_Format:Db,RGB_S3TC_DXT1_Format:Wy,RGFormat:Q4,RGIntegerFormat:q4,RawShaderMaterial:ON,Ray:Fg,Raycaster:eU,RectAreaLight:XN,RedFormat:K4,RedIntegerFormat:Y4,ReinhardToneMapping:O4,RepeatWrapping:Jo,ReplaceStencilOp:FV,ReverseSubtractEquation:v4,RingBufferGeometry:xY,RingGeometry:$g,SRGBColorSpace:No,Scene:I1,ShaderChunk:Ct,ShaderLib:fo,ShaderMaterial:wo,ShadowMaterial:FN,Shape:Iu,ShapeBufferGeometry:wY,ShapeGeometry:Xg,ShapePath:ZK,ShapeUtils:Wo,ShortType:G4,Skeleton:Ph,SkeletonHelper:zK,SkinnedMesh:X_,Source:xu,Sphere:nl,SphereBufferGeometry:SY,SphereGeometry:Bh,Spherical:tU,SphericalHarmonics3:JN,SplineCurve:UC,SpotLight:q_,SpotLightHelper:UK,Sprite:AN,SpriteMaterial:RC,SrcAlphaFactor:yC,SrcAlphaSaturateFactor:C4,SrcColorFactor:x4,StaticCopyUsage:eW,StaticDrawUsage:eg,StaticReadUsage:QV,StereoCamera:pK,StreamCopyUsage:nW,StreamDrawUsage:YV,StreamReadUsage:ZV,StringKeyframeTrack:lf,SubtractEquation:g4,SubtractiveBlending:Eb,TOUCH:TV,TangentSpaceNormalMap:bc,TetrahedronBufferGeometry:AY,TetrahedronGeometry:Jg,Texture:on,TextureLoader:Ih,TorusBufferGeometry:bY,TorusGeometry:Kg,TorusKnotBufferGeometry:MY,TorusKnotGeometry:Yg,Triangle:Ns,TriangleFanDrawMode:D1,TriangleStripDrawMode:AC,TrianglesDrawMode:iN,TubeBufferGeometry:CY,TubeGeometry:Qg,UVMapping:k_,Uint16BufferAttribute:U_,Uint32BufferAttribute:EC,Uint8BufferAttribute:DW,Uint8ClampedBufferAttribute:BW,Uniform:eE,UniformsGroup:LK,UniformsLib:$e,UniformsUtils:z_,UnsignedByteType:ja,UnsignedInt248Type:Ru,UnsignedIntType:zl,UnsignedShort4444Type:V4,UnsignedShort5551Type:W4,UnsignedShortType:wC,VSMShadowMap:vu,Vector2:Le,Vector3:$,Vector4:Pt,VectorKeyframeTrack:hc,VideoTexture:MN,WebGL1Renderer:wN,WebGL3DRenderTarget:xW,WebGLArrayRenderTarget:_W,WebGLCubeRenderTarget:dN,WebGLMultipleRenderTargets:wW,WebGLMultisampleRenderTarget:sY,WebGLRenderTarget:Ks,WebGLRenderer:PC,WebGLUtils:yN,WireframeGeometry:kN,WrapAroundEnding:Zm,ZeroCurvatureEnding:yu,ZeroFactor:y4,ZeroSlopeEnding:_u,ZeroStencilOp:kV,_SRGBAFormat:B1,sRGBEncoding:vn},Symbol.toStringTag,{value:"Module"}));var rU={exports:{}},cf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */cf.ConcurrentRoot=1;cf.ContinuousEventPriority=4;cf.DefaultEventPriority=16;cf.DiscreteEventPriority=1;cf.IdleEventPriority=536870912;cf.LegacyRoot=0;rU.exports=cf;var Td=rU.exports;function TY(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),t.forEach(p=>p(e,d))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function p(){const g=u(e);if(!f(d,g)){const v=d;c(d=g,v)}}return t.add(p),()=>t.delete(p)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const PY=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),xD=PY?B.useEffect:B.useLayoutEffect;function tE(n){const e=typeof n=="function"?TY(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=B.useReducer(y=>y+1,0),o=e.getState(),a=B.useRef(o),l=B.useRef(r),c=B.useRef(i),u=B.useRef(!1),f=B.useRef();f.current===void 0&&(f.current=r(o));let d,p=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(d=r(o),p=!i(f.current,d)),xD(()=>{p&&(f.current=d),a.current=o,l.current=r,c.current=i,u.current=!1});const g=B.useRef(o);xD(()=>{const y=()=>{try{const x=e.getState(),w=l.current(x);c.current(f.current,w)||(a.current=x,f.current=w,s())}catch{u.current=!0,s()}},_=e.subscribe(y);return e.getState()!==g.current&&y(),_},[]);const v=p?d:f.current;return B.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var iU={exports:{}},sU={exports:{}},oU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(H,U){var z=H.length;H.push(U);e:for(;0<z;){var G=z-1>>>1,j=H[G];if(0<i(j,U))H[G]=U,H[z]=j,z=G;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var U=H[0],z=H.pop();if(z!==U){H[0]=z;e:for(var G=0,j=H.length,Z=j>>>1;G<Z;){var q=2*(G+1)-1,re=H[q],Q=q+1,ce=H[Q];if(0>i(re,z))Q<j&&0>i(ce,re)?(H[G]=ce,H[Q]=z,G=Q):(H[G]=re,H[q]=z,G=q);else if(Q<j&&0>i(ce,z))H[G]=ce,H[Q]=z,G=Q;else break e}}return U}function i(H,U){var z=H.sortIndex-U.sortIndex;return z!==0?z:H.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var U=t(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=H)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function A(H){if(v=!1,w(H),!g)if(t(l)!==null)g=!0,W(C);else{var U=t(c);U!==null&&K(A,U.startTime-H)}}function C(H,U){g=!1,v&&(v=!1,_(M),M=-1),p=!0;var z=d;try{for(w(U),f=t(l);f!==null&&(!(f.expirationTime>U)||H&&!F());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var j=G(f.expirationTime<=U);U=n.unstable_now(),typeof j=="function"?f.callback=j:f===t(l)&&r(l),w(U)}else r(l);f=t(l)}if(f!==null)var Z=!0;else{var q=t(c);q!==null&&K(A,q.startTime-U),Z=!1}return Z}finally{f=null,d=z,p=!1}}var E=!1,P=null,M=-1,T=5,D=-1;function F(){return!(n.unstable_now()-D<T)}function L(){if(P!==null){var H=n.unstable_now();D=H;var U=!0;try{U=P(!0,H)}finally{U?N():(E=!1,P=null)}}else E=!1}var N;if(typeof x=="function")N=function(){x(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,V=k.port2;k.port1.onmessage=L,N=function(){V.postMessage(null)}}else N=function(){y(L,0)};function W(H){P=H,E||(E=!0,N())}function K(H,U){M=y(function(){H(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,W(C))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var z=d;d=U;try{return H()}finally{d=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,U){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var z=d;d=H;try{return U()}finally{d=z}},n.unstable_scheduleCallback=function(H,U,z){var G=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,H){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=z+j,H={id:u++,callback:U,priorityLevel:H,startTime:z,expirationTime:j,sortIndex:-1},z>G?(H.sortIndex=z,e(c,H),t(l)===null&&H===t(c)&&(v?(_(M),M=-1):v=!0,K(A,z-G))):(H.sortIndex=j,e(l,H),g||p||(g=!0,W(C))),H},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(H){var U=d;return function(){var z=d;d=U;try{return H.apply(this,arguments)}finally{d=z}}}})(oU);sU.exports=oU;var aM=sU.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RY=function(e){var t={},r=B,i=aM,s=Object.assign;function o(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),C=Symbol.iterator;function E(h){return h===null||typeof h!="object"?null:(h=C&&h[C]||h["@@iterator"],typeof h=="function"?h:null)}function P(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case _:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case p:return(h._context.displayName||"Context")+".Provider";case v:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case x:return m=h.displayName||null,m!==null?m:P(h.type)||"Memo";case w:m=h._payload,h=h._init;try{return P(h(m))}catch{}}return null}function M(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(m);case 8:return m===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function T(h){var m=h,S=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,m.flags&4098&&(S=m.return),h=m.return;while(h)}return m.tag===3?S:null}function D(h){if(T(h)!==h)throw Error(o(188))}function F(h){var m=h.alternate;if(!m){if(m=T(h),m===null)throw Error(o(188));return m!==h?null:h}for(var S=h,b=m;;){var R=S.return;if(R===null)break;var I=R.alternate;if(I===null){if(b=R.return,b!==null){S=b;continue}break}if(R.child===I.child){for(I=R.child;I;){if(I===S)return D(R),h;if(I===b)return D(R),m;I=I.sibling}throw Error(o(188))}if(S.return!==b.return)S=R,b=I;else{for(var Y=!1,se=R.child;se;){if(se===S){Y=!0,S=R,b=I;break}if(se===b){Y=!0,b=R,S=I;break}se=se.sibling}if(!Y){for(se=I.child;se;){if(se===S){Y=!0,S=I,b=R;break}if(se===b){Y=!0,b=I,S=R;break}se=se.sibling}if(!Y)throw Error(o(189))}}if(S.alternate!==b)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?h:m}function L(h){return h=F(h),h!==null?N(h):null}function N(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=N(h);if(m!==null)return m;h=h.sibling}return null}function k(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var m=k(h);if(m!==null)return m}h=h.sibling}return null}var V=Array.isArray,W=e.getPublicInstance,K=e.getRootHostContext,H=e.getChildHostContext,U=e.prepareForCommit,z=e.resetAfterCommit,G=e.createInstance,j=e.appendInitialChild,Z=e.finalizeInitialChildren,q=e.prepareUpdate,re=e.shouldSetTextContent,Q=e.createTextInstance,ce=e.scheduleTimeout,de=e.cancelTimeout,Re=e.noTimeout,ge=e.isPrimaryRenderer,ve=e.supportsMutation,ne=e.supportsPersistence,oe=e.supportsHydration,_e=e.getInstanceFromNode,be=e.preparePortalMount,xe=e.getCurrentEventPriority,Ne=e.detachDeletedInstance,we=e.supportsMicrotasks,Ie=e.scheduleMicrotask,Ue=e.supportsTestSelectors,Ae=e.findFiberRoot,X=e.getBoundingRect,O=e.getTextContent,ee=e.isHiddenSubtree,ae=e.matchAccessibilityRole,Ce=e.setFocusIfFocusable,ye=e.setupIntersectionObserver,Fe=e.appendChild,Ee=e.appendChildToContainer,pe=e.commitTextUpdate,je=e.commitMount,Xe=e.commitUpdate,Oe=e.insertBefore,ze=e.insertInContainerBefore,ke=e.removeChild,it=e.removeChildFromContainer,at=e.resetTextContent,It=e.hideInstance,ie=e.hideTextInstance,fe=e.unhideInstance,Be=e.unhideTextInstance,Je=e.clearContainer,We=e.cloneInstance,Qe=e.createContainerChildSet,St=e.appendChildToContainerChildSet,_t=e.finalizeContainerChildren,ct=e.replaceContainerChildren,ut=e.cloneHiddenInstance,Qt=e.cloneHiddenTextInstance,Jt=e.canHydrateInstance,mn=e.canHydrateTextInstance,Qr=e.canHydrateSuspenseInstance,zi=e.isSuspenseInstancePending,qr=e.isSuspenseInstanceFallback,J=e.registerSuspenseInstanceRetry,he=e.getNextHydratableSibling,Me=e.getFirstHydratableChild,ue=e.getFirstHydratableChildWithinContainer,De=e.getFirstHydratableChildWithinSuspenseInstance,lt=e.hydrateInstance,ht=e.hydrateTextInstance,At=e.hydrateSuspenseInstance,yt=e.getNextHydratableInstanceAfterSuspenseInstance,Dt=e.commitHydratedContainer,bt=e.commitHydratedSuspenseInstance,kt=e.clearSuspenseBoundary,en=e.clearSuspenseBoundaryFromContainer,yi=e.shouldDeleteUnhydratedTailInstances,ps=e.didNotMatchHydratedContainerTextInstance,ms=e.didNotMatchHydratedTextInstance,qe;function Mt(h){if(qe===void 0)try{throw Error()}catch(S){var m=S.stack.trim().match(/\n( *(at )?)/);qe=m&&m[1]||""}return`
`+qe+h}var gs=!1;function Kt(h,m){if(!h||gs)return"";gs=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ve){var b=Ve}Reflect.construct(h,[],m)}else{try{m.call()}catch(Ve){b=Ve}h.call(m.prototype)}else{try{throw Error()}catch(Ve){b=Ve}h()}}catch(Ve){if(Ve&&b&&typeof Ve.stack=="string"){for(var R=Ve.stack.split(`
`),I=b.stack.split(`
`),Y=R.length-1,se=I.length-1;1<=Y&&0<=se&&R[Y]!==I[se];)se--;for(;1<=Y&&0<=se;Y--,se--)if(R[Y]!==I[se]){if(Y!==1||se!==1)do if(Y--,se--,0>se||R[Y]!==I[se]){var Te=`
`+R[Y].replace(" at new "," at ");return h.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",h.displayName)),Te}while(1<=Y&&0<=se);break}}}finally{gs=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?Mt(h):""}var sr=Object.prototype.hasOwnProperty,Zr=[],Lr=-1;function br(h){return{current:h}}function vt(h){0>Lr||(h.current=Zr[Lr],Zr[Lr]=null,Lr--)}function Ft(h,m){Lr++,Zr[Lr]=h.current,h.current=m}var Mr={},Ht=br(Mr),Bn=br(!1),vs=Mr;function ei(h,m){var S=h.type.contextTypes;if(!S)return Mr;var b=h.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===m)return b.__reactInternalMemoizedMaskedChildContext;var R={},I;for(I in S)R[I]=m[I];return b&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=R),R}function pr(h){return h=h.childContextTypes,h!=null}function Zs(){vt(Bn),vt(Ht)}function gf(h,m,S){if(Ht.current!==Mr)throw Error(o(168));Ft(Ht,m),Ft(Bn,S)}function vf(h,m,S){var b=h.stateNode;if(m=m.childContextTypes,typeof b.getChildContext!="function")return S;b=b.getChildContext();for(var R in b)if(!(R in m))throw Error(o(108,M(h)||"Unknown",R));return s({},S,b)}function al(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Mr,vs=Ht.current,Ft(Ht,h),Ft(Bn,Bn.current),!0}function Gi(h,m,S){var b=h.stateNode;if(!b)throw Error(o(169));S?(h=vf(h,m,vs),b.__reactInternalMemoizedMergedChildContext=h,vt(Bn),vt(Ht),Ft(Ht,h)):vt(Bn),Ft(Bn,S)}var Hi=Math.clz32?Math.clz32:p0,yf=Math.log,Pc=Math.LN2;function p0(h){return h>>>=0,h===0?32:31-(yf(h)/Pc|0)|0}var Zo=64,ea=4194304;function ta(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Rc(h,m){var S=h.pendingLanes;if(S===0)return 0;var b=0,R=h.suspendedLanes,I=h.pingedLanes,Y=S&268435455;if(Y!==0){var se=Y&~R;se!==0?b=ta(se):(I&=Y,I!==0&&(b=ta(I)))}else Y=S&~R,Y!==0?b=ta(Y):I!==0&&(b=ta(I));if(b===0)return 0;if(m!==0&&m!==b&&!(m&R)&&(R=b&-b,I=m&-m,R>=I||R===16&&(I&4194240)!==0))return m;if(b&4&&(b|=S&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=b;0<m;)S=31-Hi(m),R=1<<S,b|=h[S],m&=~R;return b}function m0(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vh(h,m){for(var S=h.suspendedLanes,b=h.pingedLanes,R=h.expirationTimes,I=h.pendingLanes;0<I;){var Y=31-Hi(I),se=1<<Y,Te=R[Y];Te===-1?(!(se&S)||se&b)&&(R[Y]=m0(se,m)):Te<=m&&(h.expiredLanes|=se),I&=~se}}function na(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function _f(h){for(var m=[],S=0;31>S;S++)m.push(h);return m}function To(h,m,S){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-Hi(m),h[m]=S}function ll(h,m){var S=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var b=h.eventTimes;for(h=h.expirationTimes;0<S;){var R=31-Hi(S),I=1<<R;m[R]=0,b[R]=-1,h[R]=-1,S&=~I}}function Po(h,m){var S=h.entangledLanes|=m;for(h=h.entanglements;S;){var b=31-Hi(S),R=1<<b;R&m|h[b]&m&&(h[b]|=m),S&=~R}}var Bt=0;function Wh(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var ra=i.unstable_scheduleCallback,xf=i.unstable_cancelCallback,jh=i.unstable_shouldYield,g0=i.unstable_requestPaint,xn=i.unstable_now,Dc=i.unstable_ImmediatePriority,v0=i.unstable_UserBlockingPriority,ti=i.unstable_NormalPriority,$h=i.unstable_IdlePriority,Bc=null,Vi=null;function Xh(h){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(Bc,h,void 0,(h.current.flags&128)===128)}catch{}}function y0(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var Wi=typeof Object.is=="function"?Object.is:y0,ni=null,Ro=!1,ys=!1;function Jh(h){ni===null?ni=[h]:ni.push(h)}function Kh(h){Ro=!0,Jh(h)}function _i(){if(!ys&&ni!==null){ys=!0;var h=0,m=Bt;try{var S=ni;for(Bt=1;h<S.length;h++){var b=S[h];do b=b(!0);while(b!==null)}ni=null,Ro=!1}catch(R){throw ni!==null&&(ni=ni.slice(h+1)),ra(Dc,_i),R}finally{Bt=m,ys=!1}}return null}var Lc=a.ReactCurrentBatchConfig;function Ic(h,m){if(Wi(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var S=Object.keys(h),b=Object.keys(m);if(S.length!==b.length)return!1;for(b=0;b<S.length;b++){var R=S[b];if(!sr.call(m,R)||!Wi(h[R],m[R]))return!1}return!0}function kc(h){switch(h.tag){case 5:return Mt(h.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 2:case 15:return h=Kt(h.type,!1),h;case 11:return h=Kt(h.type.render,!1),h;case 1:return h=Kt(h.type,!0),h;default:return""}}function ri(h,m){if(h&&h.defaultProps){m=s({},m),h=h.defaultProps;for(var S in h)m[S]===void 0&&(m[S]=h[S]);return m}return m}var mr=br(null),wf=null,eo=null,cl=null;function Sf(){cl=eo=wf=null}function _0(h,m,S){ge?(Ft(mr,m._currentValue),m._currentValue=S):(Ft(mr,m._currentValue2),m._currentValue2=S)}function gr(h){var m=mr.current;vt(mr),ge?h._currentValue=m:h._currentValue2=m}function ii(h,m,S){for(;h!==null;){var b=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,b!==null&&(b.childLanes|=m)):b!==null&&(b.childLanes&m)!==m&&(b.childLanes|=m),h===S)break;h=h.return}}function Gn(h,m){wf=h,cl=eo=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&m&&(Ji=!0),h.firstContext=null)}function Hn(h){var m=ge?h._currentValue:h._currentValue2;if(cl!==h)if(h={context:h,memoizedValue:m,next:null},eo===null){if(wf===null)throw Error(o(308));eo=h,wf.dependencies={lanes:0,firstContext:h}}else eo=eo.next=h;return m}var ji=null,ul=!1;function Sx(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yT(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function ia(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function fl(h,m){var S=h.updateQueue;S!==null&&(S=S.shared,qn!==null&&h.mode&1&&!(Tt&2)?(h=S.interleaved,h===null?(m.next=m,ji===null?ji=[S]:ji.push(S)):(m.next=h.next,h.next=m),S.interleaved=m):(h=S.pending,h===null?m.next=m:(m.next=h.next,h.next=m),S.pending=m))}function x0(h,m,S){if(m=m.updateQueue,m!==null&&(m=m.shared,(S&4194240)!==0)){var b=m.lanes;b&=h.pendingLanes,S|=b,m.lanes=S,Po(h,S)}}function _T(h,m){var S=h.updateQueue,b=h.alternate;if(b!==null&&(b=b.updateQueue,S===b)){var R=null,I=null;if(S=S.firstBaseUpdate,S!==null){do{var Y={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};I===null?R=I=Y:I=I.next=Y,S=S.next}while(S!==null);I===null?R=I=m:I=I.next=m}else R=I=m;S={baseState:b.baseState,firstBaseUpdate:R,lastBaseUpdate:I,shared:b.shared,effects:b.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=m:h.next=m,S.lastBaseUpdate=m}function w0(h,m,S,b){var R=h.updateQueue;ul=!1;var I=R.firstBaseUpdate,Y=R.lastBaseUpdate,se=R.shared.pending;if(se!==null){R.shared.pending=null;var Te=se,Ve=Te.next;Te.next=null,Y===null?I=Ve:Y.next=Ve,Y=Te;var nt=h.alternate;nt!==null&&(nt=nt.updateQueue,se=nt.lastBaseUpdate,se!==Y&&(se===null?nt.firstBaseUpdate=Ve:se.next=Ve,nt.lastBaseUpdate=Te))}if(I!==null){var xt=R.baseState;Y=0,nt=Ve=Te=null,se=I;do{var ft=se.lane,tn=se.eventTime;if((b&ft)===ft){nt!==null&&(nt=nt.next={eventTime:tn,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var ot=h,Or=se;switch(ft=m,tn=S,Or.tag){case 1:if(ot=Or.payload,typeof ot=="function"){xt=ot.call(tn,xt,ft);break e}xt=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=Or.payload,ft=typeof ot=="function"?ot.call(tn,xt,ft):ot,ft==null)break e;xt=s({},xt,ft);break e;case 2:ul=!0}}se.callback!==null&&se.lane!==0&&(h.flags|=64,ft=R.effects,ft===null?R.effects=[se]:ft.push(se))}else tn={eventTime:tn,lane:ft,tag:se.tag,payload:se.payload,callback:se.callback,next:null},nt===null?(Ve=nt=tn,Te=xt):nt=nt.next=tn,Y|=ft;if(se=se.next,se===null){if(se=R.shared.pending,se===null)break;ft=se,se=ft.next,ft.next=null,R.lastBaseUpdate=ft,R.shared.pending=null}}while(1);if(nt===null&&(Te=xt),R.baseState=Te,R.firstBaseUpdate=Ve,R.lastBaseUpdate=nt,m=R.shared.interleaved,m!==null){R=m;do Y|=R.lane,R=R.next;while(R!==m)}else I===null&&(R.shared.lanes=0);Df|=Y,h.lanes=Y,h.memoizedState=xt}}function xT(h,m,S){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var b=h[m],R=b.callback;if(R!==null){if(b.callback=null,b=S,typeof R!="function")throw Error(o(191,R));R.call(b)}}}var wT=new r.Component().refs;function Ax(h,m,S,b){m=h.memoizedState,S=S(b,m),S=S==null?m:s({},m,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var S0={isMounted:function(h){return(h=h._reactInternals)?T(h)===h:!1},enqueueSetState:function(h,m,S){h=h._reactInternals;var b=oi(),R=pl(h),I=ia(b,R);I.payload=m,S!=null&&(I.callback=S),fl(h,I),m=As(h,R,b),m!==null&&x0(m,h,R)},enqueueReplaceState:function(h,m,S){h=h._reactInternals;var b=oi(),R=pl(h),I=ia(b,R);I.tag=1,I.payload=m,S!=null&&(I.callback=S),fl(h,I),m=As(h,R,b),m!==null&&x0(m,h,R)},enqueueForceUpdate:function(h,m){h=h._reactInternals;var S=oi(),b=pl(h),R=ia(S,b);R.tag=2,m!=null&&(R.callback=m),fl(h,R),m=As(h,b,S),m!==null&&x0(m,h,b)}};function ST(h,m,S,b,R,I,Y){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(b,I,Y):m.prototype&&m.prototype.isPureReactComponent?!Ic(S,b)||!Ic(R,I):!0}function AT(h,m,S){var b=!1,R=Mr,I=m.contextType;return typeof I=="object"&&I!==null?I=Hn(I):(R=pr(m)?vs:Ht.current,b=m.contextTypes,I=(b=b!=null)?ei(h,R):Mr),m=new m(S,I),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=S0,h.stateNode=m,m._reactInternals=h,b&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=R,h.__reactInternalMemoizedMaskedChildContext=I),m}function bT(h,m,S,b){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(S,b),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(S,b),m.state!==h&&S0.enqueueReplaceState(m,m.state,null)}function bx(h,m,S,b){var R=h.stateNode;R.props=S,R.state=h.memoizedState,R.refs=wT,Sx(h);var I=m.contextType;typeof I=="object"&&I!==null?R.context=Hn(I):(I=pr(m)?vs:Ht.current,R.context=ei(h,I)),R.state=h.memoizedState,I=m.getDerivedStateFromProps,typeof I=="function"&&(Ax(h,m,I,S),R.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(m=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),m!==R.state&&S0.enqueueReplaceState(R,R.state,null),w0(h,S,R,b),R.state=h.memoizedState),typeof R.componentDidMount=="function"&&(h.flags|=4194308)}var Af=[],bf=0,A0=null,b0=0,_s=[],xs=0,Fc=null,sa=1,oa="";function Oc(h,m){Af[bf++]=b0,Af[bf++]=A0,A0=h,b0=m}function MT(h,m,S){_s[xs++]=sa,_s[xs++]=oa,_s[xs++]=Fc,Fc=h;var b=sa;h=oa;var R=32-Hi(b)-1;b&=~(1<<R),S+=1;var I=32-Hi(m)+R;if(30<I){var Y=R-R%5;I=(b&(1<<Y)-1).toString(32),b>>=Y,R-=Y,sa=1<<32-Hi(m)+R|S<<R|b,oa=I+h}else sa=1<<I|S<<R|b,oa=h}function Mx(h){h.return!==null&&(Oc(h,1),MT(h,1,0))}function Cx(h){for(;h===A0;)A0=Af[--bf],Af[bf]=null,b0=Af[--bf],Af[bf]=null;for(;h===Fc;)Fc=_s[--xs],_s[xs]=null,oa=_s[--xs],_s[xs]=null,sa=_s[--xs],_s[xs]=null}var $i=null,Xi=null,gn=!1,Yh=!1,to=null;function CT(h,m){var S=bs(5,null,null,0);S.elementType="DELETED",S.stateNode=m,S.return=h,m=h.deletions,m===null?(h.deletions=[S],h.flags|=16):m.push(S)}function ET(h,m){switch(h.tag){case 5:return m=Jt(m,h.type,h.pendingProps),m!==null?(h.stateNode=m,$i=h,Xi=Me(m),!0):!1;case 6:return m=mn(m,h.pendingProps),m!==null?(h.stateNode=m,$i=h,Xi=null,!0):!1;case 13:if(m=Qr(m),m!==null){var S=Fc!==null?{id:sa,overflow:oa}:null;return h.memoizedState={dehydrated:m,treeContext:S,retryLane:1073741824},S=bs(18,null,null,0),S.stateNode=m,S.return=h,h.child=S,$i=h,Xi=null,!0}return!1;default:return!1}}function Ex(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Tx(h){if(gn){var m=Xi;if(m){var S=m;if(!ET(h,m)){if(Ex(h))throw Error(o(418));m=he(S);var b=$i;m&&ET(h,m)?CT(b,S):(h.flags=h.flags&-4097|2,gn=!1,$i=h)}}else{if(Ex(h))throw Error(o(418));h.flags=h.flags&-4097|2,gn=!1,$i=h}}}function TT(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;$i=h}function Qh(h){if(!oe||h!==$i)return!1;if(!gn)return TT(h),gn=!0,!1;if(h.tag!==3&&(h.tag!==5||yi(h.type)&&!re(h.type,h.memoizedProps))){var m=Xi;if(m){if(Ex(h)){for(h=Xi;h;)h=he(h);throw Error(o(418))}for(;m;)CT(h,m),m=he(m)}}if(TT(h),h.tag===13){if(!oe)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Xi=yt(h)}else Xi=$i?he(h.stateNode):null;return!0}function Mf(){oe&&(Xi=$i=null,Yh=gn=!1)}function Px(h){to===null?to=[h]:to.push(h)}function qh(h,m,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var b=S.stateNode}if(!b)throw Error(o(147,h));var R=b,I=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===I?m.ref:(m=function(Y){var se=R.refs;se===wT&&(se=R.refs={}),Y===null?delete se[I]:se[I]=Y},m._stringRef=I,m)}if(typeof h!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,h))}return h}function M0(h,m){throw h=Object.prototype.toString.call(m),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function PT(h){var m=h._init;return m(h._payload)}function RT(h){function m(me,le){if(h){var Se=me.deletions;Se===null?(me.deletions=[le],me.flags|=16):Se.push(le)}}function S(me,le){if(!h)return null;for(;le!==null;)m(me,le),le=le.sibling;return null}function b(me,le){for(me=new Map;le!==null;)le.key!==null?me.set(le.key,le):me.set(le.index,le),le=le.sibling;return me}function R(me,le){return me=gl(me,le),me.index=0,me.sibling=null,me}function I(me,le,Se){return me.index=Se,h?(Se=me.alternate,Se!==null?(Se=Se.index,Se<le?(me.flags|=2,le):Se):(me.flags|=2,le)):(me.flags|=1048576,le)}function Y(me){return h&&me.alternate===null&&(me.flags|=2),me}function se(me,le,Se,Ye){return le===null||le.tag!==6?(le=dw(Se,me.mode,Ye),le.return=me,le):(le=R(le,Se),le.return=me,le)}function Te(me,le,Se,Ye){var st=Se.type;return st===u?nt(me,le,Se.props.children,Ye,Se.key):le!==null&&(le.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===w&&PT(st)===le.type)?(Ye=R(le,Se.props),Ye.ref=qh(me,le,Se),Ye.return=me,Ye):(Ye=nv(Se.type,Se.key,Se.props,null,me.mode,Ye),Ye.ref=qh(me,le,Se),Ye.return=me,Ye)}function Ve(me,le,Se,Ye){return le===null||le.tag!==4||le.stateNode.containerInfo!==Se.containerInfo||le.stateNode.implementation!==Se.implementation?(le=hw(Se,me.mode,Ye),le.return=me,le):(le=R(le,Se.children||[]),le.return=me,le)}function nt(me,le,Se,Ye,st){return le===null||le.tag!==7?(le=Wc(Se,me.mode,Ye,st),le.return=me,le):(le=R(le,Se),le.return=me,le)}function xt(me,le,Se){if(typeof le=="string"&&le!==""||typeof le=="number")return le=dw(""+le,me.mode,Se),le.return=me,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case l:return Se=nv(le.type,le.key,le.props,null,me.mode,Se),Se.ref=qh(me,null,le),Se.return=me,Se;case c:return le=hw(le,me.mode,Se),le.return=me,le;case w:var Ye=le._init;return xt(me,Ye(le._payload),Se)}if(V(le)||E(le))return le=Wc(le,me.mode,Se,null),le.return=me,le;M0(me,le)}return null}function ft(me,le,Se,Ye){var st=le!==null?le.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return st!==null?null:se(me,le,""+Se,Ye);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:return Se.key===st?Te(me,le,Se,Ye):null;case c:return Se.key===st?Ve(me,le,Se,Ye):null;case w:return st=Se._init,ft(me,le,st(Se._payload),Ye)}if(V(Se)||E(Se))return st!==null?null:nt(me,le,Se,Ye,null);M0(me,Se)}return null}function tn(me,le,Se,Ye,st){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return me=me.get(Se)||null,se(le,me,""+Ye,st);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case l:return me=me.get(Ye.key===null?Se:Ye.key)||null,Te(le,me,Ye,st);case c:return me=me.get(Ye.key===null?Se:Ye.key)||null,Ve(le,me,Ye,st);case w:var Et=Ye._init;return tn(me,le,Se,Et(Ye._payload),st)}if(V(Ye)||E(Ye))return me=me.get(Se)||null,nt(le,me,Ye,st,null);M0(le,Ye)}return null}function ot(me,le,Se,Ye){for(var st=null,Et=null,wt=le,Wt=le=0,yr=null;wt!==null&&Wt<Se.length;Wt++){wt.index>Wt?(yr=wt,wt=null):yr=wt.sibling;var jt=ft(me,wt,Se[Wt],Ye);if(jt===null){wt===null&&(wt=yr);break}h&&wt&&jt.alternate===null&&m(me,wt),le=I(jt,le,Wt),Et===null?st=jt:Et.sibling=jt,Et=jt,wt=yr}if(Wt===Se.length)return S(me,wt),gn&&Oc(me,Wt),st;if(wt===null){for(;Wt<Se.length;Wt++)wt=xt(me,Se[Wt],Ye),wt!==null&&(le=I(wt,le,Wt),Et===null?st=wt:Et.sibling=wt,Et=wt);return gn&&Oc(me,Wt),st}for(wt=b(me,wt);Wt<Se.length;Wt++)yr=tn(wt,me,Wt,Se[Wt],Ye),yr!==null&&(h&&yr.alternate!==null&&wt.delete(yr.key===null?Wt:yr.key),le=I(yr,le,Wt),Et===null?st=yr:Et.sibling=yr,Et=yr);return h&&wt.forEach(function(vl){return m(me,vl)}),gn&&Oc(me,Wt),st}function Or(me,le,Se,Ye){var st=E(Se);if(typeof st!="function")throw Error(o(150));if(Se=st.call(Se),Se==null)throw Error(o(151));for(var Et=st=null,wt=le,Wt=le=0,yr=null,jt=Se.next();wt!==null&&!jt.done;Wt++,jt=Se.next()){wt.index>Wt?(yr=wt,wt=null):yr=wt.sibling;var vl=ft(me,wt,jt.value,Ye);if(vl===null){wt===null&&(wt=yr);break}h&&wt&&vl.alternate===null&&m(me,wt),le=I(vl,le,Wt),Et===null?st=vl:Et.sibling=vl,Et=vl,wt=yr}if(jt.done)return S(me,wt),gn&&Oc(me,Wt),st;if(wt===null){for(;!jt.done;Wt++,jt=Se.next())jt=xt(me,jt.value,Ye),jt!==null&&(le=I(jt,le,Wt),Et===null?st=jt:Et.sibling=jt,Et=jt);return gn&&Oc(me,Wt),st}for(wt=b(me,wt);!jt.done;Wt++,jt=Se.next())jt=tn(wt,me,Wt,jt.value,Ye),jt!==null&&(h&&jt.alternate!==null&&wt.delete(jt.key===null?Wt:jt.key),le=I(jt,le,Wt),Et===null?st=jt:Et.sibling=jt,Et=jt);return h&&wt.forEach(function(e9){return m(me,e9)}),gn&&Oc(me,Wt),st}function Ms(me,le,Se,Ye){if(typeof Se=="object"&&Se!==null&&Se.type===u&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:e:{for(var st=Se.key,Et=le;Et!==null;){if(Et.key===st){if(st=Se.type,st===u){if(Et.tag===7){S(me,Et.sibling),le=R(Et,Se.props.children),le.return=me,me=le;break e}}else if(Et.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===w&&PT(st)===Et.type){S(me,Et.sibling),le=R(Et,Se.props),le.ref=qh(me,Et,Se),le.return=me,me=le;break e}S(me,Et);break}else m(me,Et);Et=Et.sibling}Se.type===u?(le=Wc(Se.props.children,me.mode,Ye,Se.key),le.return=me,me=le):(Ye=nv(Se.type,Se.key,Se.props,null,me.mode,Ye),Ye.ref=qh(me,le,Se),Ye.return=me,me=Ye)}return Y(me);case c:e:{for(Et=Se.key;le!==null;){if(le.key===Et)if(le.tag===4&&le.stateNode.containerInfo===Se.containerInfo&&le.stateNode.implementation===Se.implementation){S(me,le.sibling),le=R(le,Se.children||[]),le.return=me,me=le;break e}else{S(me,le);break}else m(me,le);le=le.sibling}le=hw(Se,me.mode,Ye),le.return=me,me=le}return Y(me);case w:return Et=Se._init,Ms(me,le,Et(Se._payload),Ye)}if(V(Se))return ot(me,le,Se,Ye);if(E(Se))return Or(me,le,Se,Ye);M0(me,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,le!==null&&le.tag===6?(S(me,le.sibling),le=R(le,Se),le.return=me,me=le):(S(me,le),le=dw(Se,me.mode,Ye),le.return=me,me=le),Y(me)):S(me,le)}return Ms}var Cf=RT(!0),DT=RT(!1),Zh={},ws=br(Zh),ep=br(Zh),Ef=br(Zh);function Do(h){if(h===Zh)throw Error(o(174));return h}function Rx(h,m){Ft(Ef,m),Ft(ep,h),Ft(ws,Zh),h=K(m),vt(ws),Ft(ws,h)}function Tf(){vt(ws),vt(ep),vt(Ef)}function BT(h){var m=Do(Ef.current),S=Do(ws.current);m=H(S,h.type,m),S!==m&&(Ft(ep,h),Ft(ws,m))}function Dx(h){ep.current===h&&(vt(ws),vt(ep))}var wn=br(0);function C0(h){for(var m=h;m!==null;){if(m.tag===13){var S=m.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||zi(S)||qr(S)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Bx=[];function Lx(){for(var h=0;h<Bx.length;h++){var m=Bx[h];ge?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}Bx.length=0}var E0=a.ReactCurrentDispatcher,Ss=a.ReactCurrentBatchConfig,Pf=0,Ln=null,Ir=null,vr=null,T0=!1,tp=!1,np=0,M8=0;function kr(){throw Error(o(321))}function Ix(h,m){if(m===null)return!1;for(var S=0;S<m.length&&S<h.length;S++)if(!Wi(h[S],m[S]))return!1;return!0}function kx(h,m,S,b,R,I){if(Pf=I,Ln=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,E0.current=h===null||h.memoizedState===null?P8:R8,h=S(b,R),tp){I=0;do{if(tp=!1,np=0,25<=I)throw Error(o(301));I+=1,vr=Ir=null,m.updateQueue=null,E0.current=D8,h=S(b,R)}while(tp)}if(E0.current=L0,m=Ir!==null&&Ir.next!==null,Pf=0,vr=Ir=Ln=null,T0=!1,m)throw Error(o(300));return h}function Fx(){var h=np!==0;return np=0,h}function aa(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Ln.memoizedState=vr=h:vr=vr.next=h,vr}function Bo(){if(Ir===null){var h=Ln.alternate;h=h!==null?h.memoizedState:null}else h=Ir.next;var m=vr===null?Ln.memoizedState:vr.next;if(m!==null)vr=m,Ir=h;else{if(h===null)throw Error(o(310));Ir=h,h={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},vr===null?Ln.memoizedState=vr=h:vr=vr.next=h}return vr}function Nc(h,m){return typeof m=="function"?m(h):m}function P0(h){var m=Bo(),S=m.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var b=Ir,R=b.baseQueue,I=S.pending;if(I!==null){if(R!==null){var Y=R.next;R.next=I.next,I.next=Y}b.baseQueue=R=I,S.pending=null}if(R!==null){I=R.next,b=b.baseState;var se=Y=null,Te=null,Ve=I;do{var nt=Ve.lane;if((Pf&nt)===nt)Te!==null&&(Te=Te.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),b=Ve.hasEagerState?Ve.eagerState:h(b,Ve.action);else{var xt={lane:nt,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};Te===null?(se=Te=xt,Y=b):Te=Te.next=xt,Ln.lanes|=nt,Df|=nt}Ve=Ve.next}while(Ve!==null&&Ve!==I);Te===null?Y=b:Te.next=se,Wi(b,m.memoizedState)||(Ji=!0),m.memoizedState=b,m.baseState=Y,m.baseQueue=Te,S.lastRenderedState=b}if(h=S.interleaved,h!==null){R=h;do I=R.lane,Ln.lanes|=I,Df|=I,R=R.next;while(R!==h)}else R===null&&(S.lanes=0);return[m.memoizedState,S.dispatch]}function R0(h){var m=Bo(),S=m.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var b=S.dispatch,R=S.pending,I=m.memoizedState;if(R!==null){S.pending=null;var Y=R=R.next;do I=h(I,Y.action),Y=Y.next;while(Y!==R);Wi(I,m.memoizedState)||(Ji=!0),m.memoizedState=I,m.baseQueue===null&&(m.baseState=I),S.lastRenderedState=I}return[I,b]}function LT(){}function IT(h,m){var S=Ln,b=Bo(),R=m(),I=!Wi(b.memoizedState,R);if(I&&(b.memoizedState=R,Ji=!0),b=b.queue,ip(OT.bind(null,S,b,h),[h]),b.getSnapshot!==m||I||vr!==null&&vr.memoizedState.tag&1){if(S.flags|=2048,rp(9,FT.bind(null,S,b,R,m),void 0,null),qn===null)throw Error(o(349));Pf&30||kT(S,m,R)}return R}function kT(h,m,S){h.flags|=16384,h={getSnapshot:m,value:S},m=Ln.updateQueue,m===null?(m={lastEffect:null,stores:null},Ln.updateQueue=m,m.stores=[h]):(S=m.stores,S===null?m.stores=[h]:S.push(h))}function FT(h,m,S,b){m.value=S,m.getSnapshot=b,NT(m)&&As(h,1,-1)}function OT(h,m,S){return S(function(){NT(m)&&As(h,1,-1)})}function NT(h){var m=h.getSnapshot;h=h.value;try{var S=m();return!Wi(h,S)}catch{return!0}}function Ox(h){var m=aa();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:h},m.queue=h,h=h.dispatch=T8.bind(null,Ln,h),[m.memoizedState,h]}function rp(h,m,S,b){return h={tag:h,create:m,destroy:S,deps:b,next:null},m=Ln.updateQueue,m===null?(m={lastEffect:null,stores:null},Ln.updateQueue=m,m.lastEffect=h.next=h):(S=m.lastEffect,S===null?m.lastEffect=h.next=h:(b=S.next,S.next=h,h.next=b,m.lastEffect=h)),h}function UT(){return Bo().memoizedState}function D0(h,m,S,b){var R=aa();Ln.flags|=h,R.memoizedState=rp(1|m,S,void 0,b===void 0?null:b)}function B0(h,m,S,b){var R=Bo();b=b===void 0?null:b;var I=void 0;if(Ir!==null){var Y=Ir.memoizedState;if(I=Y.destroy,b!==null&&Ix(b,Y.deps)){R.memoizedState=rp(m,S,I,b);return}}Ln.flags|=h,R.memoizedState=rp(1|m,S,I,b)}function Nx(h,m){return D0(8390656,8,h,m)}function ip(h,m){return B0(2048,8,h,m)}function zT(h,m){return B0(4,2,h,m)}function GT(h,m){return B0(4,4,h,m)}function HT(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function VT(h,m,S){return S=S!=null?S.concat([h]):null,B0(4,4,HT.bind(null,m,h),S)}function Ux(){}function WT(h,m){var S=Bo();m=m===void 0?null:m;var b=S.memoizedState;return b!==null&&m!==null&&Ix(m,b[1])?b[0]:(S.memoizedState=[h,m],h)}function jT(h,m){var S=Bo();m=m===void 0?null:m;var b=S.memoizedState;return b!==null&&m!==null&&Ix(m,b[1])?b[0]:(h=h(),S.memoizedState=[h,m],h)}function C8(h,m){var S=Bt;Bt=S!==0&&4>S?S:4,h(!0);var b=Ss.transition;Ss.transition={};try{h(!1),m()}finally{Bt=S,Ss.transition=b}}function $T(){return Bo().memoizedState}function E8(h,m,S){var b=pl(h);S={lane:b,action:S,hasEagerState:!1,eagerState:null,next:null},XT(h)?JT(m,S):(KT(h,m,S),S=oi(),h=As(h,b,S),h!==null&&YT(h,m,b))}function T8(h,m,S){var b=pl(h),R={lane:b,action:S,hasEagerState:!1,eagerState:null,next:null};if(XT(h))JT(m,R);else{KT(h,m,R);var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=m.lastRenderedReducer,I!==null))try{var Y=m.lastRenderedState,se=I(Y,S);if(R.hasEagerState=!0,R.eagerState=se,Wi(se,Y))return}catch{}finally{}S=oi(),h=As(h,b,S),h!==null&&YT(h,m,b)}}function XT(h){var m=h.alternate;return h===Ln||m!==null&&m===Ln}function JT(h,m){tp=T0=!0;var S=h.pending;S===null?m.next=m:(m.next=S.next,S.next=m),h.pending=m}function KT(h,m,S){qn!==null&&h.mode&1&&!(Tt&2)?(h=m.interleaved,h===null?(S.next=S,ji===null?ji=[m]:ji.push(m)):(S.next=h.next,h.next=S),m.interleaved=S):(h=m.pending,h===null?S.next=S:(S.next=h.next,h.next=S),m.pending=S)}function YT(h,m,S){if(S&4194240){var b=m.lanes;b&=h.pendingLanes,S|=b,m.lanes=S,Po(h,S)}}var L0={readContext:Hn,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},P8={readContext:Hn,useCallback:function(h,m){return aa().memoizedState=[h,m===void 0?null:m],h},useContext:Hn,useEffect:Nx,useImperativeHandle:function(h,m,S){return S=S!=null?S.concat([h]):null,D0(4194308,4,HT.bind(null,m,h),S)},useLayoutEffect:function(h,m){return D0(4194308,4,h,m)},useInsertionEffect:function(h,m){return D0(4,2,h,m)},useMemo:function(h,m){var S=aa();return m=m===void 0?null:m,h=h(),S.memoizedState=[h,m],h},useReducer:function(h,m,S){var b=aa();return m=S!==void 0?S(m):m,b.memoizedState=b.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},b.queue=h,h=h.dispatch=E8.bind(null,Ln,h),[b.memoizedState,h]},useRef:function(h){var m=aa();return h={current:h},m.memoizedState=h},useState:Ox,useDebugValue:Ux,useDeferredValue:function(h){var m=Ox(h),S=m[0],b=m[1];return Nx(function(){var R=Ss.transition;Ss.transition={};try{b(h)}finally{Ss.transition=R}},[h]),S},useTransition:function(){var h=Ox(!1),m=h[0];return h=C8.bind(null,h[1]),aa().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,S){var b=Ln,R=aa();if(gn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=m(),qn===null)throw Error(o(349));Pf&30||kT(b,m,S)}R.memoizedState=S;var I={value:S,getSnapshot:m};return R.queue=I,Nx(OT.bind(null,b,I,h),[h]),b.flags|=2048,rp(9,FT.bind(null,b,I,S,m),void 0,null),S},useId:function(){var h=aa(),m=qn.identifierPrefix;if(gn){var S=oa,b=sa;S=(b&~(1<<32-Hi(b)-1)).toString(32)+S,m=":"+m+"R"+S,S=np++,0<S&&(m+="H"+S.toString(32)),m+=":"}else S=M8++,m=":"+m+"r"+S.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},R8={readContext:Hn,useCallback:WT,useContext:Hn,useEffect:ip,useImperativeHandle:VT,useInsertionEffect:zT,useLayoutEffect:GT,useMemo:jT,useReducer:P0,useRef:UT,useState:function(){return P0(Nc)},useDebugValue:Ux,useDeferredValue:function(h){var m=P0(Nc),S=m[0],b=m[1];return ip(function(){var R=Ss.transition;Ss.transition={};try{b(h)}finally{Ss.transition=R}},[h]),S},useTransition:function(){var h=P0(Nc)[0],m=Bo().memoizedState;return[h,m]},useMutableSource:LT,useSyncExternalStore:IT,useId:$T,unstable_isNewReconciler:!1},D8={readContext:Hn,useCallback:WT,useContext:Hn,useEffect:ip,useImperativeHandle:VT,useInsertionEffect:zT,useLayoutEffect:GT,useMemo:jT,useReducer:R0,useRef:UT,useState:function(){return R0(Nc)},useDebugValue:Ux,useDeferredValue:function(h){var m=R0(Nc),S=m[0],b=m[1];return ip(function(){var R=Ss.transition;Ss.transition={};try{b(h)}finally{Ss.transition=R}},[h]),S},useTransition:function(){var h=R0(Nc)[0],m=Bo().memoizedState;return[h,m]},useMutableSource:LT,useSyncExternalStore:IT,useId:$T,unstable_isNewReconciler:!1};function zx(h,m){try{var S="",b=m;do S+=kc(b),b=b.return;while(b);var R=S}catch(I){R=`
Error generating stack: `+I.message+`
`+I.stack}return{value:h,source:m,stack:R}}function Gx(h,m){try{console.error(m.value)}catch(S){setTimeout(function(){throw S})}}var B8=typeof WeakMap=="function"?WeakMap:Map;function QT(h,m,S){S=ia(-1,S),S.tag=3,S.payload={element:null};var b=m.value;return S.callback=function(){K0||(K0=!0,sw=b),Gx(h,m)},S}function qT(h,m,S){S=ia(-1,S),S.tag=3;var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var R=m.value;S.payload=function(){return b(R)},S.callback=function(){Gx(h,m)}}var I=h.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(S.callback=function(){Gx(h,m),typeof b!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var Y=m.stack;this.componentDidCatch(m.value,{componentStack:Y!==null?Y:""})}),S}function ZT(h,m,S){var b=h.pingCache;if(b===null){b=h.pingCache=new B8;var R=new Set;b.set(m,R)}else R=b.get(m),R===void 0&&(R=new Set,b.set(m,R));R.has(S)||(R.add(S),h=$8.bind(null,h,m,S),m.then(h,h))}function e3(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function t3(h,m,S,b,R){return h.mode&1?(h.flags|=65536,h.lanes=R,h):(h===m?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(m=ia(-1,1),m.tag=2,fl(S,m))),S.lanes|=1),h)}function Lo(h){h.flags|=4}function n3(h,m){if(h!==null&&h.child===m.child)return!0;if(m.flags&16)return!1;for(h=m.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var sp,op,I0,k0;if(ve)sp=function(h,m){for(var S=m.child;S!==null;){if(S.tag===5||S.tag===6)j(h,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},op=function(){},I0=function(h,m,S,b,R){if(h=h.memoizedProps,h!==b){var I=m.stateNode,Y=Do(ws.current);S=q(I,S,h,b,R,Y),(m.updateQueue=S)&&Lo(m)}},k0=function(h,m,S,b){S!==b&&Lo(m)};else if(ne){sp=function(h,m,S,b){for(var R=m.child;R!==null;){if(R.tag===5){var I=R.stateNode;S&&b&&(I=ut(I,R.type,R.memoizedProps,R)),j(h,I)}else if(R.tag===6)I=R.stateNode,S&&b&&(I=Qt(I,R.memoizedProps,R)),j(h,I);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)I=R.child,I!==null&&(I.return=R),sp(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};var r3=function(h,m,S,b){for(var R=m.child;R!==null;){if(R.tag===5){var I=R.stateNode;S&&b&&(I=ut(I,R.type,R.memoizedProps,R)),St(h,I)}else if(R.tag===6)I=R.stateNode,S&&b&&(I=Qt(I,R.memoizedProps,R)),St(h,I);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)I=R.child,I!==null&&(I.return=R),r3(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};op=function(h,m){var S=m.stateNode;if(!n3(h,m)){h=S.containerInfo;var b=Qe(h);r3(b,m,!1,!1),S.pendingChildren=b,Lo(m),_t(h,b)}},I0=function(h,m,S,b,R){var I=h.stateNode,Y=h.memoizedProps;if((h=n3(h,m))&&Y===b)m.stateNode=I;else{var se=m.stateNode,Te=Do(ws.current),Ve=null;Y!==b&&(Ve=q(se,S,Y,b,R,Te)),h&&Ve===null?m.stateNode=I:(I=We(I,Ve,S,Y,b,m,h,se),Z(I,S,b,R,Te)&&Lo(m),m.stateNode=I,h?Lo(m):sp(I,m,!1,!1))}},k0=function(h,m,S,b){S!==b?(h=Do(Ef.current),S=Do(ws.current),m.stateNode=Q(b,h,S,m),Lo(m)):m.stateNode=h.stateNode}}else op=function(){},I0=function(){},k0=function(){};function ap(h,m){if(!gn)switch(h.tailMode){case"hidden":m=h.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var b=null;S!==null;)S.alternate!==null&&(b=S),S=S.sibling;b===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:b.sibling=null}}function Fr(h){var m=h.alternate!==null&&h.alternate.child===h.child,S=0,b=0;if(m)for(var R=h.child;R!==null;)S|=R.lanes|R.childLanes,b|=R.subtreeFlags&14680064,b|=R.flags&14680064,R.return=h,R=R.sibling;else for(R=h.child;R!==null;)S|=R.lanes|R.childLanes,b|=R.subtreeFlags,b|=R.flags,R.return=h,R=R.sibling;return h.subtreeFlags|=b,h.childLanes=S,m}function L8(h,m,S){var b=m.pendingProps;switch(Cx(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(m),null;case 1:return pr(m.type)&&Zs(),Fr(m),null;case 3:return b=m.stateNode,Tf(),vt(Bn),vt(Ht),Lx(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(Qh(m)?Lo(m):h===null||h.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,to!==null&&(lw(to),to=null))),op(h,m),Fr(m),null;case 5:Dx(m),S=Do(Ef.current);var R=m.type;if(h!==null&&m.stateNode!=null)I0(h,m,R,b,S),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!b){if(m.stateNode===null)throw Error(o(166));return Fr(m),null}if(h=Do(ws.current),Qh(m)){if(!oe)throw Error(o(175));h=lt(m.stateNode,m.type,m.memoizedProps,S,h,m,!Yh),m.updateQueue=h,h!==null&&Lo(m)}else{var I=G(R,b,S,h,m);sp(I,m,!1,!1),m.stateNode=I,Z(I,R,b,S,h)&&Lo(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Fr(m),null;case 6:if(h&&m.stateNode!=null)k0(h,m,h.memoizedProps,b);else{if(typeof b!="string"&&m.stateNode===null)throw Error(o(166));if(h=Do(Ef.current),S=Do(ws.current),Qh(m)){if(!oe)throw Error(o(176));if(h=m.stateNode,b=m.memoizedProps,(S=ht(h,b,m,!Yh))&&(R=$i,R!==null))switch(I=(R.mode&1)!==0,R.tag){case 3:ps(R.stateNode.containerInfo,h,b,I);break;case 5:ms(R.type,R.memoizedProps,R.stateNode,h,b,I)}S&&Lo(m)}else m.stateNode=Q(b,h,S,m)}return Fr(m),null;case 13:if(vt(wn),b=m.memoizedState,gn&&Xi!==null&&m.mode&1&&!(m.flags&128)){for(h=Xi;h;)h=he(h);return Mf(),m.flags|=98560,m}if(b!==null&&b.dehydrated!==null){if(b=Qh(m),h===null){if(!b)throw Error(o(318));if(!oe)throw Error(o(344));if(h=m.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));At(h,m)}else Mf(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return Fr(m),null}return to!==null&&(lw(to),to=null),m.flags&128?(m.lanes=S,m):(b=b!==null,S=!1,h===null?Qh(m):S=h.memoizedState!==null,b&&!S&&(m.child.flags|=8192,m.mode&1&&(h===null||wn.current&1?or===0&&(or=3):uw())),m.updateQueue!==null&&(m.flags|=4),Fr(m),null);case 4:return Tf(),op(h,m),h===null&&be(m.stateNode.containerInfo),Fr(m),null;case 10:return gr(m.type._context),Fr(m),null;case 17:return pr(m.type)&&Zs(),Fr(m),null;case 19:if(vt(wn),R=m.memoizedState,R===null)return Fr(m),null;if(b=(m.flags&128)!==0,I=R.rendering,I===null)if(b)ap(R,!1);else{if(or!==0||h!==null&&h.flags&128)for(h=m.child;h!==null;){if(I=C0(h),I!==null){for(m.flags|=128,ap(R,!1),h=I.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),m.subtreeFlags=0,h=S,b=m.child;b!==null;)S=b,R=h,S.flags&=14680066,I=S.alternate,I===null?(S.childLanes=0,S.lanes=R,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=I.childLanes,S.lanes=I.lanes,S.child=I.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=I.memoizedProps,S.memoizedState=I.memoizedState,S.updateQueue=I.updateQueue,S.type=I.type,R=I.dependencies,S.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),b=b.sibling;return Ft(wn,wn.current&1|2),m.child}h=h.sibling}R.tail!==null&&xn()>iw&&(m.flags|=128,b=!0,ap(R,!1),m.lanes=4194304)}else{if(!b)if(h=C0(I),h!==null){if(m.flags|=128,b=!0,h=h.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),ap(R,!0),R.tail===null&&R.tailMode==="hidden"&&!I.alternate&&!gn)return Fr(m),null}else 2*xn()-R.renderingStartTime>iw&&S!==1073741824&&(m.flags|=128,b=!0,ap(R,!1),m.lanes=4194304);R.isBackwards?(I.sibling=m.child,m.child=I):(h=R.last,h!==null?h.sibling=I:m.child=I,R.last=I)}return R.tail!==null?(m=R.tail,R.rendering=m,R.tail=m.sibling,R.renderingStartTime=xn(),m.sibling=null,h=wn.current,Ft(wn,b?h&1|2:h&1),m):(Fr(m),null);case 22:case 23:return cw(),b=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==b&&(m.flags|=8192),b&&m.mode&1?Ki&1073741824&&(Fr(m),ve&&m.subtreeFlags&6&&(m.flags|=8192)):Fr(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var I8=a.ReactCurrentOwner,Ji=!1;function si(h,m,S,b){m.child=h===null?DT(m,null,S,b):Cf(m,h.child,S,b)}function i3(h,m,S,b,R){S=S.render;var I=m.ref;return Gn(m,R),b=kx(h,m,S,b,I,R),S=Fx(),h!==null&&!Ji?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~R,la(h,m,R)):(gn&&S&&Mx(m),m.flags|=1,si(h,m,b,R),m.child)}function s3(h,m,S,b,R){if(h===null){var I=S.type;return typeof I=="function"&&!fw(I)&&I.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(m.tag=15,m.type=I,o3(h,m,I,b,R)):(h=nv(S.type,null,b,m,m.mode,R),h.ref=m.ref,h.return=m,m.child=h)}if(I=h.child,!(h.lanes&R)){var Y=I.memoizedProps;if(S=S.compare,S=S!==null?S:Ic,S(Y,b)&&h.ref===m.ref)return la(h,m,R)}return m.flags|=1,h=gl(I,b),h.ref=m.ref,h.return=m,m.child=h}function o3(h,m,S,b,R){if(h!==null&&Ic(h.memoizedProps,b)&&h.ref===m.ref)if(Ji=!1,(h.lanes&R)!==0)h.flags&131072&&(Ji=!0);else return m.lanes=h.lanes,la(h,m,R);return Hx(h,m,S,b,R)}function a3(h,m,S){var b=m.pendingProps,R=b.children,I=h!==null?h.memoizedState:null;if(b.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},Ft(Rf,Ki),Ki|=S;else if(S&1073741824)m.memoizedState={baseLanes:0,cachePool:null},b=I!==null?I.baseLanes:S,Ft(Rf,Ki),Ki|=b;else return h=I!==null?I.baseLanes|S:S,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null},m.updateQueue=null,Ft(Rf,Ki),Ki|=h,null;else I!==null?(b=I.baseLanes|S,m.memoizedState=null):b=S,Ft(Rf,Ki),Ki|=b;return si(h,m,R,S),m.child}function l3(h,m){var S=m.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(m.flags|=512,m.flags|=2097152)}function Hx(h,m,S,b,R){var I=pr(S)?vs:Ht.current;return I=ei(m,I),Gn(m,R),S=kx(h,m,S,b,I,R),b=Fx(),h!==null&&!Ji?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~R,la(h,m,R)):(gn&&b&&Mx(m),m.flags|=1,si(h,m,S,R),m.child)}function c3(h,m,S,b,R){if(pr(S)){var I=!0;al(m)}else I=!1;if(Gn(m,R),m.stateNode===null)h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),AT(m,S,b),bx(m,S,b,R),b=!0;else if(h===null){var Y=m.stateNode,se=m.memoizedProps;Y.props=se;var Te=Y.context,Ve=S.contextType;typeof Ve=="object"&&Ve!==null?Ve=Hn(Ve):(Ve=pr(S)?vs:Ht.current,Ve=ei(m,Ve));var nt=S.getDerivedStateFromProps,xt=typeof nt=="function"||typeof Y.getSnapshotBeforeUpdate=="function";xt||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(se!==b||Te!==Ve)&&bT(m,Y,b,Ve),ul=!1;var ft=m.memoizedState;Y.state=ft,w0(m,b,Y,R),Te=m.memoizedState,se!==b||ft!==Te||Bn.current||ul?(typeof nt=="function"&&(Ax(m,S,nt,b),Te=m.memoizedState),(se=ul||ST(m,S,se,b,ft,Te,Ve))?(xt||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(m.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=b,m.memoizedState=Te),Y.props=b,Y.state=Te,Y.context=Ve,b=se):(typeof Y.componentDidMount=="function"&&(m.flags|=4194308),b=!1)}else{Y=m.stateNode,yT(h,m),se=m.memoizedProps,Ve=m.type===m.elementType?se:ri(m.type,se),Y.props=Ve,xt=m.pendingProps,ft=Y.context,Te=S.contextType,typeof Te=="object"&&Te!==null?Te=Hn(Te):(Te=pr(S)?vs:Ht.current,Te=ei(m,Te));var tn=S.getDerivedStateFromProps;(nt=typeof tn=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(se!==xt||ft!==Te)&&bT(m,Y,b,Te),ul=!1,ft=m.memoizedState,Y.state=ft,w0(m,b,Y,R);var ot=m.memoizedState;se!==xt||ft!==ot||Bn.current||ul?(typeof tn=="function"&&(Ax(m,S,tn,b),ot=m.memoizedState),(Ve=ul||ST(m,S,Ve,b,ft,ot,Te)||!1)?(nt||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(b,ot,Te),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(b,ot,Te)),typeof Y.componentDidUpdate=="function"&&(m.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof Y.componentDidUpdate!="function"||se===h.memoizedProps&&ft===h.memoizedState||(m.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||se===h.memoizedProps&&ft===h.memoizedState||(m.flags|=1024),m.memoizedProps=b,m.memoizedState=ot),Y.props=b,Y.state=ot,Y.context=Te,b=Ve):(typeof Y.componentDidUpdate!="function"||se===h.memoizedProps&&ft===h.memoizedState||(m.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||se===h.memoizedProps&&ft===h.memoizedState||(m.flags|=1024),b=!1)}return Vx(h,m,S,b,I,R)}function Vx(h,m,S,b,R,I){l3(h,m);var Y=(m.flags&128)!==0;if(!b&&!Y)return R&&Gi(m,S,!1),la(h,m,I);b=m.stateNode,I8.current=m;var se=Y&&typeof S.getDerivedStateFromError!="function"?null:b.render();return m.flags|=1,h!==null&&Y?(m.child=Cf(m,h.child,null,I),m.child=Cf(m,null,se,I)):si(h,m,se,I),m.memoizedState=b.state,R&&Gi(m,S,!0),m.child}function u3(h){var m=h.stateNode;m.pendingContext?gf(h,m.pendingContext,m.pendingContext!==m.context):m.context&&gf(h,m.context,!1),Rx(h,m.containerInfo)}function f3(h,m,S,b,R){return Mf(),Px(R),m.flags|=256,si(h,m,S,b),m.child}var F0={dehydrated:null,treeContext:null,retryLane:0};function O0(h){return{baseLanes:h,cachePool:null}}function d3(h,m,S){var b=m.pendingProps,R=wn.current,I=!1,Y=(m.flags&128)!==0,se;if((se=Y)||(se=h!==null&&h.memoizedState===null?!1:(R&2)!==0),se?(I=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(R|=1),Ft(wn,R&1),h===null)return Tx(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(m.mode&1?qr(h)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(R=b.children,h=b.fallback,I?(b=m.mode,I=m.child,R={mode:"hidden",children:R},!(b&1)&&I!==null?(I.childLanes=0,I.pendingProps=R):I=rv(R,b,0,null),h=Wc(h,b,S,null),I.return=m,h.return=m,I.sibling=h,m.child=I,m.child.memoizedState=O0(S),m.memoizedState=F0,h):Wx(m,R));if(R=h.memoizedState,R!==null){if(se=R.dehydrated,se!==null){if(Y)return m.flags&256?(m.flags&=-257,N0(h,m,S,Error(o(422)))):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(I=b.fallback,R=m.mode,b=rv({mode:"visible",children:b.children},R,0,null),I=Wc(I,R,S,null),I.flags|=2,b.return=m,I.return=m,b.sibling=I,m.child=b,m.mode&1&&Cf(m,h.child,null,S),m.child.memoizedState=O0(S),m.memoizedState=F0,I);if(!(m.mode&1))m=N0(h,m,S,null);else if(qr(se))m=N0(h,m,S,Error(o(419)));else if(b=(S&h.childLanes)!==0,Ji||b){if(b=qn,b!==null){switch(S&-S){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}b=I&(b.suspendedLanes|S)?0:I,b!==0&&b!==R.retryLane&&(R.retryLane=b,As(h,b,-1))}uw(),m=N0(h,m,S,Error(o(421)))}else zi(se)?(m.flags|=128,m.child=h.child,m=X8.bind(null,h),J(se,m),m=null):(S=R.treeContext,oe&&(Xi=De(se),$i=m,gn=!0,to=null,Yh=!1,S!==null&&(_s[xs++]=sa,_s[xs++]=oa,_s[xs++]=Fc,sa=S.id,oa=S.overflow,Fc=m)),m=Wx(m,m.pendingProps.children),m.flags|=4096);return m}return I?(b=p3(h,m,b.children,b.fallback,S),I=m.child,R=h.child.memoizedState,I.memoizedState=R===null?O0(S):{baseLanes:R.baseLanes|S,cachePool:null},I.childLanes=h.childLanes&~S,m.memoizedState=F0,b):(S=h3(h,m,b.children,S),m.memoizedState=null,S)}return I?(b=p3(h,m,b.children,b.fallback,S),I=m.child,R=h.child.memoizedState,I.memoizedState=R===null?O0(S):{baseLanes:R.baseLanes|S,cachePool:null},I.childLanes=h.childLanes&~S,m.memoizedState=F0,b):(S=h3(h,m,b.children,S),m.memoizedState=null,S)}function Wx(h,m){return m=rv({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function h3(h,m,S,b){var R=h.child;return h=R.sibling,S=gl(R,{mode:"visible",children:S}),!(m.mode&1)&&(S.lanes=b),S.return=m,S.sibling=null,h!==null&&(b=m.deletions,b===null?(m.deletions=[h],m.flags|=16):b.push(h)),m.child=S}function p3(h,m,S,b,R){var I=m.mode;h=h.child;var Y=h.sibling,se={mode:"hidden",children:S};return!(I&1)&&m.child!==h?(S=m.child,S.childLanes=0,S.pendingProps=se,m.deletions=null):(S=gl(h,se),S.subtreeFlags=h.subtreeFlags&14680064),Y!==null?b=gl(Y,b):(b=Wc(b,I,R,null),b.flags|=2),b.return=m,S.return=m,S.sibling=b,m.child=S,b}function N0(h,m,S,b){return b!==null&&Px(b),Cf(m,h.child,null,S),h=Wx(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function m3(h,m,S){h.lanes|=m;var b=h.alternate;b!==null&&(b.lanes|=m),ii(h.return,m,S)}function jx(h,m,S,b,R){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:b,tail:S,tailMode:R}:(I.isBackwards=m,I.rendering=null,I.renderingStartTime=0,I.last=b,I.tail=S,I.tailMode=R)}function g3(h,m,S){var b=m.pendingProps,R=b.revealOrder,I=b.tail;if(si(h,m,b.children,S),b=wn.current,b&2)b=b&1|2,m.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&m3(h,S,m);else if(h.tag===19)m3(h,S,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}b&=1}if(Ft(wn,b),!(m.mode&1))m.memoizedState=null;else switch(R){case"forwards":for(S=m.child,R=null;S!==null;)h=S.alternate,h!==null&&C0(h)===null&&(R=S),S=S.sibling;S=R,S===null?(R=m.child,m.child=null):(R=S.sibling,S.sibling=null),jx(m,!1,R,S,I);break;case"backwards":for(S=null,R=m.child,m.child=null;R!==null;){if(h=R.alternate,h!==null&&C0(h)===null){m.child=R;break}h=R.sibling,R.sibling=S,S=R,R=h}jx(m,!0,S,null,I);break;case"together":jx(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function la(h,m,S){if(h!==null&&(m.dependencies=h.dependencies),Df|=m.lanes,!(S&m.childLanes))return null;if(h!==null&&m.child!==h.child)throw Error(o(153));if(m.child!==null){for(h=m.child,S=gl(h,h.pendingProps),m.child=S,S.return=m;h.sibling!==null;)h=h.sibling,S=S.sibling=gl(h,h.pendingProps),S.return=m;S.sibling=null}return m.child}function k8(h,m,S){switch(m.tag){case 3:u3(m),Mf();break;case 5:BT(m);break;case 1:pr(m.type)&&al(m);break;case 4:Rx(m,m.stateNode.containerInfo);break;case 10:_0(m,m.type._context,m.memoizedProps.value);break;case 13:var b=m.memoizedState;if(b!==null)return b.dehydrated!==null?(Ft(wn,wn.current&1),m.flags|=128,null):S&m.child.childLanes?d3(h,m,S):(Ft(wn,wn.current&1),h=la(h,m,S),h!==null?h.sibling:null);Ft(wn,wn.current&1);break;case 19:if(b=(S&m.childLanes)!==0,h.flags&128){if(b)return g3(h,m,S);m.flags|=128}var R=m.memoizedState;if(R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Ft(wn,wn.current),b)break;return null;case 22:case 23:return m.lanes=0,a3(h,m,S)}return la(h,m,S)}function F8(h,m){switch(Cx(m),m.tag){case 1:return pr(m.type)&&Zs(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Tf(),vt(Bn),vt(Ht),Lx(),h=m.flags,h&65536&&!(h&128)?(m.flags=h&-65537|128,m):null;case 5:return Dx(m),null;case 13:if(vt(wn),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(o(340));Mf()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return vt(wn),null;case 4:return Tf(),null;case 10:return gr(m.type._context),null;case 22:case 23:return cw(),null;case 24:return null;default:return null}}var U0=!1,Uc=!1,O8=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function z0(h,m){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(b){Si(h,m,b)}else S.current=null}function $x(h,m,S){try{S()}catch(b){Si(h,m,b)}}var v3=!1;function N8(h,m){for(U(h.containerInfo),Ke=m;Ke!==null;)if(h=Ke,m=h.child,(h.subtreeFlags&1028)!==0&&m!==null)m.return=h,Ke=m;else for(;Ke!==null;){h=Ke;try{var S=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,R=S.memoizedState,I=h.stateNode,Y=I.getSnapshotBeforeUpdate(h.elementType===h.type?b:ri(h.type,b),R);I.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:ve&&Je(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(se){Si(h,h.return,se)}if(m=h.sibling,m!==null){m.return=h.return,Ke=m;break}Ke=h.return}return S=v3,v3=!1,S}function zc(h,m,S){var b=m.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var R=b=b.next;do{if((R.tag&h)===h){var I=R.destroy;R.destroy=void 0,I!==void 0&&$x(m,S,I)}R=R.next}while(R!==b)}}function lp(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&h)===h){var b=S.create;S.destroy=b()}S=S.next}while(S!==m)}}function Xx(h){var m=h.ref;if(m!==null){var S=h.stateNode;switch(h.tag){case 5:h=W(S);break;default:h=S}typeof m=="function"?m(h):m.current=h}}function y3(h,m,S){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(Bc,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(h=m.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var b=h=h.next;do{var R=b,I=R.destroy;R=R.tag,I!==void 0&&(R&2||R&4)&&$x(m,S,I),b=b.next}while(b!==h)}break;case 1:if(z0(m,S),h=m.stateNode,typeof h.componentWillUnmount=="function")try{h.props=m.memoizedProps,h.state=m.memoizedState,h.componentWillUnmount()}catch(Y){Si(m,S,Y)}break;case 5:z0(m,S);break;case 4:ve?b3(h,m,S):ne&&ne&&(m=m.stateNode.containerInfo,S=Qe(m),ct(m,S))}}function _3(h,m,S){for(var b=m;;)if(y3(h,b,S),b.child===null||ve&&b.tag===4){if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function x3(h){var m=h.alternate;m!==null&&(h.alternate=null,x3(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&Ne(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function w3(h){return h.tag===5||h.tag===3||h.tag===4}function S3(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||w3(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function A3(h){if(ve){e:{for(var m=h.return;m!==null;){if(w3(m))break e;m=m.return}throw Error(o(160))}var S=m;switch(S.tag){case 5:m=S.stateNode,S.flags&32&&(at(m),S.flags&=-33),S=S3(h),Kx(h,S,m);break;case 3:case 4:m=S.stateNode.containerInfo,S=S3(h),Jx(h,S,m);break;default:throw Error(o(161))}}}function Jx(h,m,S){var b=h.tag;if(b===5||b===6)h=h.stateNode,m?ze(S,h,m):Ee(S,h);else if(b!==4&&(h=h.child,h!==null))for(Jx(h,m,S),h=h.sibling;h!==null;)Jx(h,m,S),h=h.sibling}function Kx(h,m,S){var b=h.tag;if(b===5||b===6)h=h.stateNode,m?Oe(S,h,m):Fe(S,h);else if(b!==4&&(h=h.child,h!==null))for(Kx(h,m,S),h=h.sibling;h!==null;)Kx(h,m,S),h=h.sibling}function b3(h,m,S){for(var b=m,R=!1,I,Y;;){if(!R){R=b.return;e:for(;;){if(R===null)throw Error(o(160));switch(I=R.stateNode,R.tag){case 5:Y=!1;break e;case 3:I=I.containerInfo,Y=!0;break e;case 4:I=I.containerInfo,Y=!0;break e}R=R.return}R=!0}if(b.tag===5||b.tag===6)_3(h,b,S),Y?it(I,b.stateNode):ke(I,b.stateNode);else if(b.tag===18)Y?en(I,b.stateNode):kt(I,b.stateNode);else if(b.tag===4){if(b.child!==null){I=b.stateNode.containerInfo,Y=!0,b.child.return=b,b=b.child;continue}}else if(y3(h,b,S),b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return;b=b.return,b.tag===4&&(R=!1)}b.sibling.return=b.return,b=b.sibling}}function Yx(h,m){if(ve){switch(m.tag){case 0:case 11:case 14:case 15:zc(3,m,m.return),lp(3,m),zc(5,m,m.return);return;case 1:return;case 5:var S=m.stateNode;if(S!=null){var b=m.memoizedProps;h=h!==null?h.memoizedProps:b;var R=m.type,I=m.updateQueue;m.updateQueue=null,I!==null&&Xe(S,I,R,h,b,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));S=m.memoizedProps,pe(m.stateNode,h!==null?h.memoizedProps:S,S);return;case 3:oe&&h!==null&&h.memoizedState.isDehydrated&&Dt(m.stateNode.containerInfo);return;case 12:return;case 13:G0(m);return;case 19:G0(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:zc(3,m,m.return),lp(3,m),zc(5,m,m.return);return;case 12:return;case 13:G0(m);return;case 19:G0(m);return;case 3:oe&&h!==null&&h.memoizedState.isDehydrated&&Dt(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(ne){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,ct(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function G0(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new O8),m.forEach(function(b){var R=J8.bind(null,h,b);S.has(b)||(S.add(b),b.then(R,R))})}}function U8(h,m){for(Ke=m;Ke!==null;){m=Ke;var S=m.deletions;if(S!==null)for(var b=0;b<S.length;b++){var R=S[b];try{var I=h;ve?b3(I,R,m):_3(I,R,m);var Y=R.alternate;Y!==null&&(Y.return=null),R.return=null}catch(st){Si(R,m,st)}}if(S=m.child,m.subtreeFlags&12854&&S!==null)S.return=m,Ke=S;else for(;Ke!==null;){m=Ke;try{var se=m.flags;if(se&32&&ve&&at(m.stateNode),se&512){var Te=m.alternate;if(Te!==null){var Ve=Te.ref;Ve!==null&&(typeof Ve=="function"?Ve(null):Ve.current=null)}}if(se&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var nt=m.alternate;(nt===null||nt.memoizedState===null)&&(rw=xn())}break;case 22:var xt=m.memoizedState!==null,ft=m.alternate,tn=ft!==null&&ft.memoizedState!==null;if(S=m,ve){e:if(b=S,R=xt,I=null,ve)for(var ot=b;;){if(ot.tag===5){if(I===null){I=ot;var Or=ot.stateNode;R?It(Or):fe(ot.stateNode,ot.memoizedProps)}}else if(ot.tag===6){if(I===null){var Ms=ot.stateNode;R?ie(Ms):Be(Ms,ot.memoizedProps)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===b)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===b)break;for(;ot.sibling===null;){if(ot.return===null||ot.return===b)break e;I===ot&&(I=null),ot=ot.return}I===ot&&(I=null),ot.sibling.return=ot.return,ot=ot.sibling}}if(xt&&!tn&&S.mode&1){Ke=S;for(var me=S.child;me!==null;){for(S=Ke=me;Ke!==null;){b=Ke;var le=b.child;switch(b.tag){case 0:case 11:case 14:case 15:zc(4,b,b.return);break;case 1:z0(b,b.return);var Se=b.stateNode;if(typeof Se.componentWillUnmount=="function"){var Ye=b.return;try{Se.props=b.memoizedProps,Se.state=b.memoizedState,Se.componentWillUnmount()}catch(st){Si(b,Ye,st)}}break;case 5:z0(b,b.return);break;case 22:if(b.memoizedState!==null){E3(S);continue}}le!==null?(le.return=b,Ke=le):E3(S)}me=me.sibling}}}switch(se&4102){case 2:A3(m),m.flags&=-3;break;case 6:A3(m),m.flags&=-3,Yx(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,Yx(m.alternate,m);break;case 4:Yx(m.alternate,m)}}catch(st){Si(m,m.return,st)}if(S=m.sibling,S!==null){S.return=m.return,Ke=S;break}Ke=m.return}}}function z8(h,m,S){Ke=h,M3(h)}function M3(h,m,S){for(var b=(h.mode&1)!==0;Ke!==null;){var R=Ke,I=R.child;if(R.tag===22&&b){var Y=R.memoizedState!==null||U0;if(!Y){var se=R.alternate,Te=se!==null&&se.memoizedState!==null||Uc;se=U0;var Ve=Uc;if(U0=Y,(Uc=Te)&&!Ve)for(Ke=R;Ke!==null;)Y=Ke,Te=Y.child,Y.tag===22&&Y.memoizedState!==null?T3(R):Te!==null?(Te.return=Y,Ke=Te):T3(R);for(;I!==null;)Ke=I,M3(I),I=I.sibling;Ke=R,U0=se,Uc=Ve}C3(h)}else R.subtreeFlags&8772&&I!==null?(I.return=R,Ke=I):C3(h)}}function C3(h){for(;Ke!==null;){var m=Ke;if(m.flags&8772){var S=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:Uc||lp(5,m);break;case 1:var b=m.stateNode;if(m.flags&4&&!Uc)if(S===null)b.componentDidMount();else{var R=m.elementType===m.type?S.memoizedProps:ri(m.type,S.memoizedProps);b.componentDidUpdate(R,S.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var I=m.updateQueue;I!==null&&xT(m,I,b);break;case 3:var Y=m.updateQueue;if(Y!==null){if(S=null,m.child!==null)switch(m.child.tag){case 5:S=W(m.child.stateNode);break;case 1:S=m.child.stateNode}xT(m,Y,S)}break;case 5:var se=m.stateNode;S===null&&m.flags&4&&je(se,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(oe&&m.memoizedState===null){var Te=m.alternate;if(Te!==null){var Ve=Te.memoizedState;if(Ve!==null){var nt=Ve.dehydrated;nt!==null&&bt(nt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Uc||m.flags&512&&Xx(m)}catch(xt){Si(m,m.return,xt)}}if(m===h){Ke=null;break}if(S=m.sibling,S!==null){S.return=m.return,Ke=S;break}Ke=m.return}}function E3(h){for(;Ke!==null;){var m=Ke;if(m===h){Ke=null;break}var S=m.sibling;if(S!==null){S.return=m.return,Ke=S;break}Ke=m.return}}function T3(h){for(;Ke!==null;){var m=Ke;try{switch(m.tag){case 0:case 11:case 15:var S=m.return;try{lp(4,m)}catch(Te){Si(m,S,Te)}break;case 1:var b=m.stateNode;if(typeof b.componentDidMount=="function"){var R=m.return;try{b.componentDidMount()}catch(Te){Si(m,R,Te)}}var I=m.return;try{Xx(m)}catch(Te){Si(m,I,Te)}break;case 5:var Y=m.return;try{Xx(m)}catch(Te){Si(m,Y,Te)}}}catch(Te){Si(m,m.return,Te)}if(m===h){Ke=null;break}var se=m.sibling;if(se!==null){se.return=m.return,Ke=se;break}Ke=m.return}}var H0=0,V0=1,W0=2,j0=3,$0=4;if(typeof Symbol=="function"&&Symbol.for){var cp=Symbol.for;H0=cp("selector.component"),V0=cp("selector.has_pseudo_class"),W0=cp("selector.role"),j0=cp("selector.test_id"),$0=cp("selector.text")}function Qx(h){var m=_e(h);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(h=Ae(h),h===null)throw Error(o(362));return h.stateNode.current}function qx(h,m){switch(m.$$typeof){case H0:if(h.type===m.value)return!0;break;case V0:e:{m=m.value,h=[h,0];for(var S=0;S<h.length;){var b=h[S++],R=h[S++],I=m[R];if(b.tag!==5||!ee(b)){for(;I!=null&&qx(b,I);)R++,I=m[R];if(R===m.length){m=!0;break e}else for(b=b.child;b!==null;)h.push(b,R),b=b.sibling}}m=!1}return m;case W0:if(h.tag===5&&ae(h.stateNode,m.value))return!0;break;case $0:if((h.tag===5||h.tag===6)&&(h=O(h),h!==null&&0<=h.indexOf(m.value)))return!0;break;case j0:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Zx(h){switch(h.$$typeof){case H0:return"<"+(P(h.value)||"Unknown")+">";case V0:return":has("+(Zx(h)||"")+")";case W0:return'[role="'+h.value+'"]';case $0:return'"'+h.value+'"';case j0:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function P3(h,m){var S=[];h=[h,0];for(var b=0;b<h.length;){var R=h[b++],I=h[b++],Y=m[I];if(R.tag!==5||!ee(R)){for(;Y!=null&&qx(R,Y);)I++,Y=m[I];if(I===m.length)S.push(R);else for(R=R.child;R!==null;)h.push(R,I),R=R.sibling}}return S}function ew(h,m){if(!Ue)throw Error(o(363));h=Qx(h),h=P3(h,m),m=[],h=Array.from(h);for(var S=0;S<h.length;){var b=h[S++];if(b.tag===5)ee(b)||m.push(b.stateNode);else for(b=b.child;b!==null;)h.push(b),b=b.sibling}return m}var G8=Math.ceil,X0=a.ReactCurrentDispatcher,tw=a.ReactCurrentOwner,Vn=a.ReactCurrentBatchConfig,Tt=0,qn=null,Zn=null,Cr=0,Ki=0,Rf=br(0),or=0,up=null,Df=0,J0=0,nw=0,fp=null,xi=null,rw=0,iw=1/0;function Bf(){iw=xn()+500}var K0=!1,sw=null,dl=null,Y0=!1,hl=null,Q0=0,dp=0,ow=null,q0=-1,Z0=0;function oi(){return Tt&6?xn():q0!==-1?q0:q0=xn()}function pl(h){return h.mode&1?Tt&2&&Cr!==0?Cr&-Cr:Lc.transition!==null?(Z0===0&&(h=Zo,Zo<<=1,!(Zo&4194240)&&(Zo=64),Z0=h),Z0):(h=Bt,h!==0?h:xe()):1}function As(h,m,S){if(50<dp)throw dp=0,ow=null,Error(o(185));var b=ev(h,m);return b===null?null:(To(b,m,S),(!(Tt&2)||b!==qn)&&(b===qn&&(!(Tt&2)&&(J0|=m),or===4&&ml(b,Cr)),wi(b,S),m===1&&Tt===0&&!(h.mode&1)&&(Bf(),Ro&&_i())),b)}function ev(h,m){h.lanes|=m;var S=h.alternate;for(S!==null&&(S.lanes|=m),S=h,h=h.return;h!==null;)h.childLanes|=m,S=h.alternate,S!==null&&(S.childLanes|=m),S=h,h=h.return;return S.tag===3?S.stateNode:null}function wi(h,m){var S=h.callbackNode;Vh(h,m);var b=Rc(h,h===qn?Cr:0);if(b===0)S!==null&&xf(S),h.callbackNode=null,h.callbackPriority=0;else if(m=b&-b,h.callbackPriority!==m){if(S!=null&&xf(S),m===1)h.tag===0?Kh(D3.bind(null,h)):Jh(D3.bind(null,h)),we?Ie(function(){Tt===0&&_i()}):ra(Dc,_i),S=null;else{switch(Wh(b)){case 1:S=Dc;break;case 4:S=v0;break;case 16:S=ti;break;case 536870912:S=$h;break;default:S=ti}S=z3(S,R3.bind(null,h))}h.callbackPriority=m,h.callbackNode=S}}function R3(h,m){if(q0=-1,Z0=0,Tt&6)throw Error(o(327));var S=h.callbackNode;if(Vc()&&h.callbackNode!==S)return null;var b=Rc(h,h===qn?Cr:0);if(b===0)return null;if(b&30||b&h.expiredLanes||m)m=tv(h,b);else{m=b;var R=Tt;Tt|=2;var I=I3();(qn!==h||Cr!==m)&&(Bf(),Gc(h,m));do try{W8();break}catch(se){L3(h,se)}while(1);Sf(),X0.current=I,Tt=R,Zn!==null?m=0:(qn=null,Cr=0,m=or)}if(m!==0){if(m===2&&(R=na(h),R!==0&&(b=R,m=aw(h,R))),m===1)throw S=up,Gc(h,0),ml(h,b),wi(h,xn()),S;if(m===6)ml(h,b);else{if(R=h.current.alternate,!(b&30)&&!H8(R)&&(m=tv(h,b),m===2&&(I=na(h),I!==0&&(b=I,m=aw(h,I))),m===1))throw S=up,Gc(h,0),ml(h,b),wi(h,xn()),S;switch(h.finishedWork=R,h.finishedLanes=b,m){case 0:case 1:throw Error(o(345));case 2:Hc(h,xi);break;case 3:if(ml(h,b),(b&130023424)===b&&(m=rw+500-xn(),10<m)){if(Rc(h,0)!==0)break;if(R=h.suspendedLanes,(R&b)!==b){oi(),h.pingedLanes|=h.suspendedLanes&R;break}h.timeoutHandle=ce(Hc.bind(null,h,xi),m);break}Hc(h,xi);break;case 4:if(ml(h,b),(b&4194240)===b)break;for(m=h.eventTimes,R=-1;0<b;){var Y=31-Hi(b);I=1<<Y,Y=m[Y],Y>R&&(R=Y),b&=~I}if(b=R,b=xn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*G8(b/1960))-b,10<b){h.timeoutHandle=ce(Hc.bind(null,h,xi),b);break}Hc(h,xi);break;case 5:Hc(h,xi);break;default:throw Error(o(329))}}}return wi(h,xn()),h.callbackNode===S?R3.bind(null,h):null}function aw(h,m){var S=fp;return h.current.memoizedState.isDehydrated&&(Gc(h,m).flags|=256),h=tv(h,m),h!==2&&(m=xi,xi=S,m!==null&&lw(m)),h}function lw(h){xi===null?xi=h:xi.push.apply(xi,h)}function H8(h){for(var m=h;;){if(m.flags&16384){var S=m.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var b=0;b<S.length;b++){var R=S[b],I=R.getSnapshot;R=R.value;try{if(!Wi(I(),R))return!1}catch{return!1}}}if(S=m.child,m.subtreeFlags&16384&&S!==null)S.return=m,m=S;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function ml(h,m){for(m&=~nw,m&=~J0,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var S=31-Hi(m),b=1<<S;h[S]=-1,m&=~b}}function D3(h){if(Tt&6)throw Error(o(327));Vc();var m=Rc(h,0);if(!(m&1))return wi(h,xn()),null;var S=tv(h,m);if(h.tag!==0&&S===2){var b=na(h);b!==0&&(m=b,S=aw(h,b))}if(S===1)throw S=up,Gc(h,0),ml(h,m),wi(h,xn()),S;if(S===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,Hc(h,xi),wi(h,xn()),null}function B3(h){hl!==null&&hl.tag===0&&!(Tt&6)&&Vc();var m=Tt;Tt|=1;var S=Vn.transition,b=Bt;try{if(Vn.transition=null,Bt=1,h)return h()}finally{Bt=b,Vn.transition=S,Tt=m,!(Tt&6)&&_i()}}function cw(){Ki=Rf.current,vt(Rf)}function Gc(h,m){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==Re&&(h.timeoutHandle=Re,de(S)),Zn!==null)for(S=Zn.return;S!==null;){var b=S;switch(Cx(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Zs();break;case 3:Tf(),vt(Bn),vt(Ht),Lx();break;case 5:Dx(b);break;case 4:Tf();break;case 13:vt(wn);break;case 19:vt(wn);break;case 10:gr(b.type._context);break;case 22:case 23:cw()}S=S.return}if(qn=h,Zn=h=gl(h.current,null),Cr=Ki=m,or=0,up=null,nw=J0=Df=0,xi=fp=null,ji!==null){for(m=0;m<ji.length;m++)if(S=ji[m],b=S.interleaved,b!==null){S.interleaved=null;var R=b.next,I=S.pending;if(I!==null){var Y=I.next;I.next=R,b.next=Y}S.pending=b}ji=null}return h}function L3(h,m){do{var S=Zn;try{if(Sf(),E0.current=L0,T0){for(var b=Ln.memoizedState;b!==null;){var R=b.queue;R!==null&&(R.pending=null),b=b.next}T0=!1}if(Pf=0,vr=Ir=Ln=null,tp=!1,np=0,tw.current=null,S===null||S.return===null){or=1,up=m,Zn=null;break}e:{var I=h,Y=S.return,se=S,Te=m;if(m=Cr,se.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var Ve=Te,nt=se,xt=nt.tag;if(!(nt.mode&1)&&(xt===0||xt===11||xt===15)){var ft=nt.alternate;ft?(nt.updateQueue=ft.updateQueue,nt.memoizedState=ft.memoizedState,nt.lanes=ft.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var tn=e3(Y);if(tn!==null){tn.flags&=-257,t3(tn,Y,se,I,m),tn.mode&1&&ZT(I,Ve,m),m=tn,Te=Ve;var ot=m.updateQueue;if(ot===null){var Or=new Set;Or.add(Te),m.updateQueue=Or}else ot.add(Te);break e}else{if(!(m&1)){ZT(I,Ve,m),uw();break e}Te=Error(o(426))}}else if(gn&&se.mode&1){var Ms=e3(Y);if(Ms!==null){!(Ms.flags&65536)&&(Ms.flags|=256),t3(Ms,Y,se,I,m),Px(Te);break e}}I=Te,or!==4&&(or=2),fp===null?fp=[I]:fp.push(I),Te=zx(Te,se),se=Y;do{switch(se.tag){case 3:se.flags|=65536,m&=-m,se.lanes|=m;var me=QT(se,Te,m);_T(se,me);break e;case 1:I=Te;var le=se.type,Se=se.stateNode;if(!(se.flags&128)&&(typeof le.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(dl===null||!dl.has(Se)))){se.flags|=65536,m&=-m,se.lanes|=m;var Ye=qT(se,I,m);_T(se,Ye);break e}}se=se.return}while(se!==null)}F3(S)}catch(st){m=st,Zn===S&&S!==null&&(Zn=S=S.return);continue}break}while(1)}function I3(){var h=X0.current;return X0.current=L0,h===null?L0:h}function uw(){(or===0||or===3||or===2)&&(or=4),qn===null||!(Df&268435455)&&!(J0&268435455)||ml(qn,Cr)}function tv(h,m){var S=Tt;Tt|=2;var b=I3();qn===h&&Cr===m||Gc(h,m);do try{V8();break}catch(R){L3(h,R)}while(1);if(Sf(),Tt=S,X0.current=b,Zn!==null)throw Error(o(261));return qn=null,Cr=0,or}function V8(){for(;Zn!==null;)k3(Zn)}function W8(){for(;Zn!==null&&!jh();)k3(Zn)}function k3(h){var m=U3(h.alternate,h,Ki);h.memoizedProps=h.pendingProps,m===null?F3(h):Zn=m,tw.current=null}function F3(h){var m=h;do{var S=m.alternate;if(h=m.return,m.flags&32768){if(S=F8(S,m),S!==null){S.flags&=32767,Zn=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{or=6,Zn=null;return}}else if(S=L8(S,m,Ki),S!==null){Zn=S;return}if(m=m.sibling,m!==null){Zn=m;return}Zn=m=h}while(m!==null);or===0&&(or=5)}function Hc(h,m){var S=Bt,b=Vn.transition;try{Vn.transition=null,Bt=1,j8(h,m,S)}finally{Vn.transition=b,Bt=S}return null}function j8(h,m,S){do Vc();while(hl!==null);if(Tt&6)throw Error(o(327));var b=h.finishedWork,R=h.finishedLanes;if(b===null)return null;if(h.finishedWork=null,h.finishedLanes=0,b===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var I=b.lanes|b.childLanes;if(ll(h,I),h===qn&&(Zn=qn=null,Cr=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||Y0||(Y0=!0,z3(ti,function(){return Vc(),null})),I=(b.flags&15990)!==0,b.subtreeFlags&15990||I){I=Vn.transition,Vn.transition=null;var Y=Bt;Bt=1;var se=Tt;Tt|=4,tw.current=null,N8(h,b),U8(h,b),z(h.containerInfo),h.current=b,z8(b),g0(),Tt=se,Bt=Y,Vn.transition=I}else h.current=b;if(Y0&&(Y0=!1,hl=h,Q0=R),I=h.pendingLanes,I===0&&(dl=null),Xh(b.stateNode),wi(h,xn()),m!==null)for(S=h.onRecoverableError,b=0;b<m.length;b++)S(m[b]);if(K0)throw K0=!1,h=sw,sw=null,h;return Q0&1&&h.tag!==0&&Vc(),I=h.pendingLanes,I&1?h===ow?dp++:(dp=0,ow=h):dp=0,_i(),null}function Vc(){if(hl!==null){var h=Wh(Q0),m=Vn.transition,S=Bt;try{if(Vn.transition=null,Bt=16>h?16:h,hl===null)var b=!1;else{if(h=hl,hl=null,Q0=0,Tt&6)throw Error(o(331));var R=Tt;for(Tt|=4,Ke=h.current;Ke!==null;){var I=Ke,Y=I.child;if(Ke.flags&16){var se=I.deletions;if(se!==null){for(var Te=0;Te<se.length;Te++){var Ve=se[Te];for(Ke=Ve;Ke!==null;){var nt=Ke;switch(nt.tag){case 0:case 11:case 15:zc(8,nt,I)}var xt=nt.child;if(xt!==null)xt.return=nt,Ke=xt;else for(;Ke!==null;){nt=Ke;var ft=nt.sibling,tn=nt.return;if(x3(nt),nt===Ve){Ke=null;break}if(ft!==null){ft.return=tn,Ke=ft;break}Ke=tn}}}var ot=I.alternate;if(ot!==null){var Or=ot.child;if(Or!==null){ot.child=null;do{var Ms=Or.sibling;Or.sibling=null,Or=Ms}while(Or!==null)}}Ke=I}}if(I.subtreeFlags&2064&&Y!==null)Y.return=I,Ke=Y;else e:for(;Ke!==null;){if(I=Ke,I.flags&2048)switch(I.tag){case 0:case 11:case 15:zc(9,I,I.return)}var me=I.sibling;if(me!==null){me.return=I.return,Ke=me;break e}Ke=I.return}}var le=h.current;for(Ke=le;Ke!==null;){Y=Ke;var Se=Y.child;if(Y.subtreeFlags&2064&&Se!==null)Se.return=Y,Ke=Se;else e:for(Y=le;Ke!==null;){if(se=Ke,se.flags&2048)try{switch(se.tag){case 0:case 11:case 15:lp(9,se)}}catch(st){Si(se,se.return,st)}if(se===Y){Ke=null;break e}var Ye=se.sibling;if(Ye!==null){Ye.return=se.return,Ke=Ye;break e}Ke=se.return}}if(Tt=R,_i(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(Bc,h)}catch{}b=!0}return b}finally{Bt=S,Vn.transition=m}}return!1}function O3(h,m,S){m=zx(S,m),m=QT(h,m,1),fl(h,m),m=oi(),h=ev(h,1),h!==null&&(To(h,1,m),wi(h,m))}function Si(h,m,S){if(h.tag===3)O3(h,h,S);else for(;m!==null;){if(m.tag===3){O3(m,h,S);break}else if(m.tag===1){var b=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(dl===null||!dl.has(b))){h=zx(S,h),h=qT(m,h,1),fl(m,h),h=oi(),m=ev(m,1),m!==null&&(To(m,1,h),wi(m,h));break}}m=m.return}}function $8(h,m,S){var b=h.pingCache;b!==null&&b.delete(m),m=oi(),h.pingedLanes|=h.suspendedLanes&S,qn===h&&(Cr&S)===S&&(or===4||or===3&&(Cr&130023424)===Cr&&500>xn()-rw?Gc(h,0):nw|=S),wi(h,m)}function N3(h,m){m===0&&(h.mode&1?(m=ea,ea<<=1,!(ea&130023424)&&(ea=4194304)):m=1);var S=oi();h=ev(h,m),h!==null&&(To(h,m,S),wi(h,S))}function X8(h){var m=h.memoizedState,S=0;m!==null&&(S=m.retryLane),N3(h,S)}function J8(h,m){var S=0;switch(h.tag){case 13:var b=h.stateNode,R=h.memoizedState;R!==null&&(S=R.retryLane);break;case 19:b=h.stateNode;break;default:throw Error(o(314))}b!==null&&b.delete(m),N3(h,S)}var U3;U3=function(h,m,S){if(h!==null)if(h.memoizedProps!==m.pendingProps||Bn.current)Ji=!0;else{if(!(h.lanes&S)&&!(m.flags&128))return Ji=!1,k8(h,m,S);Ji=!!(h.flags&131072)}else Ji=!1,gn&&m.flags&1048576&&MT(m,b0,m.index);switch(m.lanes=0,m.tag){case 2:var b=m.type;h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps;var R=ei(m,Ht.current);Gn(m,S),R=kx(null,m,b,h,R,S);var I=Fx();return m.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,pr(b)?(I=!0,al(m)):I=!1,m.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Sx(m),R.updater=S0,m.stateNode=R,R._reactInternals=m,bx(m,b,h,S),m=Vx(null,m,b,!0,I,S)):(m.tag=0,gn&&I&&Mx(m),si(null,m,R,S),m=m.child),m;case 16:b=m.elementType;e:{switch(h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps,R=b._init,b=R(b._payload),m.type=b,R=m.tag=Y8(b),h=ri(b,h),R){case 0:m=Hx(null,m,b,h,S);break e;case 1:m=c3(null,m,b,h,S);break e;case 11:m=i3(null,m,b,h,S);break e;case 14:m=s3(null,m,b,ri(b.type,h),S);break e}throw Error(o(306,b,""))}return m;case 0:return b=m.type,R=m.pendingProps,R=m.elementType===b?R:ri(b,R),Hx(h,m,b,R,S);case 1:return b=m.type,R=m.pendingProps,R=m.elementType===b?R:ri(b,R),c3(h,m,b,R,S);case 3:e:{if(u3(m),h===null)throw Error(o(387));b=m.pendingProps,I=m.memoizedState,R=I.element,yT(h,m),w0(m,b,null,S);var Y=m.memoizedState;if(b=Y.element,oe&&I.isDehydrated)if(I={element:b,isDehydrated:!1,cache:Y.cache,transitions:Y.transitions},m.updateQueue.baseState=I,m.memoizedState=I,m.flags&256){R=Error(o(423)),m=f3(h,m,b,S,R);break e}else if(b!==R){R=Error(o(424)),m=f3(h,m,b,S,R);break e}else for(oe&&(Xi=ue(m.stateNode.containerInfo),$i=m,gn=!0,to=null,Yh=!1),S=DT(m,null,b,S),m.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Mf(),b===R){m=la(h,m,S);break e}si(h,m,b,S)}m=m.child}return m;case 5:return BT(m),h===null&&Tx(m),b=m.type,R=m.pendingProps,I=h!==null?h.memoizedProps:null,Y=R.children,re(b,R)?Y=null:I!==null&&re(b,I)&&(m.flags|=32),l3(h,m),si(h,m,Y,S),m.child;case 6:return h===null&&Tx(m),null;case 13:return d3(h,m,S);case 4:return Rx(m,m.stateNode.containerInfo),b=m.pendingProps,h===null?m.child=Cf(m,null,b,S):si(h,m,b,S),m.child;case 11:return b=m.type,R=m.pendingProps,R=m.elementType===b?R:ri(b,R),i3(h,m,b,R,S);case 7:return si(h,m,m.pendingProps,S),m.child;case 8:return si(h,m,m.pendingProps.children,S),m.child;case 12:return si(h,m,m.pendingProps.children,S),m.child;case 10:e:{if(b=m.type._context,R=m.pendingProps,I=m.memoizedProps,Y=R.value,_0(m,b,Y),I!==null)if(Wi(I.value,Y)){if(I.children===R.children&&!Bn.current){m=la(h,m,S);break e}}else for(I=m.child,I!==null&&(I.return=m);I!==null;){var se=I.dependencies;if(se!==null){Y=I.child;for(var Te=se.firstContext;Te!==null;){if(Te.context===b){if(I.tag===1){Te=ia(-1,S&-S),Te.tag=2;var Ve=I.updateQueue;if(Ve!==null){Ve=Ve.shared;var nt=Ve.pending;nt===null?Te.next=Te:(Te.next=nt.next,nt.next=Te),Ve.pending=Te}}I.lanes|=S,Te=I.alternate,Te!==null&&(Te.lanes|=S),ii(I.return,S,m),se.lanes|=S;break}Te=Te.next}}else if(I.tag===10)Y=I.type===m.type?null:I.child;else if(I.tag===18){if(Y=I.return,Y===null)throw Error(o(341));Y.lanes|=S,se=Y.alternate,se!==null&&(se.lanes|=S),ii(Y,S,m),Y=I.sibling}else Y=I.child;if(Y!==null)Y.return=I;else for(Y=I;Y!==null;){if(Y===m){Y=null;break}if(I=Y.sibling,I!==null){I.return=Y.return,Y=I;break}Y=Y.return}I=Y}si(h,m,R.children,S),m=m.child}return m;case 9:return R=m.type,b=m.pendingProps.children,Gn(m,S),R=Hn(R),b=b(R),m.flags|=1,si(h,m,b,S),m.child;case 14:return b=m.type,R=ri(b,m.pendingProps),R=ri(b.type,R),s3(h,m,b,R,S);case 15:return o3(h,m,m.type,m.pendingProps,S);case 17:return b=m.type,R=m.pendingProps,R=m.elementType===b?R:ri(b,R),h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,pr(b)?(h=!0,al(m)):h=!1,Gn(m,S),AT(m,b,R),bx(m,b,R,S),Vx(null,m,b,!0,h,S);case 19:return g3(h,m,S);case 22:return a3(h,m,S)}throw Error(o(156,m.tag))};function z3(h,m){return ra(h,m)}function K8(h,m,S,b){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(h,m,S,b){return new K8(h,m,S,b)}function fw(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Y8(h){if(typeof h=="function")return fw(h)?1:0;if(h!=null){if(h=h.$$typeof,h===v)return 11;if(h===x)return 14}return 2}function gl(h,m){var S=h.alternate;return S===null?(S=bs(h.tag,m,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=m,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,m=h.dependencies,S.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function nv(h,m,S,b,R,I){var Y=2;if(b=h,typeof h=="function")fw(h)&&(Y=1);else if(typeof h=="string")Y=5;else e:switch(h){case u:return Wc(S.children,R,I,m);case f:Y=8,R|=8;break;case d:return h=bs(12,S,m,R|2),h.elementType=d,h.lanes=I,h;case y:return h=bs(13,S,m,R),h.elementType=y,h.lanes=I,h;case _:return h=bs(19,S,m,R),h.elementType=_,h.lanes=I,h;case A:return rv(S,R,I,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case p:Y=10;break e;case g:Y=9;break e;case v:Y=11;break e;case x:Y=14;break e;case w:Y=16,b=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return m=bs(Y,S,m,R),m.elementType=h,m.type=b,m.lanes=I,m}function Wc(h,m,S,b){return h=bs(7,h,b,m),h.lanes=S,h}function rv(h,m,S,b){return h=bs(22,h,b,m),h.elementType=A,h.lanes=S,h.stateNode={},h}function dw(h,m,S){return h=bs(6,h,null,m),h.lanes=S,h}function hw(h,m,S){return m=bs(4,h.children!==null?h.children:[],h.key,m),m.lanes=S,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function Q8(h,m,S,b,R){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Re,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_f(0),this.expirationTimes=_f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.identifierPrefix=b,this.onRecoverableError=R,oe&&(this.mutableSourceEagerHydrationData=null)}function G3(h,m,S,b,R,I,Y,se,Te){return h=new Q8(h,m,S,se,Te),m===1?(m=1,I===!0&&(m|=8)):m=0,I=bs(3,null,null,m),h.current=I,I.stateNode=h,I.memoizedState={element:b,isDehydrated:S,cache:null,transitions:null},Sx(I),h}function H3(h){if(!h)return Mr;h=h._reactInternals;e:{if(T(h)!==h||h.tag!==1)throw Error(o(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(pr(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(h.tag===1){var S=h.type;if(pr(S))return vf(h,S,m)}return m}function V3(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=L(m),h===null?null:h.stateNode}function W3(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<m?S:m}}function pw(h,m){W3(h,m),(h=h.alternate)&&W3(h,m)}function q8(h){return h=L(h),h===null?null:h.stateNode}function Z8(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var m=oi();As(h,134217728,m),pw(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var m=oi(),S=pl(h);As(h,S,m),pw(h,S)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var S=ta(m.pendingLanes);S!==0&&(Po(m,S|1),wi(m,xn()),!(Tt&6)&&(Bf(),_i()))}break;case 13:var b=oi();B3(function(){return As(h,1,b)}),pw(h,1)}},t.batchedUpdates=function(h,m){var S=Tt;Tt|=1;try{return h(m)}finally{Tt=S,Tt===0&&(Bf(),Ro&&_i())}},t.createComponentSelector=function(h){return{$$typeof:H0,value:h}},t.createContainer=function(h,m,S,b,R,I,Y){return G3(h,m,!1,null,S,b,R,I,Y)},t.createHasPseudoClassSelector=function(h){return{$$typeof:V0,value:h}},t.createHydrationContainer=function(h,m,S,b,R,I,Y,se,Te){return h=G3(S,b,!0,h,R,I,Y,se,Te),h.context=H3(null),S=h.current,b=oi(),R=pl(S),I=ia(b,R),I.callback=m??null,fl(S,I),h.current.lanes=R,To(h,R,b),wi(h,b),h},t.createPortal=function(h,m,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:h,containerInfo:m,implementation:S}},t.createRoleSelector=function(h){return{$$typeof:W0,value:h}},t.createTestNameSelector=function(h){return{$$typeof:j0,value:h}},t.createTextSelector=function(h){return{$$typeof:$0,value:h}},t.deferredUpdates=function(h){var m=Bt,S=Vn.transition;try{return Vn.transition=null,Bt=16,h()}finally{Bt=m,Vn.transition=S}},t.discreteUpdates=function(h,m,S,b,R){var I=Bt,Y=Vn.transition;try{return Vn.transition=null,Bt=1,h(m,S,b,R)}finally{Bt=I,Vn.transition=Y,Tt===0&&Bf()}},t.findAllNodes=ew,t.findBoundingRects=function(h,m){if(!Ue)throw Error(o(363));m=ew(h,m),h=[];for(var S=0;S<m.length;S++)h.push(X(m[S]));for(m=h.length-1;0<m;m--){S=h[m];for(var b=S.x,R=b+S.width,I=S.y,Y=I+S.height,se=m-1;0<=se;se--)if(m!==se){var Te=h[se],Ve=Te.x,nt=Ve+Te.width,xt=Te.y,ft=xt+Te.height;if(b>=Ve&&I>=xt&&R<=nt&&Y<=ft){h.splice(m,1);break}else if(b!==Ve||S.width!==Te.width||ft<I||xt>Y){if(!(I!==xt||S.height!==Te.height||nt<b||Ve>R)){Ve>b&&(Te.width+=Ve-b,Te.x=b),nt<R&&(Te.width=R-Ve),h.splice(m,1);break}}else{xt>I&&(Te.height+=xt-I,Te.y=I),ft<Y&&(Te.height=Y-xt),h.splice(m,1);break}}}return h},t.findHostInstance=V3,t.findHostInstanceWithNoPortals=function(h){return h=F(h),h=h!==null?k(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return V3(h)},t.flushControlled=function(h){var m=Tt;Tt|=1;var S=Vn.transition,b=Bt;try{Vn.transition=null,Bt=1,h()}finally{Bt=b,Vn.transition=S,Tt=m,Tt===0&&(Bf(),_i())}},t.flushPassiveEffects=Vc,t.flushSync=B3,t.focusWithin=function(h,m){if(!Ue)throw Error(o(363));for(h=Qx(h),m=P3(h,m),m=Array.from(m),h=0;h<m.length;){var S=m[h++];if(!ee(S)){if(S.tag===5&&Ce(S.stateNode))return!0;for(S=S.child;S!==null;)m.push(S),S=S.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Bt},t.getFindAllNodesFailureDescription=function(h,m){if(!Ue)throw Error(o(363));var S=0,b=[];h=[Qx(h),0];for(var R=0;R<h.length;){var I=h[R++],Y=h[R++],se=m[Y];if((I.tag!==5||!ee(I))&&(qx(I,se)&&(b.push(Zx(se)),Y++,Y>S&&(S=Y)),Y<m.length))for(I=I.child;I!==null;)h.push(I,Y),I=I.sibling}if(S<m.length){for(h=[];S<m.length;S++)h.push(Zx(m[S]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return W(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:q8,findFiberByHostInstance:h.findFiberByHostInstance||Z8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)h=!0;else{try{Bc=m.inject(h),Vi=m}catch{}h=!!m.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,m,S,b){if(!Ue)throw Error(o(363));h=ew(h,m);var R=ye(h,S,b).disconnect;return{disconnect:function(){R()}}},t.registerMutableSourceForHydration=function(h,m){var S=m._getVersion;S=S(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,S]:h.mutableSourceEagerHydrationData.push(m,S)},t.runWithPriority=function(h,m){var S=Bt;try{return Bt=h,m()}finally{Bt=S}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,m,S,b){var R=m.current,I=oi(),Y=pl(R);return S=H3(S),m.context===null?m.context=S:m.pendingContext=S,m=ia(I,Y),m.payload={element:h},b=b===void 0?null:b,b!==null&&(m.callback=b),fl(R,m),h=As(R,Y,I),h!==null&&x0(h,R,Y),Y},t};iU.exports=RY;var DY=iU.exports;const BY=Sh(DY),LY=n=>typeof n=="object"&&typeof n.then=="function",Su=[];function aU(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function lU(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Su)if(aU(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Su.indexOf(i);s!==-1&&Su.splice(s,1)},promise:(LY(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Su.push(i),!t)throw i.promise}const nE=(n,e,t)=>lU(n,e,!1,t),IY=(n,e,t)=>void lU(n,e,!0,t),kY=n=>{if(n===void 0||n.length===0)Su.splice(0,Su.length);else{const e=Su.find(t=>aU(n,t.keys,t.equal));e&&e.remove()}},rE={},cU=n=>void Object.assign(rE,n);function FY(n,e){function t(u,{args:f=[],attach:d,...p},g){let v=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=p.object;y=cd(_,{type:u,root:g,attach:d,primitive:!0})}else{const _=rE[v];if(!_)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=cd(new _(...f),{type:u,root:g,attach:d,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof gt?y.__r3f.attach="geometry":y instanceof ir&&(y.__r3f.attach="material")),v!=="inject"&&bS(y,p),y}function r(u,f){let d=!1;if(f){var p,g;(p=f.__r3f)!=null&&p.attach?AS(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),d=!0),d||(g=u.__r3f)==null||g.objects.push(f),f.__r3f||cd(f,{}),f.__r3f.parent=u,cM(f),ud(f)}}function i(u,f,d){let p=!1;if(f){var g,v;if((g=f.__r3f)!=null&&g.attach)AS(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const y=u.children.filter(x=>x!==f),_=y.indexOf(d);u.children=[...y.slice(0,_),f,...y.slice(_)],p=!0}p||(v=u.__r3f)==null||v.objects.push(f),f.__r3f||cd(f,{}),f.__r3f.parent=u,cM(f),ud(f)}}function s(u,f,d=!1){u&&[...u].forEach(p=>o(f,p,d))}function o(u,f,d){if(f){var p,g,v;if(f.__r3f&&(f.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(A=>A!==f)),(g=f.__r3f)!=null&&g.attach)MD(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var y;u.remove(f),(y=f.__r3f)!=null&&y.root&&WY(f.__r3f.root,f)}const x=(v=f.__r3f)==null?void 0:v.primitive,w=d===void 0?f.dispose!==null&&!x:d;if(!x){var _;s((_=f.__r3f)==null?void 0:_.objects,f,w),s(f.children,f,w)}delete f.__r3f,w&&f.dispose&&f.type!=="Scene"&&aM.unstable_scheduleCallback(aM.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),ud(u)}}function a(u,f,d,p){var g;const v=(g=u.__r3f)==null?void 0:g.parent;if(!v)return;const y=t(f,d,u.__r3f.root);if(u.children){for(const _ of u.children)_.__r3f&&r(y,_);u.children=u.children.filter(_=>!_.__r3f)}u.__r3f.objects.forEach(_=>r(y,_)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(v,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[p,p.alternate].forEach(_=>{_!==null&&(_.stateNode=y,_.ref&&(typeof _.ref=="function"?_.ref(y):_.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:BY({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,d)=>{if(!f||!d)return;const p=u.getState().scene;p.__r3f&&i(p,f,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,d,p){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&p.object&&p.object!==u)return[!0];{const{args:y=[],children:_,...x}=p,{args:w=[],children:A,...C}=d;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,M)=>P!==w[M]))return[!0];const E=gU(u,x,C,!0);return E.changes.length?[!1,E]:null}},commitUpdate(u,[f,d],p,g,v,y){f?a(u,p,v,y):bS(u,d)},commitMount(u,f,d,p){var g;const v=(g=u.__r3f)!=null?g:{};u.raycast&&v.handlers&&v.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>cd(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:d,parent:p}=(f=u.__r3f)!=null?f:{};d&&p&&MD(p,u,d),u.isObject3D&&(u.visible=!1),ud(u)},unhideInstance(u,f){var d;const{attach:p,parent:g}=(d=u.__r3f)!=null?d:{};p&&g&&AS(g,u,p),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),ud(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Td.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&un.fun(performance.now)?performance.now:un.fun(Date.now)?Date.now:()=>0,scheduleTimeout:un.fun(setTimeout)?setTimeout:void 0,cancelTimeout:un.fun(clearTimeout)?clearTimeout:void 0}),applyProps:bS}}var wD,SD;const SS=n=>"colorSpace"in n||"outputColorSpace"in n,uU=()=>{var n;return(n=rE.ColorManagement)!=null?n:null},fU=n=>n&&n.isOrthographicCamera,OY=n=>n&&n.hasOwnProperty("current"),qg=typeof window<"u"&&((wD=window.document)!=null&&wD.createElement||((SD=window.navigator)==null?void 0:SD.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function dU(n){const e=B.useRef(n);return qg(()=>void(e.current=n),[n]),e}function NY({set:n}){return qg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class hU extends B.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}hU.getDerivedStateFromError=()=>({error:!0});const pU="__default",AD=new Map,UY=n=>n&&!!n.memoized&&!!n.changes;function mU(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Rp=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},un={obj:n=>n===Object(n)&&!un.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(un.str(n)||un.num(n))return n===e;const s=un.obj(n);if(s&&r==="reference")return n===e;const o=un.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!un.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(un.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function zY(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function GY(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function cd(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function lM(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const bD=/-\d+$/;function AS(n,e,t){if(un.str(t)){if(bD.test(t)){const s=t.replace(bD,""),{target:o,key:a}=lM(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=lM(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function MD(n,e,t){var r,i;if(un.str(t)){const{target:s,key:o}=lM(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function gU(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},d=Object.entries(i),p=[];if(c){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||d.unshift([v[y],pU+"remove"])}d.forEach(([v,y])=>{var _;if((_=n.__r3f)!=null&&_.primitive&&v==="object"||un.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,y,!0,[]]);let x=[];v.includes("-")&&(x=v.split("-")),p.push([v,y,!1,x]);for(const w in i){const A=i[w];w.startsWith(`${v}-`)&&p.push([w,A,!1,w.split("-")])}});const g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:p}}function bS(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=UY(e)?e:gU(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let d=0;d<c.length;d++){let[p,g,v,y]=c[d];if(SS(n)){const A="srgb",C="srgb-linear";p==="encoding"?(p="colorSpace",g=g===3001?A:C):p==="outputEncoding"&&(p="outputColorSpace",g=g===3001?A:C)}let _=n,x=_[p];if(y.length&&(x=y.reduce((w,A)=>w[A],n),!(x&&x.set))){const[w,...A]=y.reverse();_=A.reverse().reduce((C,E)=>C[E],n),p=w}if(g===pU+"remove")if(_.constructor){let w=AD.get(_.constructor);w||(w=new _.constructor,AD.set(_.constructor,w)),g=w[p]}else g=0;if(v)g?s.handlers[p]=g:delete s.handlers[p],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof Lu)){if(Array.isArray(g))x.fromArray?x.fromArray(g):x.set(...g);else if(x.copy&&g&&g.constructor&&x.constructor===g.constructor)x.copy(g);else if(g!==void 0){const w=x instanceof He;!w&&x.setScalar?x.setScalar(g):x instanceof Lu&&g instanceof Lu?x.mask=g.mask:x.set(g),!uU()&&!a.linear&&w&&x.convertSRGBToLinear()}}else if(_[p]=g,_[p]instanceof on&&_[p].format===Ci&&_[p].type===ja){const w=_[p];SS(w)&&SS(a.gl)?w.colorSpace=a.gl.outputColorSpace:w.encoding=a.gl.outputEncoding}ud(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const d=a.internal.interaction.indexOf(n);d>-1&&a.internal.interaction.splice(d,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&cM(n),n}function ud(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function cM(n){n.onUpdate==null||n.onUpdate(n)}function HY(n,e){n.manual||(fU(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function ay(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function VY(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Td.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Td.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Td.ContinuousEventPriority;default:return Td.DefaultEventPriority}}function vU(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function WY(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{vU(t.capturedMap,e,r,i)})}function jY(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),f=new Set,d=[],p=c?c(u.internal.interaction):u.internal.interaction;for(let _=0;_<p.length;_++){const x=Rp(p[_]);x&&(x.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(_){const x=Rp(_);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var w;x.events.compute==null||x.events.compute(l,x,(w=x.previousRoot)==null?void 0:w.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(_,!0):[]}let v=p.flatMap(g).sort((_,x)=>{const w=Rp(_.object),A=Rp(x.object);return!w||!A?_.distance-x.distance:A.events.priority-w.events.priority||_.distance-x.distance}).filter(_=>{const x=ay(_);return f.has(x)?!1:(f.add(x),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const _ of v){let x=_.object;for(;x;){var y;(y=x.__r3f)!=null&&y.eventCount&&d.push({..._,eventObject:x}),x=x.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let _ of u.internal.capturedMap.get(l.pointerId).values())f.has(ay(_.intersection))||d.push(_.intersection);return d}function i(l,c,u,f){const d=n.getState();if(l.length){const p={stopped:!1};for(const g of l){const v=Rp(g.object)||d,{raycaster:y,pointer:_,camera:x,internal:w}=v,A=new $(_.x,_.y,0).unproject(x),C=D=>{var F,L;return(F=(L=w.capturedMap.get(D))==null?void 0:L.has(g.eventObject))!=null?F:!1},E=D=>{const F={intersection:g,target:c.target};w.capturedMap.has(D)?w.capturedMap.get(D).set(g.eventObject,F):w.capturedMap.set(D,new Map([[g.eventObject,F]])),c.target.setPointerCapture(D)},P=D=>{const F=w.capturedMap.get(D);F&&vU(w.capturedMap,g.eventObject,F,D)};let M={};for(let D in c){let F=c[D];typeof F!="function"&&(M[D]=F)}let T={...g,...M,pointer:_,intersections:l,stopped:p.stopped,delta:u,unprojectedPoint:A,ray:y.ray,camera:x,stopPropagation(){const D="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!D||D.has(g.eventObject))&&(T.stopped=p.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(F=>F.eventObject===g.eventObject))){const F=l.slice(0,l.indexOf(g));s([...F,g])}},target:{hasPointerCapture:C,setPointerCapture:E,releasePointerCapture:P},currentTarget:{hasPointerCapture:C,setPointerCapture:E,releasePointerCapture:P},nativeEvent:c};if(f(T),p.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f,p=d==null?void 0:d.handlers;if(c.hovered.delete(ay(u)),d!=null&&d.eventCount){const g={...u,intersections:l};p.onPointerOut==null||p.onPointerOut(g),p.onPointerLeave==null||p.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:d}=n.getState();d.lastEvent.current=u;const p=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,p?t:void 0),_=g?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=y.map(w=>w.eventObject)),g&&!y.length&&_<=2&&(o(u,d.interaction),f&&f(u)),p&&s(y);function x(w){const A=w.eventObject,C=A.__r3f,E=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(p){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const P=ay(w),M=d.hovered.get(P);M?M.stopped&&w.stopPropagation():(d.hovered.set(P,w),E.onPointerOver==null||E.onPointerOver(w),E.onPointerEnter==null||E.onPointerEnter(w))}E.onPointerMove==null||E.onPointerMove(w)}else{const P=E[l];P?(!g||d.initialHits.includes(A))&&(o(u,d.interaction.filter(M=>!d.initialHits.includes(M))),P(w)):g&&d.initialHits.includes(A)&&o(u,d.interaction.filter(M=>!d.initialHits.includes(M)))}}i(y,u,_,x)}}return{handlePointer:a}}const yU=n=>!!(n!=null&&n.render),k1=B.createContext(null),$Y=(n,e)=>{const t=tE((a,l)=>{const c=new $,u=new $,f=new $;function d(_=l().camera,x=u,w=l().size){const{width:A,height:C,top:E,left:P}=w,M=A/C;x instanceof $?f.copy(x):f.set(...x);const T=_.getWorldPosition(c).distanceTo(f);if(fU(_))return{width:A/_.zoom,height:C/_.zoom,top:E,left:P,factor:1,distance:T,aspect:M};{const D=_.fov*Math.PI/180,F=2*Math.tan(D/2)*T,L=F*(A/C);return{width:L,height:F,top:E,left:P,factor:A/L,distance:T,aspect:M}}}let p;const g=_=>a(x=>({performance:{...x.performance,current:_}})),v=new Le;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>n(l(),_),advance:(_,x)=>e(_,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new QC,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();p&&clearTimeout(p),_.performance.current!==_.performance.min&&g(_.performance.min),p=setTimeout(()=>g(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:_=>a(x=>({...x,events:{...x.events,..._}})),setSize:(_,x,w,A,C)=>{const E=l().camera,P={width:_,height:x,top:A||0,left:C||0,updateStyle:w};a(M=>({size:P,viewport:{...M.viewport,...d(E,u,P)}}))},setDpr:_=>a(x=>{const w=mU(_);return{viewport:{...x.viewport,dpr:w,initialDpr:x.viewport.initialDpr||w}}}),setFrameloop:(_="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,_!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:B.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,x,w)=>{const A=l().internal;return A.priority=A.priority+(x>0?1:0),A.subscribers.push({ref:_,priority:x,store:w}),A.subscribers=A.subscribers.sort((C,E)=>C.priority-E.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(x>0?1:0),C.subscribers=C.subscribers.filter(E=>E.ref!==_))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l!==i||c.dpr!==s){var d;i=l,s=c.dpr,HY(a,l),u.setPixelRatio(c.dpr);const p=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,p)}a!==o&&(o=a,f(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let ly,XY=new Set,JY=new Set,KY=new Set;function MS(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Dp(n,e){switch(n){case"before":return MS(XY,e);case"after":return MS(JY,e);case"tail":return MS(KY,e)}}let CS,ES;function TS(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),CS=e.internal.subscribers,ly=0;ly<CS.length;ly++)ES=CS[ly],ES.ref.current(ES.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function YY(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Dp("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=TS(l,i))}if(Dp("after",l),t===0)return Dp("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&Dp("before",l),u)TS(l,u,f);else for(const d of n.values())TS(l,d.store.getState());c&&Dp("after",l)}return{loop:s,invalidate:o,advance:a}}function _U(){const n=B.useContext(k1);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function sl(n=t=>t,e){return _U()(n,e)}function hs(n,e=0){const t=_U(),r=t.getState().internal.subscribe,i=dU(n);return qg(()=>r(i,e,t),[e,r,t]),null}function xU(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,zY(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Co(n,e,t,r){const i=Array.isArray(e)?e:[e],s=nE(xU(t,r),[n,...i],{equal:un.equ});return Array.isArray(e)?s:s[0]}Co.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return IY(xU(t),[n,...r])};Co.clear=function(n,e){const t=Array.isArray(e)?e:[e];return kY([n,...t])};const uh=new Map,{invalidate:CD,advance:ED}=YY(uh),{reconciler:F1,applyProps:qf}=FY(uh,VY),Zf={objects:"shallow",strict:!1},QY=(n,e)=>{const t=typeof n=="function"?n(e):n;return yU(t)?t:new PC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function qY(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function ZY(n){const e=uh.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||$Y(CD,ED),o=t||F1.createContainer(s,Td.ConcurrentRoot,null,!1,null,"",i,null);e||uh.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:d,scene:p,events:g,onCreated:v,shadows:y=!1,linear:_=!1,flat:x=!1,legacy:w=!1,orthographic:A=!1,frameloop:C="always",dpr:E=[1,2],performance:P,raycaster:M,camera:T,onPointerMissed:D}=u,F=s.getState(),L=F.gl;F.gl||F.set({gl:L=QY(f,n)});let N=F.raycaster;N||F.set({raycaster:N=new eU});const{params:k,...V}=M||{};if(un.equ(V,N,Zf)||qf(N,{...V}),un.equ(k,N.params,Zf)||qf(N,{params:{...N.params,...k}}),!F.camera||F.camera===c&&!un.equ(c,T,Zf)){c=T;const G=T instanceof Og,j=G?T:A?new sf(0,0,0,0,.1,1e3):new nr(75,0,.1,1e3);G||(j.position.z=5,T&&qf(j,T),!F.camera&&!(T!=null&&T.rotation)&&j.lookAt(0,0,0)),F.set({camera:j})}if(!F.scene){let G;p instanceof I1?G=p:(G=new I1,p&&qf(G,p)),F.set({scene:cd(G)})}if(!F.xr){const G=(q,re)=>{const Q=s.getState();Q.frameloop!=="never"&&ED(q,!0,Q,re)},j=()=>{const q=s.getState();q.gl.xr.enabled=q.gl.xr.isPresenting,q.gl.xr.setAnimationLoop(q.gl.xr.isPresenting?G:null),q.gl.xr.isPresenting||CD(q)},Z={connect(){const q=s.getState().gl;q.xr.addEventListener("sessionstart",j),q.xr.addEventListener("sessionend",j)},disconnect(){const q=s.getState().gl;q.xr.removeEventListener("sessionstart",j),q.xr.removeEventListener("sessionend",j)}};L.xr&&Z.connect(),F.set({xr:Z})}if(L.shadowMap){const G=L.shadowMap.enabled,j=L.shadowMap.type;if(L.shadowMap.enabled=!!y,un.boo(y))L.shadowMap.type=dm;else if(un.str(y)){var W;const Z={basic:p4,percentage:I_,soft:dm,variance:vu};L.shadowMap.type=(W=Z[y])!=null?W:dm}else un.obj(y)&&Object.assign(L.shadowMap,y);(G!==L.shadowMap.enabled||j!==L.shadowMap.type)&&(L.shadowMap.needsUpdate=!0)}const K=uU();K&&("enabled"in K?K.enabled=!w:"legacyMode"in K&&(K.legacyMode=w)),qf(L,{outputEncoding:_?3e3:3001,toneMapping:x?go:xC}),F.legacy!==w&&F.set(()=>({legacy:w})),F.linear!==_&&F.set(()=>({linear:_})),F.flat!==x&&F.set(()=>({flat:x})),f&&!un.fun(f)&&!yU(f)&&!un.equ(f,L,Zf)&&qf(L,f),g&&!F.events.handlers&&F.set({events:g(s)});const z=qY(n,d);return un.equ(z,F.size,Zf)||F.setSize(z.width,z.height,z.updateStyle,z.top,z.left),E&&F.viewport.dpr!==mU(E)&&F.setDpr(E),F.frameloop!==C&&F.setFrameloop(C),F.onPointerMissed||F.set({onPointerMissed:D}),P&&!un.equ(P,F.performance,Zf)&&F.set(G=>({performance:{...G.performance,...P}})),a=v,l=!0,this},render(u){return l||this.configure(),F1.updateContainer(B.createElement(eQ,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){wU(n)}}}function eQ({store:n,children:e,onCreated:t,rootElement:r}){return qg(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),B.createElement(k1.Provider,{value:n},e)}function wU(n,e){const t=uh.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),F1.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),GY(i),uh.delete(n),e&&e(n)}catch{}},500)})}}F1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:B.version});function uM(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}uM.debounce=uM;var tQ=uM;const TD=Sh(tQ);function nQ(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=B.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=B.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=B.useRef(!1);B.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,p,g]=B.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:w,top:A,width:C,height:E,bottom:P,right:M,x:T,y:D}=l.current.element.getBoundingClientRect(),F={left:w,top:A,width:C,height:E,bottom:P,right:M,x:T,y:D};l.current.element instanceof HTMLElement&&i&&(F.height=l.current.element.offsetHeight,F.width=l.current.element.offsetWidth),Object.freeze(F),f.current&&!oQ(l.current.lastBounds,F)&&a(l.current.lastBounds=F)};return[x,u?TD(x,u):x,c?TD(x,c):x]},[a,i,c,u]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",g,{capture:!0,passive:!0})))}const _=x=>{!x||x===l.current.element||(v(),l.current.element=x,l.current.scrollContainers=SU(x),y())};return iQ(g,!!t),rQ(p),B.useEffect(()=>{v(),y()},[t,g,p]),B.useEffect(()=>v,[]),[_,o,d]}function rQ(n){B.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function iQ(n,e){B.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function SU(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...SU(n.parentElement)]}const sQ=["x","y","top","bottom","left","right","width","height"],oQ=(n,e)=>sQ.every(t=>n[t]===e[t]);var aQ=Object.defineProperty,lQ=Object.defineProperties,cQ=Object.getOwnPropertyDescriptors,PD=Object.getOwnPropertySymbols,uQ=Object.prototype.hasOwnProperty,fQ=Object.prototype.propertyIsEnumerable,RD=(n,e,t)=>e in n?aQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,DD=(n,e)=>{for(var t in e||(e={}))uQ.call(e,t)&&RD(n,t,e[t]);if(PD)for(var t of PD(e))fQ.call(e,t)&&RD(n,t,e[t]);return n},dQ=(n,e)=>lQ(n,cQ(e));function AU(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=AU(r,e,t);if(i)return i;r=e?null:r.sibling}}function bU(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const iE=bU(B.createContext(null));class MU extends B.Component{render(){return B.createElement(iE.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:BD,ReactCurrentDispatcher:LD}=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function hQ(){const n=B.useContext(iE);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=B.useId();return B.useMemo(()=>{for(const r of[BD==null?void 0:BD.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=AU(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function pQ(){var n,e;const t=hQ(),[r]=B.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==iE&&!r.has(s)&&r.set(s,(e=LD==null?void 0:LD.current)==null?void 0:e.readContext(bU(s))),i=i.return}return r}function mQ(){const n=pQ();return B.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>B.createElement(e,null,B.createElement(t.Provider,dQ(DD({},r),{value:n.get(t)}))),e=>B.createElement(MU,DD({},e))),[n])}const PS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function gQ(n){const{handlePointer:e}=jY(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(PS).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=PS[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=PS[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const vQ=B.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=gQ,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:p,frameloop:g,dpr:v,performance:y,raycaster:_,camera:x,onPointerMissed:w,onCreated:A,...C},E){B.useMemo(()=>cU(EY),[]);const P=mQ(),[M,T]=nQ({scroll:!0,debounce:{scroll:50,resize:0},...r}),D=B.useRef(null),F=B.useRef(null);B.useImperativeHandle(E,()=>D.current);const L=dU(w),[N,k]=B.useState(!1),[V,W]=B.useState(!1);if(N)throw N;if(V)throw V;const K=B.useRef(null);qg(()=>{const U=D.current;T.width>0&&T.height>0&&U&&(K.current||(K.current=ZY(U)),K.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:d,orthographic:p,frameloop:g,dpr:v,performance:y,raycaster:_,camera:x,size:T,onPointerMissed:(...z)=>L.current==null?void 0:L.current(...z),onCreated:z=>{z.events.connect==null||z.events.connect(a?OY(a)?a.current:a:F.current),l&&z.setEvents({compute:(G,j)=>{const Z=G[l+"X"],q=G[l+"Y"];j.pointer.set(Z/j.size.width*2-1,-(q/j.size.height)*2+1),j.raycaster.setFromCamera(j.pointer,j.camera)}}),A==null||A(z)}}),K.current.render(B.createElement(P,null,B.createElement(hU,{set:W},B.createElement(B.Suspense,{fallback:B.createElement(NY,{set:k})},e)))))}),B.useEffect(()=>{const U=D.current;if(U)return()=>wU(U)},[]);const H=a?"none":"auto";return B.createElement("div",Xt({ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:H,...i}},C),B.createElement("div",{ref:M,style:{width:"100%",height:"100%"}},B.createElement("canvas",{ref:D,style:{display:"block"}},t)))}),yQ=B.forwardRef(function(e,t){return B.createElement(MU,null,B.createElement(vQ,Xt({},e,{ref:t})))});let Bp=0;const _Q=tE(n=>(Ed.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-Bp)/(r-Bp)*100})},Ed.onLoad=()=>{n({active:!1})},Ed.onError=e=>n(t=>({errors:[...t.errors,e]})),Ed.onProgress=(e,t,r)=>{t===r&&(Bp=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-Bp)/(r-Bp)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function xQ(n,e,t){return Math.max(e,Math.min(n,t))}const jr={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function ID(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function kD(n,e,t,r=.15){return r===0?xQ(n,e,t):n<e?-ID(e-n,t-e,r)+e:n>t?+ID(n-t,t-e,r)+t:n}function wQ(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[kD(e,s,o,r),kD(t,a,l,i)]}function SQ(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function AQ(n){var e=SQ(n,"string");return typeof e=="symbol"?e:String(e)}function bi(n,e,t){return e=AQ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Tn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(t),!0).forEach(function(r){bi(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const CU={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function OD(n){return n?n[0].toUpperCase()+n.slice(1):""}const bQ=["enter","leave"];function MQ(n=!1,e){return n&&!bQ.includes(e)}function CQ(n,e="",t=!1){const r=CU[n],i=r&&r[e]||e;return"on"+OD(n)+OD(i)+(MQ(t,i)?"Capture":"")}const EQ=["gotpointercapture","lostpointercapture"];function TQ(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=EQ.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function PQ(n,e=""){const t=CU[n],r=t&&t[e]||e;return n+r}function nx(n){return"touches"in n}function EU(n){return nx(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function RQ(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function DQ(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function TU(n){return nx(n)?DQ(n)[0]:n}function BQ(n){return RQ(n).map(e=>e.identifier)}function RS(n){const e=TU(n);return nx(n)?e.identifier:e.pointerId}function ND(n){const e=TU(n);return[e.clientX,e.clientY]}function LQ(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function O1(n,...e){return typeof n=="function"?n(...e):n}function IQ(){}function kQ(...n){return n.length===0?IQ:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function UD(n,e){return Object.assign({},e,n||{})}const FQ=32;class OQ{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?O1(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,LQ(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const E=t._delta.map(Math.abs);jr.addTo(t._distance,E)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:u,values:f}=t;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&f[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&f[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=u[0]!==!1||u[1]!==!1,!t.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[E,P]=f;d[0]=u[0]!==!1?E-u[0]:0,d[1]=u[1]!==!1?P-u[1]:0}else d[0]=u[0]!==!1?o-u[0]:0,d[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const p=t.offset,g=t._active&&!t._blocked||t.active;g&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=O1(r.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[v,y]=t.offset,[[_,x],[w,A]]=t._bounds;t.overflow=[v<_?-1:v>x?1:0,y<w?-1:y>A?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const C=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=wQ(t._bounds,t.offset,C),t.delta=jr.sub(t.offset,p),this.computeMovement(),g&&(!t.last||s>FQ)){t.delta=jr.sub(t.offset,p);const E=t.delta.map(Math.abs);jr.addTo(t.distance,E),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[E[0]/s,E[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Tn(Tn(Tn({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function NQ([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class UQ extends OQ{constructor(...e){super(...e),bi(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=jr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=jr.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[EU(e)]:r.axisThreshold;t.axis=NQ(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const zQ=n=>n,zD=.15,PU={enabled(n=!0){return n},eventOptions(n,e,t){return Tn(Tn({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[zD,zD];case!1:return[0,0];default:return jr.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return jr.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||zQ},threshold(n){return jr.toVector(n,0)}},GQ=0,Zg=Tn(Tn({},PU),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=GQ){return n},bounds(n={}){if(typeof n=="function")return s=>Zg.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),GD={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class HQ extends UQ{constructor(...e){super(...e),bi(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=Zg.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=RS(e),r._pointerActive=!0,this.computeValues(ND(e)),this.computeInitial(),t.preventScrollAxis&&EU(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=RS(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=ND(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=jr.sub(s,t._values),this.computeValues(s)),jr.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=RS(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,u]=t._movement,[f,d]=r.swipe.velocity,[p,g]=r.swipe.distance,v=r.swipe.duration;if(t.elapsedTime<v){const y=Math.abs(a/t.timeDelta),_=Math.abs(l/t.timeDelta);y>f&&Math.abs(c)>p&&(t.swipe[0]=Math.sign(a)),_>d&&Math.abs(u)>g&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,VQ(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=GD[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,jr.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in GD&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function VQ(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const e0=typeof window<"u"&&window.document&&window.document.createElement;function WQ(){return e0&&"ontouchstart"in window}function HD(){return WQ()||e0&&window.navigator.maxTouchPoints>1}function jQ(){return e0&&"onpointerdown"in window}function $Q(){return e0&&"exitPointerLock"in window.document}function XQ(){try{return"constructor"in GestureEvent}catch{return!1}}const Os={isBrowser:e0,gesture:XQ(),touch:HD(),touchscreen:HD(),pointer:jQ(),pointerLock:$Q()},JQ=250,KQ=180,YQ=.5,QQ=50,qQ=250,ZQ=10,VD={mouse:0,touch:0,pen:8},eq=Tn(Tn({},Zg),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Os.pointerLock,Os.touch&&t?"touch":this.pointerLock?"mouse":Os.pointer&&!i?"pointer":Os.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?JQ:void 0,!(!Os.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=jr.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=YQ,distance:e=QQ,duration:t=qQ}={}){return{velocity:this.transform(jr.toVector(n)),distance:this.transform(jr.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return KQ;case!1:return 0;default:return n}},axisThreshold(n){return n?Tn(Tn({},VD),n):VD},keyboardDisplacement(n=ZQ){return n}});Tn(Tn({},PU),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!Os.touch&&Os.gesture)return"gesture";if(Os.touch&&r)return"touch";if(Os.touchscreen){if(Os.pointer)return"pointer";if(Os.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=UD(O1(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=UD(O1(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",jr.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});Tn(Tn({},Zg),{},{mouseOnly:(n=!0)=>n});Tn(Tn({},Zg),{},{mouseOnly:(n=!0)=>n});const RU=new Map,fM=new Map;function tq(n){RU.set(n.key,n.engine),fM.set(n.key,n.resolver)}const nq={key:"drag",engine:HQ,resolver:eq};function rq(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function iq(n,e){if(n==null)return{};var t=rq(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const sq={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Os.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},oq=["target","eventOptions","window","enabled","transform"];function qy(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=qy(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function aq(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=iq(r,oq);if(t.shared=qy({target:i,eventOptions:s,window:o,enabled:a,transform:l},sq),e){const u=fM.get(e);t[e]=qy(Tn({shared:t.shared},c),u)}else for(const u in c){const f=fM.get(u);f&&(t[u]=qy(Tn({shared:t.shared},c[u]),f))}return t}class DU{constructor(e,t){bi(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=PQ(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Tn(Tn({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class lq{constructor(){bi(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class cq{constructor(e){bi(this,"gestures",new Set),bi(this,"_targetEventStore",new DU(this)),bi(this,"gestureEventStores",{}),bi(this,"gestureTimeoutStores",{}),bi(this,"handlers",{}),bi(this,"config",{}),bi(this,"pointerIds",new Set),bi(this,"touchIds",new Set),bi(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),uq(this,e)}setEventIds(e){if(nx(e))return this.touchIds=new Set(BQ(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=aq(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=WD(r,a.eventOptions,!!i);if(a.enabled){const c=RU.get(o);new c(this,e,o).bind(l)}}const s=WD(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Tn(Tn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=kQ(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=TQ(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function ed(n,e){n.gestures.add(e),n.gestureEventStores[e]=new DU(n,e),n.gestureTimeoutStores[e]=new lq}function uq(n,e){e.drag&&ed(n,"drag"),e.wheel&&ed(n,"wheel"),e.scroll&&ed(n,"scroll"),e.move&&ed(n,"move"),e.pinch&&ed(n,"pinch"),e.hover&&ed(n,"hover")}const WD=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(c=o.passive)!==null&&c!==void 0?c:e.passive;let d=a?r:CQ(r,i,u);t&&f&&(d+="Passive"),n[d]=n[d]||[],n[d].push(s)};function fq(n,e={},t,r){const i=te.useMemo(()=>new cq(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),te.useEffect(i.effect.bind(i)),te.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function dq(n,e){return tq(nq),fq({drag:n},e||{},"drag")}function vm(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function hq(n,e){if(n){if(typeof n=="string")return dM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dM(n,e)}}function pq(n){if(Array.isArray(n))return dM(n)}function mq(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function gq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vq(n){return pq(n)||mq(n)||hq(n)||gq()}new Le;new Le;function yq(n,e,t){return Math.max(e,Math.min(t,n))}function _q(n,e){return yq(n-Math.floor(n/e)*e,0,e)}function xq(n,e){var t=_q(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function BU(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Es=function n(e,t,r){var i=this;BU(this,n),vm(this,"dot2",function(s,o){return i.x*s+i.y*o}),vm(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=r},wq=[new Es(1,1,0),new Es(-1,1,0),new Es(1,-1,0),new Es(-1,-1,0),new Es(1,0,1),new Es(-1,0,1),new Es(1,0,-1),new Es(-1,0,-1),new Es(0,1,1),new Es(0,-1,1),new Es(0,1,-1),new Es(0,-1,-1)],jD=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],$D=new Array(512),XD=new Array(512),Sq=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=jD[t]^e&255:r=jD[t]^e>>8&255,$D[t]=$D[t+256]=r,XD[t]=XD[t+256]=wq[r%12]}};Sq(0);function Aq(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function JD(n){var e=Aq(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var bq=function n(e){var t=this;BU(this,n),vm(this,"seed",0),vm(this,"init",function(r){t.seed=r,t.value=JD(r)}),vm(this,"value",JD(this.seed)),this.init(e)};new bq(Math.random());var Mq=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*i)/t)},LU=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},Cq=function(e){return e},Eq={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},Tq={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},Pq={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},Rq={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},Dq={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},Bq={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function fr(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:LU,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-t)<=a)return n[e]=t,!1;r=Math.max(1e-4,r);var c=2/r,u=o(c*i),f=n[e]-t,d=t,p=s*r;f=Math.min(Math.max(f,-p),p),t=n[e]-f;var g=(n.__damp[l]+c*f)*i;n.__damp[l]=(n.__damp[l]-c*g)*u;var v=t+(f+g)*u;return d-n[e]>0==v>d&&(v=d,n.__damp[l]=(v-d)/i),n[e]=v,!0}var Lq=function(e){return e&&e.isCamera},Iq=function(e){return e&&e.isLight},Lp=new $,KD=new pn,YD=new pn,Ip=new Ze,DS=new $;function kq(n,e,t,r,i,s,o){typeof e=="number"?Lp.setScalar(e):Array.isArray(e)?Lp.set(e[0],e[1],e[2]):Lp.copy(e);var a=n.parent;n.updateWorldMatrix(!0,!1),DS.setFromMatrixPosition(n.matrixWorld),Lq(n)||Iq(n)?Ip.lookAt(DS,Lp,n.up):Ip.lookAt(Lp,DS,n.up),N1(n.quaternion,YD.setFromRotationMatrix(Ip),t,r,i,s,o),a&&(Ip.extractRotation(a.matrixWorld),KD.setFromRotationMatrix(Ip),N1(n.quaternion,YD.copy(n.quaternion).premultiply(KD.invert()),t,r,i,s,o))}function Vd(n,e,t,r,i,s,o,a){return fr(n,e,n[e]+xq(n[e],t),r,i,s,o,a)}var kp=new Le,QD,qD;function Fq(n,e,t,r,i,s,o){return typeof e=="number"?kp.setScalar(e):Array.isArray(e)?kp.set(e[0],e[1]):kp.copy(e),QD=fr(n,"x",kp.x,t,r,i,s,o),qD=fr(n,"y",kp.y,t,r,i,s,o),QD||qD}var td=new $,ZD,eB,tB;function hM(n,e,t,r,i,s,o){return typeof e=="number"?td.setScalar(e):Array.isArray(e)?td.set(e[0],e[1],e[2]):td.copy(e),ZD=fr(n,"x",td.x,t,r,i,s,o),eB=fr(n,"y",td.y,t,r,i,s,o),tB=fr(n,"z",td.z,t,r,i,s,o),ZD||eB||tB}var Zc=new Pt,nB,rB,iB,sB;function Oq(n,e,t,r,i,s,o){return typeof e=="number"?Zc.setScalar(e):Array.isArray(e)?Zc.set(e[0],e[1],e[2],e[3]):Zc.copy(e),nB=fr(n,"x",Zc.x,t,r,i,s,o),rB=fr(n,"y",Zc.y,t,r,i,s,o),iB=fr(n,"z",Zc.z,t,r,i,s,o),sB=fr(n,"w",Zc.w,t,r,i,s,o),nB||rB||iB||sB}var Fp=new ns,oB,aB,lB;function Nq(n,e,t,r,i,s,o){return Array.isArray(e)?Fp.set(e[0],e[1],e[2],e[3]):Fp.copy(e),oB=Vd(n,"x",Fp.x,t,r,i,s,o),aB=Vd(n,"y",Fp.y,t,r,i,s,o),lB=Vd(n,"z",Fp.z,t,r,i,s,o),oB||aB||lB}var nd=new He,cB,uB,fB;function Uq(n,e,t,r,i,s,o){return e instanceof He?nd.copy(e):Array.isArray(e)?nd.setRGB(e[0],e[1],e[2]):nd.set(e),cB=fr(n,"r",nd.r,t,r,i,s,o),uB=fr(n,"g",nd.g,t,r,i,s,o),fB=fr(n,"b",nd.b,t,r,i,s,o),cB||uB||fB}var oo=new pn,ma=new Pt,dB=new Pt,Op=new Pt,hB,pB,mB,gB;function N1(n,e,t,r,i,s,o){var a=n;Array.isArray(e)?oo.set(e[0],e[1],e[2],e[3]):oo.copy(e);var l=n.dot(oo)>0?1:-1;return oo.x*=l,oo.y*=l,oo.z*=l,oo.w*=l,hB=fr(n,"x",oo.x,t,r,i,s,o),pB=fr(n,"y",oo.y,t,r,i,s,o),mB=fr(n,"z",oo.z,t,r,i,s,o),gB=fr(n,"w",oo.w,t,r,i,s,o),ma.set(n.x,n.y,n.z,n.w).normalize(),dB.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),Op.copy(ma).multiplyScalar(dB.dot(ma)/ma.dot(ma)),a.__damp.velocity_x-=Op.x,a.__damp.velocity_y-=Op.y,a.__damp.velocity_z-=Op.z,a.__damp.velocity_w-=Op.w,n.set(ma.x,ma.y,ma.z,ma.w),hB||pB||mB||gB}var Np=new tU,vB,yB,_B;function zq(n,e,t,r,i,s,o){return Array.isArray(e)?Np.set(e[0],e[1],e[2]):Np.copy(e),vB=fr(n,"radius",Np.radius,t,r,i,s,o),yB=Vd(n,"phi",Np.phi,t,r,i,s,o),_B=Vd(n,"theta",Np.theta,t,r,i,s,o),vB||yB||_B}var cy=new Ze,xB=new $,wB=new pn,SB=new $,AB,bB,MB;function Gq(n,e,t,r,i,s,o){var a=n;return a.__damp===void 0&&(a.__damp={position:new $,rotation:new pn,scale:new $},n.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?cy.set.apply(cy,vq(e)):cy.copy(e),cy.decompose(xB,wB,SB),AB=hM(a.__damp.position,xB,t,r,i,s,o),bB=N1(a.__damp.rotation,wB,t,r,i,s,o),MB=hM(a.__damp.scale,SB,t,r,i,s,o),n.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),AB||bB||MB}var CB=Object.freeze({__proto__:null,rsqw:Mq,exp:LU,linear:Cq,sine:Eq,cubic:Tq,quint:Pq,circ:Rq,quart:Dq,expo:Bq,damp:fr,dampLookAt:kq,dampAngle:Vd,damp2:Fq,damp3:hM,damp4:Oq,dampE:Nq,dampC:Uq,dampQ:N1,dampS:zq,dampM:Gq});const sE=B.createContext(null);function t0(){return B.useContext(sE)}function Hq({eps:n=1e-5,enabled:e=!0,infinite:t,horizontal:r,pages:i=1,distance:s=1,damping:o=.25,maxSpeed:a=1/0,prepend:l=!1,style:c={},children:u}){const{get:f,setEvents:d,gl:p,size:g,invalidate:v,events:y}=sl(),[_]=B.useState(()=>document.createElement("div")),[x]=B.useState(()=>document.createElement("div")),[w]=B.useState(()=>document.createElement("div")),A=p.domElement.parentNode,C=B.useRef(0),E=B.useMemo(()=>({el:_,eps:n,fill:x,fixed:w,horizontal:r,damping:o,offset:0,delta:0,scroll:C,pages:i,range(T,D,F=0){const L=T-F,N=L+D+F*2;return this.offset<L?0:this.offset>N?1:(this.offset-L)/(N-L)},curve(T,D,F=0){return Math.sin(this.range(T,D,F)*Math.PI)},visible(T,D,F=0){const L=T-F,N=L+D+F*2;return this.offset>=L&&this.offset<=N}}),[n,o,r,i]);B.useEffect(()=>{_.style.position="absolute",_.style.width="100%",_.style.height="100%",_.style[r?"overflowX":"overflowY"]="auto",_.style[r?"overflowY":"overflowX"]="hidden",_.style.top="0px",_.style.left="0px";for(const D in c)_.style[D]=c[D];w.style.position="sticky",w.style.top="0px",w.style.left="0px",w.style.width="100%",w.style.height="100%",w.style.overflow="hidden",_.appendChild(w),x.style.height=r?"100%":`${i*s*100}%`,x.style.width=r?`${i*s*100}%`:"100%",x.style.pointerEvents="none",_.appendChild(x),l?A.prepend(_):A.appendChild(_),_[r?"scrollLeft":"scrollTop"]=1;const M=y.connected||p.domElement;requestAnimationFrame(()=>y.connect==null?void 0:y.connect(_));const T=f().events.compute;return d({compute(D,F){const{left:L,top:N}=A.getBoundingClientRect(),k=D.clientX-L,V=D.clientY-N;F.pointer.set(k/F.size.width*2-1,-(V/F.size.height)*2+1),F.raycaster.setFromCamera(F.pointer,F.camera)}}),()=>{A.removeChild(_),d({compute:T}),y.connect==null||y.connect(M)}},[i,s,r,_,x,w,A]),B.useEffect(()=>{if(y.connected===_){const M=g[r?"width":"height"],T=_[r?"scrollWidth":"scrollHeight"],D=T-M;let F=0,L=!0,N=!0;const k=()=>{if(!(!e||N)&&(v(),F=_[r?"scrollLeft":"scrollTop"],C.current=F/D,t)){if(!L){if(F>=D){const W=1-E.offset;_[r?"scrollLeft":"scrollTop"]=1,C.current=E.offset=-W,L=!0}else if(F<=0){const W=1+E.offset;_[r?"scrollLeft":"scrollTop"]=T,C.current=E.offset=W,L=!0}}L&&setTimeout(()=>L=!1,40)}};_.addEventListener("scroll",k,{passive:!0}),requestAnimationFrame(()=>N=!1);const V=W=>_.scrollLeft+=W.deltaY/2;return r&&_.addEventListener("wheel",V,{passive:!0}),()=>{_.removeEventListener("scroll",k),r&&_.removeEventListener("wheel",V)}}},[_,y,g,t,E,v,r,e]);let P=0;return hs((M,T)=>{P=E.offset,CB.damp(E,"offset",C.current,o,T,a,void 0,n),CB.damp(E,"delta",Math.abs(P-E.offset),o,T,a,void 0,n),E.delta>n&&v()}),B.createElement(sE.Provider,{value:E},u)}const Vq=B.forwardRef(({children:n},e)=>{const t=B.useRef(null);B.useImperativeHandle(e,()=>t.current,[]);const r=t0(),{width:i,height:s}=sl(o=>o.viewport);return hs(()=>{t.current.position.x=r.horizontal?-i*(r.pages-1)*r.offset:0,t.current.position.y=r.horizontal?0:s*(r.pages-1)*r.offset}),B.createElement("group",{ref:t},n)}),Wq=B.forwardRef(({children:n,style:e,...t},r)=>{const i=t0(),s=B.useRef(null);B.useImperativeHandle(r,()=>s.current,[]);const{width:o,height:a}=sl(u=>u.size),l=B.useContext(k1),c=B.useMemo(()=>f4(i.fixed),[i.fixed]);return hs(()=>{i.delta>i.eps&&(s.current.style.transform=`translate3d(${i.horizontal?-o*(i.pages-1)*i.offset:0}px,${i.horizontal?0:a*(i.pages-1)*-i.offset}px,0)`)}),c.render(B.createElement("div",Xt({ref:s,style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},t),B.createElement(sE.Provider,{value:i},B.createElement(k1.Provider,{value:l},n)))),null}),EB=B.forwardRef(({html:n,...e},t)=>{const r=n?Wq:Vq;return B.createElement(r,Xt({ref:t},e))}),jq=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());c=d=>{const p=o(d);if(!u(f,p)){const g=f;a(f=p,g)}},l!=null&&l.fireImmediately&&a(f,f)}return i(c)},n(e,t,r)};function TB(n,e){if(e===iN)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===D1||e===AC){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===D1)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const $q=parseInt(Ch.replace(/\D+/g,""));var Us=Uint8Array,Hl=Uint16Array,pM=Uint32Array,IU=new Us([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kU=new Us([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xq=new Us([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),FU=function(n,e){for(var t=new Hl(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new pM(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},OU=FU(IU,2),NU=OU[0],Jq=OU[1];NU[28]=258,Jq[258]=28;var Kq=FU(kU,0),Yq=Kq[0],mM=new Hl(32768);for(var dn=0;dn<32768;++dn){var El=(dn&43690)>>>1|(dn&21845)<<1;El=(El&52428)>>>2|(El&13107)<<2,El=(El&61680)>>>4|(El&3855)<<4,mM[dn]=((El&65280)>>>8|(El&255)<<8)>>>1}var ym=function(n,e,t){for(var r=n.length,i=0,s=new Hl(e);i<r;++i)++s[n[i]-1];var o=new Hl(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new Hl(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],f=o[n[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)a[mM[f]>>>l]=c}else for(a=new Hl(r),i=0;i<r;++i)n[i]&&(a[i]=mM[o[n[i]-1]++]>>>15-n[i]);return a},n0=new Us(288);for(var dn=0;dn<144;++dn)n0[dn]=8;for(var dn=144;dn<256;++dn)n0[dn]=9;for(var dn=256;dn<280;++dn)n0[dn]=7;for(var dn=280;dn<288;++dn)n0[dn]=8;var UU=new Us(32);for(var dn=0;dn<32;++dn)UU[dn]=5;var Qq=ym(n0,9,1),qq=ym(UU,5,1),BS=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},ao=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},LS=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Zq=function(n){return(n/8|0)+(n&7&&1)},eZ=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof Hl?Hl:n instanceof pM?pM:Us)(t-e);return r.set(n.subarray(e,t)),r},tZ=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Us(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new Us(r*3));var o=function(Q){var ce=e.length;if(Q>ce){var de=new Us(Math.max(ce*2,Q));de.set(e),e=de}},a=t.f||0,l=t.p||0,c=t.b||0,u=t.l,f=t.d,d=t.m,p=t.n,g=r*8;do{if(!u){t.f=a=ao(n,l,1);var v=ao(n,l+1,3);if(l+=3,v)if(v==1)u=Qq,f=qq,d=9,p=5;else if(v==2){var w=ao(n,l,31)+257,A=ao(n,l+10,15)+4,C=w+ao(n,l+5,31)+1;l+=14;for(var E=new Us(C),P=new Us(19),M=0;M<A;++M)P[Xq[M]]=ao(n,l+M*3,7);l+=A*3;for(var T=BS(P),D=(1<<T)-1,F=ym(P,T,1),M=0;M<C;){var L=F[ao(n,l,D)];l+=L&15;var y=L>>>4;if(y<16)E[M++]=y;else{var N=0,k=0;for(y==16?(k=3+ao(n,l,3),l+=2,N=E[M-1]):y==17?(k=3+ao(n,l,7),l+=3):y==18&&(k=11+ao(n,l,127),l+=7);k--;)E[M++]=N}}var V=E.subarray(0,w),W=E.subarray(w);d=BS(V),p=BS(W),u=ym(V,d,1),f=ym(W,p,1)}else throw"invalid block type";else{var y=Zq(l)+4,_=n[y-4]|n[y-3]<<8,x=y+_;if(x>r){if(s)throw"unexpected EOF";break}i&&o(c+_),e.set(n.subarray(y,x),c),t.b=c+=_,t.p=l=x*8;continue}if(l>g){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var K=(1<<d)-1,H=(1<<p)-1,U=l;;U=l){var N=u[LS(n,l)&K],z=N>>>4;if(l+=N&15,l>g){if(s)throw"unexpected EOF";break}if(!N)throw"invalid length/literal";if(z<256)e[c++]=z;else if(z==256){U=l,u=null;break}else{var G=z-254;if(z>264){var M=z-257,j=IU[M];G=ao(n,l,(1<<j)-1)+NU[M],l+=j}var Z=f[LS(n,l)&H],q=Z>>>4;if(!Z)throw"invalid distance";l+=Z&15;var W=Yq[q];if(q>3){var j=kU[q];W+=LS(n,l)&(1<<j)-1,l+=j}if(l>g){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var re=c+G;c<re;c+=4)e[c]=e[c-W],e[c+1]=e[c+1-W],e[c+2]=e[c+2-W],e[c+3]=e[c+3-W];c=re}}t.l=u,t.p=U,t.b=c,u&&(a=1,t.m=d,t.d=f,t.n=p)}while(!a);return c==e.length?e:eZ(e,0,c)},nZ=new Us(0),rZ=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function iZ(n,e){return tZ((rZ(n),n.subarray(2,-4)),e)}var sZ=typeof TextDecoder<"u"&&new TextDecoder,oZ=0;try{sZ.decode(nZ,{stream:!0}),oZ=1}catch{}function fh(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Au="srgb",La="srgb-linear",PB=3001,aZ=3e3;class oE extends Kr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new dZ(t)}),this.register(function(t){return new hZ(t)}),this.register(function(t){return new SZ(t)}),this.register(function(t){return new AZ(t)}),this.register(function(t){return new bZ(t)}),this.register(function(t){return new mZ(t)}),this.register(function(t){return new gZ(t)}),this.register(function(t){return new vZ(t)}),this.register(function(t){return new yZ(t)}),this.register(function(t){return new fZ(t)}),this.register(function(t){return new _Z(t)}),this.register(function(t){return new pZ(t)}),this.register(function(t){return new wZ(t)}),this.register(function(t){return new xZ(t)}),this.register(function(t){return new cZ(t)}),this.register(function(t){return new MZ(t)}),this.register(function(t){return new CZ(t)})}load(e,t,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=Ba.extractUrlBase(e);o=Ba.resolveURL(c,this.path)}else o=Ba.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ni(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(fh(new Uint8Array(e.slice(0,4)))===zU){try{o[Ut.KHR_BINARY_GLTF]=new EZ(e)}catch(u){i&&i(u);return}s=JSON.parse(o[Ut.KHR_BINARY_GLTF].content)}else s=JSON.parse(fh(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new zZ(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case Ut.KHR_MATERIALS_UNLIT:o[u]=new uZ;break;case Ut.KHR_DRACO_MESH_COMPRESSION:o[u]=new TZ(s,this.dracoLoader);break;case Ut.KHR_TEXTURE_TRANSFORM:o[u]=new PZ;break;case Ut.KHR_MESH_QUANTIZATION:o[u]=new RZ;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function lZ(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Ut={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class cZ{constructor(e){this.parser=e,this.name=Ut.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new He(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],La);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Z_(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new lg(u),c.distance=f;break;case"spot":c=new q_(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,ya(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class uZ{constructor(){this.name=Ut.KHR_MATERIALS_UNLIT}getMaterialType(){return Ri}extendParams(e,t,r){const i=[];e.color=new He(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],La),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Au))}return Promise.all(i)}}class fZ{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class dZ{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ds}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Le(a,a)}return Promise.all(s)}}class hZ{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ds}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class pZ{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ds}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class mZ{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ds}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new He(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],La)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Au)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class gZ{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ds}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class vZ{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ds}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new He().setRGB(a[0],a[1],a[2],La),Promise.all(s)}}class yZ{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ds}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class _Z{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ds}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new He().setRGB(a[0],a[1],a[2],La),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Au)),Promise.all(s)}}class xZ{constructor(e){this.parser=e,this.name=Ut.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ds}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class wZ{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ds}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class SZ{constructor(e){this.parser=e,this.name=Ut.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class AZ{constructor(e){this.parser=e,this.name=Ut.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class bZ{constructor(e){this.parser=e,this.name=Ut.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class MZ{constructor(e){this.name=Ut.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,d=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,d,i.mode,i.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(p),u,f,d,i.mode,i.filter),p})})}else return null}}class CZ{constructor(e){this.name=Ut.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Ds.TRIANGLES&&c.mode!==Ds.TRIANGLE_STRIP&&c.mode!==Ds.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],d=c[0].count,p=[];for(const g of f){const v=new Ze,y=new $,_=new pn,x=new $(1,1,1),w=new DC(g.geometry,g.material,d);for(let A=0;A<d;A++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,A),l.ROTATION&&_.fromBufferAttribute(l.ROTATION,A),l.SCALE&&x.fromBufferAttribute(l.SCALE,A),w.setMatrixAt(A,v.compose(y,_,x));for(const A in l)if(A==="_COLOR_0"){const C=l[A];w.instanceColor=new uc(C.array,C.itemSize,C.normalized)}else A!=="TRANSLATION"&&A!=="ROTATION"&&A!=="SCALE"&&g.geometry.setAttribute(A,l[A]);Rt.prototype.copy.call(w,g),this.parser.assignFinalMaterial(w),p.push(w)}return u.isGroup?(u.clear(),u.add(...p),u):p[0]}))}}const zU="glTF",Up=12,RB={JSON:1313821514,BIN:5130562};class EZ{constructor(e){this.name=Ut.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Up);if(this.header={magic:fh(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==zU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Up,i=new DataView(e,Up);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===RB.JSON){const l=new Uint8Array(e,Up+s,o);this.content=fh(l)}else if(a===RB.BIN){const l=Up+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class TZ{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ut.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=gM[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=gM[u]||u.toLowerCase();if(o[u]!==void 0){const d=r.accessors[e.attributes[u]],p=Wd[d.componentType];c[f]=p.name,l[f]=d.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f,d){i.decodeDracoFile(u,function(p){for(const g in p.attributes){const v=p.attributes[g],y=l[g];y!==void 0&&(v.normalized=y)}f(p)},a,c,La,d)})})}}class PZ{constructor(){this.name=Ut.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class RZ{constructor(){this.name=Ut.KHR_MESH_QUANTIZATION}}class GU extends Lh{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,f=(r-t)/u,d=f*f,p=d*f,g=e*c,v=g-c,y=-2*p+3*d,_=p-d,x=1-y,w=_-d+f;for(let A=0;A!==a;A++){const C=o[v+A+a],E=o[v+A+l]*u,P=o[g+A+a],M=o[g+A]*u;s[A]=x*C+w*E+y*P+_*M}return s}}const DZ=new pn;class BZ extends GU{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return DZ.fromArray(s).normalize().toArray(s),s}}const Ds={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Wd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},DB={9728:Kn,9729:fn,9984:Qm,9985:F_,9986:qm,9987:Za},BB={33071:cr,33648:sh,10497:Jo},IS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},gM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...$q>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Tl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},LZ={CUBICSPLINE:void 0,LINEAR:Ju,STEP:ah},kS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function IZ(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new fc({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Wa})),n.DefaultMaterial}function eu(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function ya(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function kZ(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const d=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(d)}if(i){const d=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(d)}if(s){const d=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],d=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=d),n.morphTargetsRelative=!0,n})}function FZ(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function OZ(n){let e;const t=n.extensions&&n.extensions[Ut.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+FS(t.attributes):e=n.indices+":"+FS(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+FS(n.targets[r]);return e}function FS(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function vM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function NZ(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const UZ=new Ze;class zZ{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new lZ,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new Ih(this.options.manager):this.textureLoader=new YN(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ni(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return eu(s,a,i),ya(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ut.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ba.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=IS[i.type],a=Wd[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new $t(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=IS[i.type],c=Wd[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,d=i.byteOffset||0,p=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,y;if(p&&p!==f){const _=Math.floor(d/p),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+_+":"+i.count;let w=t.cache.get(x);w||(v=new c(a,_*p,i.count*p/u),w=new Ug(v,p/u),t.cache.add(x,w)),y=new cc(w,l,d%p/u,g)}else a===null?v=new c(i.count*l):v=new c(a,d,i.count*l),y=new $t(v,l,g);if(i.sparse!==void 0){const _=IS.SCALAR,x=Wd[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,C=new x(o[1],w,i.sparse.count*_),E=new c(o[2],A,i.sparse.count*l);a!==null&&(y=new $t(y.array.slice(),y.itemSize,y.normalized));for(let P=0,M=C.length;P<M;P++){const T=C[P];if(y.setX(T,E[P*l]),l>=2&&y.setY(T,E[P*l+1]),l>=3&&y.setZ(T,E[P*l+2]),l>=4&&y.setW(T,E[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return u.magFilter=DB[d.magFilter]||fn,u.minFilter=DB[d.minFilter]||Za,u.wrapS=BB[d.wrapS]||Jo,u.wrapT=BB[d.wrapT]||Jo,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const d=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(d,p){let g=d;t.isImageBitmapLoader===!0&&(g=function(v){const y=new on(v);y.needsUpdate=!0,d(y)}),t.load(Ba.resolveURL(f,s.path),g,void 0,p)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),ya(f,o),f.userData.mimeType=o.mimeType||NZ(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Ut.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Ut.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Ut.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===PB?Au:La),"colorSpace"in o?o.colorSpace=i:o.encoding=i===Au?PB:aZ),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new J_,ir.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Br,ir.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return fc}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Ut.KHR_MATERIALS_UNLIT]){const f=i[Ut.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new He(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;a.color.setRGB(d[0],d[1],d[2],La),a.opacity=d[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,Au)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Gs);const u=s.alphaMode||kS.OPAQUE;if(u===kS.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===kS.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ri&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Le(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}if(s.occlusionTexture!==void 0&&o!==Ri&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ri){const f=s.emissiveFactor;a.emissive=new He().setRGB(f[0],f[1],f[2],La)}return s.emissiveTexture!==void 0&&o!==Ri&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Au)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),ya(f,s),t.associations.set(f,{materials:e}),s.extensions&&eu(i,f,s),f})}createUniqueName(e){const t=Lt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Ut.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return LB(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=OZ(c),f=i[u];if(f)o.push(f.promise);else{let d;c.extensions&&c.extensions[Ut.KHR_DRACO_MESH_COMPRESSION]?d=s(c):d=LB(new gt,c,t),i[u]={primitive:c,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?IZ(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let p=0,g=u.length;p<g;p++){const v=u[p],y=o[p];let _;const x=c[p];if(y.mode===Ds.TRIANGLES||y.mode===Ds.TRIANGLE_STRIP||y.mode===Ds.TRIANGLE_FAN||y.mode===void 0)_=s.isSkinnedMesh===!0?new X_(v,x):new On(v,x),_.isSkinnedMesh===!0&&_.normalizeSkinWeights(),y.mode===Ds.TRIANGLE_STRIP?_.geometry=TB(_.geometry,AC):y.mode===Ds.TRIANGLE_FAN&&(_.geometry=TB(_.geometry,D1));else if(y.mode===Ds.LINES)_=new bo(v,x);else if(y.mode===Ds.LINE_STRIP)_=new Ko(v,x);else if(y.mode===Ds.LINE_LOOP)_=new BC(v,x);else if(y.mode===Ds.POINTS)_=new LC(v,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(_.geometry.morphAttributes).length>0&&FZ(_,s),_.name=t.createUniqueName(s.name||"mesh_"+e),ya(_,s),y.extensions&&eu(i,_,y),t.assignFinalMaterial(_),f.push(_)}for(let p=0,g=f.length;p<g;p++)t.associations.set(f[p],{meshes:e,primitives:p});if(f.length===1)return s.extensions&&eu(i,f[0],s),f[0];const d=new ho;s.extensions&&eu(i,d,s),t.associations.set(d,{meshes:e});for(let p=0,g=f.length;p<g;p++)d.add(f[p]);return d})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new nr(Ei.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new sf(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),ya(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const d=new Ze;s!==null&&d.fromArray(s.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Ph(a,l)})}loadAnimation(e){const t=this.json,r=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let f=0,d=i.channels.length;f<d;f++){const p=i.channels[f],g=i.samplers[p.sampler],v=p.target,y=v.node,_=i.parameters!==void 0?i.parameters[g.input]:g.input,x=i.parameters!==void 0?i.parameters[g.output]:g.output;v.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",_)),l.push(this.getDependency("accessor",x)),c.push(g),u.push(v))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(f){const d=f[0],p=f[1],g=f[2],v=f[3],y=f[4],_=[];for(let x=0,w=d.length;x<w;x++){const A=d[x],C=p[x],E=g[x],P=v[x],M=y[x];if(A===void 0)continue;A.updateMatrix&&A.updateMatrix();const T=r._createAnimationTracks(A,C,E,P,M);if(T)for(let D=0;D<T.length;D++)_.push(T[D])}return new Yu(s,void 0,_)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],d=c[2];d!==null&&u.traverse(function(p){p.isSkinnedMesh&&p.bind(d,UZ)});for(let p=0,g=f.length;p<g;p++)u.add(f[p]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new ch:c.length>1?u=new ho:c.length===1?u=c[0]:u=new Rt,u!==c[0])for(let f=0,d=c.length;f<d;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),ya(u,s),s.extensions&&eu(r,u,s),s.matrix!==void 0){const f=new Ze;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new ho;r.name&&(s.name=i.createUniqueName(r.name)),ya(s,r),r.extensions&&eu(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[d,p]of i.associations)(d instanceof ir||d instanceof on)&&f.set(d,p);return u.traverse(d=>{const p=i.associations.get(d);p!=null&&f.set(d,p)}),f};return i.associations=c(s),s})}_createAnimationTracks(e,t,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];Tl[s.path]===Tl.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(a);let c;switch(Tl[s.path]){case Tl.weights:c=dc;break;case Tl.rotation:c=$a;break;case Tl.position:case Tl.scale:c=hc;break;default:switch(r.itemSize){case 1:c=dc;break;case 2:case 3:default:c=hc;break}break}const u=i.interpolation!==void 0?LZ[i.interpolation]:Ju,f=this._getArrayFromAccessor(r);for(let d=0,p=l.length;d<p;d++){const g=new c(l[d]+"."+Tl[s.path],t.array,f,u);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),o.push(g)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=vM(t.constructor),i=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)i[s]=t[s]*r;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof $a?BZ:GU;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function GZ(n,e,t){const r=e.attributes,i=new tl;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new $(l[0],l[1],l[2]),new $(c[0],c[1],c[2])),a.normalized){const u=vM(Wd[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new $,l=new $;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const d=t.json.accessors[f.POSITION],p=d.min,g=d.max;if(p!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(g[2]))),d.normalized){const v=vM(Wd[d.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new nl;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function LB(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=gM[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return ya(n,e),GZ(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?kZ(n,e.targets,t):n})}function HU(n,e,t){const r=t.length-n-1;if(e>=t[r])return r-1;if(e<=t[n])return n;let i=n,s=r,o=Math.floor((i+s)/2);for(;e<t[o]||e>=t[o+1];)e<t[o]?s=o:i=o,o=Math.floor((i+s)/2);return o}function HZ(n,e,t,r){const i=[],s=[],o=[];i[0]=1;for(let a=1;a<=t;++a){s[a]=e-r[n+1-a],o[a]=r[n+a]-e;let l=0;for(let c=0;c<a;++c){const u=o[c+1],f=s[a-c],d=i[c]/(u+f);i[c]=l+u*d,l=f*d}i[a]=l}return i}function VZ(n,e,t,r){const i=HU(n,r,e),s=HZ(i,r,n,e),o=new Pt(0,0,0,0);for(let a=0;a<=n;++a){const l=t[i-n+a],c=s[a],u=l.w*c;o.x+=l.x*u,o.y+=l.y*u,o.z+=l.z*u,o.w+=l.w*c}return o}function WZ(n,e,t,r,i){const s=[];for(let f=0;f<=t;++f)s[f]=0;const o=[];for(let f=0;f<=r;++f)o[f]=s.slice(0);const a=[];for(let f=0;f<=t;++f)a[f]=s.slice(0);a[0][0]=1;const l=s.slice(0),c=s.slice(0);for(let f=1;f<=t;++f){l[f]=e-i[n+1-f],c[f]=i[n+f]-e;let d=0;for(let p=0;p<f;++p){const g=c[p+1],v=l[f-p];a[f][p]=g+v;const y=a[p][f-1]/a[f][p];a[p][f]=d+g*y,d=v*y}a[f][f]=d}for(let f=0;f<=t;++f)o[0][f]=a[f][t];for(let f=0;f<=t;++f){let d=0,p=1;const g=[];for(let v=0;v<=t;++v)g[v]=s.slice(0);g[0][0]=1;for(let v=1;v<=r;++v){let y=0;const _=f-v,x=t-v;f>=v&&(g[p][0]=g[d][0]/a[x+1][_],y=g[p][0]*a[_][x]);const w=_>=-1?1:-_,A=f-1<=x?v-1:t-f;for(let E=w;E<=A;++E)g[p][E]=(g[d][E]-g[d][E-1])/a[x+1][_+E],y+=g[p][E]*a[_+E][x];f<=x&&(g[p][v]=-g[d][v-1]/a[x+1][f],y+=g[p][v]*a[f][x]),o[v][f]=y;const C=d;d=p,p=C}}let u=t;for(let f=1;f<=r;++f){for(let d=0;d<=t;++d)o[f][d]*=u;u*=t-f}return o}function jZ(n,e,t,r,i){const s=i<n?i:n,o=[],a=HU(n,r,e),l=WZ(a,r,n,s,e),c=[];for(let u=0;u<t.length;++u){const f=t[u].clone(),d=f.w;f.x*=d,f.y*=d,f.z*=d,c[u]=f}for(let u=0;u<=s;++u){const f=c[a-n].clone().multiplyScalar(l[u][0]);for(let d=1;d<=n;++d)f.add(c[a-n+d].clone().multiplyScalar(l[u][d]));o[u]=f}for(let u=s+1;u<=i+1;++u)o[u]=new Pt(0,0,0);return o}function $Z(n,e){let t=1;for(let i=2;i<=n;++i)t*=i;let r=1;for(let i=2;i<=e;++i)r*=i;for(let i=2;i<=n-e;++i)r*=i;return t/r}function XZ(n){const e=n.length,t=[],r=[];for(let s=0;s<e;++s){const o=n[s];t[s]=new $(o.x,o.y,o.z),r[s]=o.w}const i=[];for(let s=0;s<e;++s){const o=t[s].clone();for(let a=1;a<=s;++a)o.sub(i[s-a].clone().multiplyScalar($Z(s,a)*r[a]));i[s]=o.divideScalar(r[0])}return i}function JZ(n,e,t,r,i){const s=jZ(n,e,t,r,i);return XZ(s)}class IB extends Qs{constructor(e,t,r,i,s){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=s||this.knots.length-1;for(let o=0;o<r.length;++o){const a=r[o];this.controlPoints[o]=new Pt(a.x,a.y,a.z,a.w)}}getPoint(e,t){const r=t||new $,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),s=VZ(this.degree,this.knots,this.controlPoints,i);return s.w!=1&&s.divideScalar(s.w),r.set(s.x,s.y,s.z)}getTangent(e,t){const r=t||new $,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),s=JZ(this.degree,this.knots,this.controlPoints,i,1);return r.copy(s[1]).normalize(),r}}let Ot,$n,Ai;class aE extends Kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=s.path===""?Ba.extractUrlBase(e):s.path,a=new Ni(this.manager);a.setPath(s.path),a.setResponseType("arraybuffer"),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(l,o))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e,t){if(eee(e))Ot=new ZZ().parse(e);else{const i=$U(e);if(!tee(i))throw new Error("THREE.FBXLoader: Unknown format.");if(FB(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+FB(i));Ot=new qZ().parse(i)}const r=new Ih(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new KZ(r,this.manager).parse(Ot)}}class KZ{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){$n=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),r=this.parseMaterials(t),i=this.parseDeformers(),s=new YZ().parse(i);return this.parseScene(i,s,r),Ai}parseConnections(){const e=new Map;return"Connections"in Ot&&Ot.Connections.connections.forEach(function(r){const i=r[0],s=r[1],o=r[2];e.has(i)||e.set(i,{parents:[],children:[]});const a={ID:s,relationship:o};e.get(i).parents.push(a),e.has(s)||e.set(s,{parents:[],children:[]});const l={ID:i,relationship:o};e.get(s).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in Ot.Objects){const r=Ot.Objects.Video;for(const i in r){const s=r[i],o=parseInt(i);if(e[o]=s.RelativeFilename||s.Filename,"Content"in s){const a=s.Content instanceof ArrayBuffer&&s.Content.byteLength>0,l=typeof s.Content=="string"&&s.Content!=="";if(a||l){const c=this.parseImage(r[i]);t[s.RelativeFilename||s.Filename]=c}}}}for(const r in e){const i=e[r];t[i]!==void 0?e[r]=t[i]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const t=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();let s;switch(i){case"bmp":s="image/bmp";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;case"tif":s="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),s="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof t=="string")return"data:"+s+";base64,"+t;{const o=new Uint8Array(t);return window.URL.createObjectURL(new Blob([o],{type:s}))}}parseTextures(e){const t=new Map;if("Texture"in Ot.Objects){const r=Ot.Objects.Texture;for(const i in r){const s=this.parseTexture(r[i],e);t.set(parseInt(i),s)}}return t}parseTexture(e,t){const r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;const i=e.WrapModeU,s=e.WrapModeV,o=i!==void 0?i.value:0,a=s!==void 0?s.value:0;if(r.wrapS=o===0?Jo:cr,r.wrapT=a===0?Jo:cr,"Scaling"in e){const l=e.Scaling.value;r.repeat.x=l[0],r.repeat.y=l[1]}return r}loadTexture(e,t){let r;const i=this.textureLoader.path,s=$n.get(e.id).children;s!==void 0&&s.length>0&&t[s[0].ID]!==void 0&&(r=t[s[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let o;const a=e.FileName.slice(-3).toLowerCase();if(a==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),o=new on):(l.setPath(this.textureLoader.path),o=l.load(r))}else a==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),o=new on):o=this.textureLoader.load(r);return this.textureLoader.setPath(i),o}parseMaterials(e){const t=new Map;if("Material"in Ot.Objects){const r=Ot.Objects.Material;for(const i in r){const s=this.parseMaterial(r[i],e);s!==null&&t.set(parseInt(i),s)}}return t}parseMaterial(e,t){const r=e.id,i=e.attrName;let s=e.ShadingModel;if(typeof s=="object"&&(s=s.value),!$n.has(r))return null;const o=this.parseParameters(e,t,r);let a;switch(s.toLowerCase()){case"phong":a=new gm;break;case"lambert":a=new GC;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),a=new gm;break}return a.setValues(o),a.name=i,a}parseParameters(e,t,r){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new He().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new He().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new He().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new He().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new He().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new He().fromArray(e.SpecularColor.value));const s=this;return $n.get(r).children.forEach(function(o){const a=o.relationship;switch(a){case"Bump":i.bumpMap=s.getTexture(t,o.ID);break;case"Maya|TEX_ao_map":i.aoMap=s.getTexture(t,o.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=s.getTexture(t,o.ID),i.map!==void 0&&("colorSpace"in i.map?i.map.colorSpace="srgb":i.map.encoding=3001);break;case"DisplacementColor":i.displacementMap=s.getTexture(t,o.ID);break;case"EmissiveColor":i.emissiveMap=s.getTexture(t,o.ID),i.emissiveMap!==void 0&&("colorSpace"in i.emissiveMap?i.emissiveMap.colorSpace="srgb":i.emissiveMap.encoding=3001);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=s.getTexture(t,o.ID);break;case"ReflectionColor":i.envMap=s.getTexture(t,o.ID),i.envMap!==void 0&&(i.envMap.mapping=ih,"colorSpace"in i.envMap?i.envMap.colorSpace="srgb":i.envMap.encoding=3001);break;case"SpecularColor":i.specularMap=s.getTexture(t,o.ID),i.specularMap!==void 0&&("colorSpace"in i.specularMap?i.specularMap.colorSpace="srgb":i.specularMap.encoding=3001);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=s.getTexture(t,o.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),i}getTexture(e,t){return"LayeredTexture"in Ot.Objects&&t in Ot.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=$n.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in Ot.Objects){const r=Ot.Objects.Deformer;for(const i in r){const s=r[i],o=$n.get(parseInt(i));if(s.attrType==="Skin"){const a=this.parseSkeleton(o,r);a.ID=i,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=o.parents[0].ID,e[i]=a}else if(s.attrType==="BlendShape"){const a={id:i};a.rawTargets=this.parseMorphTargets(o,r),a.id=i,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[i]=a}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const r=[];return e.children.forEach(function(i){const s=t[i.ID];if(s.attrType!=="Cluster")return;const o={ID:i.ID,indices:[],weights:[],transformLink:new Ze().fromArray(s.TransformLink.a)};"Indexes"in s&&(o.indices=s.Indexes.a,o.weights=s.Weights.a),r.push(o)}),{rawBones:r,bones:[]}}parseMorphTargets(e,t){const r=[];for(let i=0;i<e.children.length;i++){const s=e.children[i],o=t[s.ID],a={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if(o.attrType!=="BlendShapeChannel")return;a.geoID=$n.get(parseInt(s.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,r.push(a)}return r}parseScene(e,t,r){Ai=new ho;const i=this.parseModels(e.skeletons,t,r),s=Ot.Objects.Model,o=this;i.forEach(function(l){const c=s[l.ID];o.setLookAtProperties(l,c),$n.get(l.ID).parents.forEach(function(f){const d=i.get(f.ID);d!==void 0&&d.add(l)}),l.parent===null&&Ai.add(l)}),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),Ai.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=WU(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const a=new QZ().parse();Ai.children.length===1&&Ai.children[0].isGroup&&(Ai.children[0].animations=a,Ai=Ai.children[0]),Ai.animations=a}parseModels(e,t,r){const i=new Map,s=Ot.Objects.Model;for(const o in s){const a=parseInt(o),l=s[o],c=$n.get(a);let u=this.buildSkeleton(c,e,a,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,r);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new ch;break;case"Null":default:u=new ho;break}u.name=l.attrName?Lt.sanitizeNodeName(l.attrName):"",u.ID=a}this.getTransformData(u,l),i.set(a,u)}return i}buildSkeleton(e,t,r,i){let s=null;return e.parents.forEach(function(o){for(const a in t){const l=t[a];l.rawBones.forEach(function(c,u){if(c.ID===o.ID){const f=s;s=new ch,s.matrixWorld.copy(c.transformLink),s.name=i?Lt.sanitizeNodeName(i):"",s.ID=r,l.bones[u]=s,f!==null&&s.add(f)}})}}),s}createCamera(e){let t,r;if(e.children.forEach(function(i){const s=Ot.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new Rt;else{let i=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(i=1);let s=1;r.NearPlane!==void 0&&(s=r.NearPlane.value/1e3);let o=1e3;r.FarPlane!==void 0&&(o=r.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(a=r.AspectWidth.value,l=r.AspectHeight.value);const c=a/l;let u=45;r.FieldOfView!==void 0&&(u=r.FieldOfView.value);const f=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:t=new nr(u,c,s,o),f!==null&&t.setFocalLength(f);break;case 1:t=new sf(-a/2,a/2,l/2,-l/2,s,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),t=new Rt;break}}return t}createLight(e){let t,r;if(e.children.forEach(function(i){const s=Ot.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new Rt;else{let i;r.LightType===void 0?i=0:i=r.LightType.value;let s=16777215;r.Color!==void 0&&(s=new He().fromArray(r.Color.value));let o=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(o=0);let a=0;r.FarAttenuationEnd!==void 0&&(r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?a=0:a=r.FarAttenuationEnd.value);const l=1;switch(i){case 0:t=new lg(s,o,a,l);break;case 1:t=new Z_(s,o);break;case 2:let c=Math.PI/3;r.InnerAngle!==void 0&&(c=Ei.degToRad(r.InnerAngle.value));let u=0;r.OuterAngle!==void 0&&(u=Ei.degToRad(r.OuterAngle.value),u=Math.max(u,1)),t=new q_(s,o,a,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),t=new lg(s,o);break}r.CastShadows!==void 0&&r.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,r){let i,s=null,o=null;const a=[];return e.children.forEach(function(l){t.has(l.ID)&&(s=t.get(l.ID)),r.has(l.ID)&&a.push(r.get(l.ID))}),a.length>1?o=a:a.length>0?o=a[0]:(o=new gm({color:13421772}),a.push(o)),"color"in s.attributes&&a.forEach(function(l){l.vertexColors=!0}),s.FBX_Deformer?(i=new X_(s,o),i.normalizeSkinWeights()):i=new On(s,o),i}createCurve(e,t){const r=e.children.reduce(function(s,o){return t.has(o.ID)&&(s=t.get(o.ID)),s},null),i=new Br({color:3342591,linewidth:1});return new Ko(r,i)}getTransformData(e,t){const r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?r.eulerOrder=jU(t.RotationOrder.value):r.eulerOrder="ZYX","Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,t){"LookAtProperty"in t&&$n.get(e.ID).children.forEach(function(i){if(i.relationship==="LookAtProperty"){const s=Ot.Objects.Model[i.ID];if("Lcl_Translation"in s){const o=s.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(o),Ai.add(e.target)):e.lookAt(new $().fromArray(o))}}})}bindSkeleton(e,t,r){const i=this.parsePoseNodes();for(const s in e){const o=e[s];$n.get(parseInt(o.ID)).parents.forEach(function(l){if(t.has(l.ID)){const c=l.ID;$n.get(c).parents.forEach(function(f){r.has(f.ID)&&r.get(f.ID).bind(new Ph(o.bones),i[f.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in Ot.Objects){const t=Ot.Objects.Pose;for(const r in t)if(t[r].attrType==="BindPose"&&t[r].NbPoseNodes>0){const i=t[r].PoseNode;Array.isArray(i)?i.forEach(function(s){e[s.Node]=new Ze().fromArray(s.Matrix.a)}):e[i.Node]=new Ze().fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in Ot&&"AmbientColor"in Ot.GlobalSettings){const e=Ot.GlobalSettings.AmbientColor.value,t=e[0],r=e[1],i=e[2];if(t!==0||r!==0||i!==0){const s=new He(t,r,i);Ai.add(new JC(s,1))}}}}class YZ{parse(e){const t=new Map;if("Geometry"in Ot.Objects){const r=Ot.Objects.Geometry;for(const i in r){const s=$n.get(parseInt(i)),o=this.parseGeometry(s,r[i],e);t.set(parseInt(i),o)}}return t}parseGeometry(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,r){const i=r.skeletons,s=[],o=e.parents.map(function(f){return Ot.Objects.Model[f.ID]});if(o.length===0)return;const a=e.children.reduce(function(f,d){return i[d.ID]!==void 0&&(f=i[d.ID]),f},null);e.children.forEach(function(f){r.morphTargets[f.ID]!==void 0&&s.push(r.morphTargets[f.ID])});const l=o[0],c={};"RotationOrder"in l&&(c.eulerOrder=jU(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=WU(c);return this.genGeometry(t,a,s,u)}genGeometry(e,t,r,i){const s=new gt;e.attrName&&(s.name=e.attrName);const o=this.parseGeoNode(e,t),a=this.genBuffers(o),l=new et(a.vertex,3);if(l.applyMatrix4(i),s.setAttribute("position",l),a.colors.length>0&&s.setAttribute("color",new et(a.colors,3)),t&&(s.setAttribute("skinIndex",new U_(a.weightsIndices,4)),s.setAttribute("skinWeight",new et(a.vertexWeights,4)),s.FBX_Deformer=t),a.normal.length>0){const c=new Wr().getNormalMatrix(i),u=new et(a.normal,3);u.applyNormalMatrix(c),s.setAttribute("normal",u)}if(a.uvs.forEach(function(c,u){let f="uv"+(u+1).toString();u===0&&(f="uv"),s.setAttribute(f,new et(a.uvs[u],2))}),o.material&&o.material.mappingType!=="AllSame"){let c=a.materialIndex[0],u=0;if(a.materialIndex.forEach(function(f,d){f!==c&&(s.addGroup(u,d-u,c),c=f,u=d)}),s.groups.length>0){const f=s.groups[s.groups.length-1],d=f.start+f.count;d!==a.materialIndex.length&&s.addGroup(d,a.materialIndex.length-d,c)}s.groups.length===0&&s.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(s,e,r,i),s}parseGeoNode(e,t){const r={};if(r.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],r.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return r.weightTable={},t!==null&&(r.skeleton=t,t.rawBones.forEach(function(i,s){i.indices.forEach(function(o,a){r.weightTable[o]===void 0&&(r.weightTable[o]=[]),r.weightTable[o].push({id:s,weight:i.weights[a]})})})),r}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,i=0,s=!1,o=[],a=[],l=[],c=[],u=[],f=[];const d=this;return e.vertexIndices.forEach(function(p,g){let v,y=!1;p<0&&(p=p^-1,y=!0);let _=[],x=[];if(o.push(p*3,p*3+1,p*3+2),e.color){const w=uy(g,r,p,e.color);l.push(w[0],w[1],w[2])}if(e.skeleton){if(e.weightTable[p]!==void 0&&e.weightTable[p].forEach(function(w){x.push(w.weight),_.push(w.id)}),x.length>4){s||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),s=!0);const w=[0,0,0,0],A=[0,0,0,0];x.forEach(function(C,E){let P=C,M=_[E];A.forEach(function(T,D,F){if(P>T){F[D]=P,P=T;const L=w[D];w[D]=M,M=L}})}),_=w,x=A}for(;x.length<4;)x.push(0),_.push(0);for(let w=0;w<4;++w)u.push(x[w]),f.push(_[w])}if(e.normal){const w=uy(g,r,p,e.normal);a.push(w[0],w[1],w[2])}e.material&&e.material.mappingType!=="AllSame"&&(v=uy(g,r,p,e.material)[0]),e.uv&&e.uv.forEach(function(w,A){const C=uy(g,r,p,w);c[A]===void 0&&(c[A]=[]),c[A].push(C[0]),c[A].push(C[1])}),i++,y&&(d.genFace(t,e,o,v,a,l,c,u,f,i),r++,i=0,o=[],a=[],l=[],c=[],u=[],f=[])}),t}genFace(e,t,r,i,s,o,a,l,c,u){for(let f=2;f<u;f++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[(f-1)*3]]),e.vertex.push(t.vertexPositions[r[(f-1)*3+1]]),e.vertex.push(t.vertexPositions[r[(f-1)*3+2]]),e.vertex.push(t.vertexPositions[r[f*3]]),e.vertex.push(t.vertexPositions[r[f*3+1]]),e.vertex.push(t.vertexPositions[r[f*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(f-1)*4]),e.vertexWeights.push(l[(f-1)*4+1]),e.vertexWeights.push(l[(f-1)*4+2]),e.vertexWeights.push(l[(f-1)*4+3]),e.vertexWeights.push(l[f*4]),e.vertexWeights.push(l[f*4+1]),e.vertexWeights.push(l[f*4+2]),e.vertexWeights.push(l[f*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(f-1)*4]),e.weightsIndices.push(c[(f-1)*4+1]),e.weightsIndices.push(c[(f-1)*4+2]),e.weightsIndices.push(c[(f-1)*4+3]),e.weightsIndices.push(c[f*4]),e.weightsIndices.push(c[f*4+1]),e.weightsIndices.push(c[f*4+2]),e.weightsIndices.push(c[f*4+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[(f-1)*3]),e.colors.push(o[(f-1)*3+1]),e.colors.push(o[(f-1)*3+2]),e.colors.push(o[f*3]),e.colors.push(o[f*3+1]),e.colors.push(o[f*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),t.normal&&(e.normal.push(s[0]),e.normal.push(s[1]),e.normal.push(s[2]),e.normal.push(s[(f-1)*3]),e.normal.push(s[(f-1)*3+1]),e.normal.push(s[(f-1)*3+2]),e.normal.push(s[f*3]),e.normal.push(s[f*3+1]),e.normal.push(s[f*3+2])),t.uv&&t.uv.forEach(function(d,p){e.uvs[p]===void 0&&(e.uvs[p]=[]),e.uvs[p].push(a[p][0]),e.uvs[p].push(a[p][1]),e.uvs[p].push(a[p][(f-1)*2]),e.uvs[p].push(a[p][(f-1)*2+1]),e.uvs[p].push(a[p][f*2]),e.uvs[p].push(a[p][f*2+1])})}addMorphTargets(e,t,r,i){if(r.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const s=this;r.forEach(function(o){o.rawTargets.forEach(function(a){const l=Ot.Objects.Geometry[a.geoID];l!==void 0&&s.genMorphGeometry(e,t,l,i,a.name)})})}genMorphGeometry(e,t,r,i,s){const o=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],a=r.Vertices!==void 0?r.Vertices.a:[],l=r.Indexes!==void 0?r.Indexes.a:[],c=e.attributes.position.count*3,u=new Float32Array(c);for(let g=0;g<l.length;g++){const v=l[g]*3;u[v]=a[g*3],u[v+1]=a[g*3+1],u[v+2]=a[g*3+2]}const f={vertexIndices:o,vertexPositions:u},d=this.genBuffers(f),p=new et(d.vertex,3);p.name=s||r.attrName,p.applyMatrix4(i),e.morphAttributes.position.push(p)}parseNormals(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Normals.a;let s=[];return r==="IndexToDirect"&&("NormalIndex"in e?s=e.NormalIndex.a:"NormalsIndex"in e&&(s=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:s,mappingType:t,referenceType:r}}parseUVs(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.UV.a;let s=[];return r==="IndexToDirect"&&(s=e.UVIndex.a),{dataSize:2,buffer:i,indices:s,mappingType:t,referenceType:r}}parseVertexColors(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Colors.a;let s=[];return r==="IndexToDirect"&&(s=e.ColorIndex.a),{dataSize:4,buffer:i,indices:s,mappingType:t,referenceType:r}}parseMaterialIndices(e){const t=e.MappingInformationType,r=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const i=e.Materials.a,s=[];for(let o=0;o<i.length;++o)s.push(o);return{dataSize:1,buffer:i,indices:s,mappingType:t,referenceType:r}}parseNurbsGeometry(e){if(IB===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new gt;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new gt;const r=t-1,i=e.KnotVector.a,s=[],o=e.Points.a;for(let f=0,d=o.length;f<d;f+=4)s.push(new Pt().fromArray(o,f));let a,l;if(e.Form==="Closed")s.push(s[0]);else if(e.Form==="Periodic"){a=r,l=i.length-1-a;for(let f=0;f<r;++f)s.push(s[f])}const u=new IB(r,i,s,a,l).getPoints(s.length*12);return new gt().setFromPoints(u)}}class QZ{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const r in t){const i=t[r],s=this.addClip(i);e.push(s)}return e}parseClips(){if(Ot.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=Ot.Objects.AnimationCurveNode,t=new Map;for(const r in e){const i=e[r];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const s={id:i.id,attr:i.attrName,curves:{}};t.set(s.id,s)}}return t}parseAnimationCurves(e){const t=Ot.Objects.AnimationCurve;for(const r in t){const i={id:t[r].id,times:t[r].KeyTime.a.map(nee),values:t[r].KeyValueFloat.a},s=$n.get(i.id);if(s!==void 0){const o=s.parents[0].ID,a=s.parents[0].relationship;a.match(/X/)?e.get(o).curves.x=i:a.match(/Y/)?e.get(o).curves.y=i:a.match(/Z/)?e.get(o).curves.z=i:a.match(/d|DeformPercent/)&&e.has(o)&&(e.get(o).curves.morph=i)}}}parseAnimationLayers(e){const t=Ot.Objects.AnimationLayer,r=new Map;for(const i in t){const s=[],o=$n.get(parseInt(i));o!==void 0&&(o.children.forEach(function(l,c){if(e.has(l.ID)){const u=e.get(l.ID);if(u.curves.x!==void 0||u.curves.y!==void 0||u.curves.z!==void 0){if(s[c]===void 0){const f=$n.get(l.ID).parents.filter(function(d){return d.relationship!==void 0})[0].ID;if(f!==void 0){const d=Ot.Objects.Model[f.toString()];if(d===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const p={modelName:d.attrName?Lt.sanitizeNodeName(d.attrName):"",ID:d.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};Ai.traverse(function(g){g.ID===d.id&&(p.transform=g.matrix,g.userData.transformData&&(p.eulerOrder=g.userData.transformData.eulerOrder))}),p.transform||(p.transform=new Ze),"PreRotation"in d&&(p.preRotation=d.PreRotation.value),"PostRotation"in d&&(p.postRotation=d.PostRotation.value),s[c]=p}}s[c]&&(s[c][u.attr]=u)}else if(u.curves.morph!==void 0){if(s[c]===void 0){const f=$n.get(l.ID).parents.filter(function(_){return _.relationship!==void 0})[0].ID,d=$n.get(f).parents[0].ID,p=$n.get(d).parents[0].ID,g=$n.get(p).parents[0].ID,v=Ot.Objects.Model[g],y={modelName:v.attrName?Lt.sanitizeNodeName(v.attrName):"",morphName:Ot.Objects.Deformer[f].attrName};s[c]=y}s[c][u.attr]=u}}}),r.set(parseInt(i),s))}return r}parseAnimStacks(e){const t=Ot.Objects.AnimationStack,r={};for(const i in t){const s=$n.get(parseInt(i)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(s[0].ID);r[i]={name:t[i].attrName,layer:o}}return r}addClip(e){let t=[];const r=this;return e.layer.forEach(function(i){t=t.concat(r.generateTracks(i))}),new Yu(e.name,-1,t)}generateTracks(e){const t=[];let r=new $,i=new pn,s=new $;if(e.transform&&e.transform.decompose(r,i,s),r=r.toArray(),i=new ns().setFromQuaternion(i,e.eulerOrder).toArray(),s=s.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");o!==void 0&&t.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&t.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,s,"scale");o!==void 0&&t.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&t.push(o)}return t}generateVectorTrack(e,t,r,i){const s=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(s,t,r);return new hc(e+"."+i,s,o)}generateRotationTrack(e,t,r,i,s,o){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(Ei.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(Ei.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(Ei.degToRad));const a=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(a,t,r);i!==void 0&&(i=i.map(Ei.degToRad),i.push(o),i=new ns().fromArray(i),i=new pn().setFromEuler(i)),s!==void 0&&(s=s.map(Ei.degToRad),s.push(o),s=new ns().fromArray(s),s=new pn().setFromEuler(s).invert());const c=new pn,u=new ns,f=[];for(let d=0;d<l.length;d+=3)u.set(l[d],l[d+1],l[d+2],o),c.setFromEuler(u),i!==void 0&&c.premultiply(i),s!==void 0&&c.multiply(s),c.toArray(f,d/3*4);return new $a(e+".quaternion",a,f)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,r=t.values.map(function(s){return s/100}),i=Ai.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new dc(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(r,i){return r-i}),t.length>1){let r=1,i=t[0];for(let s=1;s<t.length;s++){const o=t[s];o!==i&&(t[r]=o,i=o,r++)}t=t.slice(0,r)}return t}getKeyframeTrackValues(e,t,r){const i=r,s=[];let o=-1,a=-1,l=-1;return e.forEach(function(c){if(t.x&&(o=t.x.times.indexOf(c)),t.y&&(a=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),o!==-1){const u=t.x.values[o];s.push(u),i[0]=u}else s.push(i[0]);if(a!==-1){const u=t.y.values[a];s.push(u),i[1]=u}else s.push(i[1]);if(l!==-1){const u=t.z.values[l];s.push(u),i[2]=u}else s.push(i[2])}),s}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const r=e.values[t-1],i=e.values[t]-r,s=Math.abs(i);if(s>=180){const o=s/180,a=i/o;let l=r+a;const c=e.times[t-1],f=(e.times[t]-c)/o;let d=c+f;const p=[],g=[];for(;d<e.times[t];)p.push(d),d+=f,g.push(l),l+=a;e.times=OB(e.times,t,p),e.values=OB(e.values,t,g)}}}}class qZ{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new VU,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,r=e.split(/[\r\n]+/);return r.forEach(function(i,s){const o=i.match(/^[\s\t]*;/),a=i.match(/^[\s\t]*$/);if(o||a)return;const l=i.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=i.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=i.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(i,l):c?t.parseNodeProperty(i,c,r[++s]):u?t.popStack():i.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,t){const r=t[1].trim().replace(/^"/,"").replace(/"$/,""),i=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),s={name:r},o=this.parseNodeAttr(i),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,s):r in a?(r==="PoseNode"?a.PoseNode.push(s):a[r].id!==void 0&&(a[r]={},a[r][a[r].id]=a[r]),o.id!==""&&(a[r][o.id]=s)):typeof o.id=="number"?(a[r]={},a[r][o.id]=s):r!=="Properties70"&&(r==="PoseNode"?a[r]=[s]:a[r]=s),typeof o.id=="number"&&(s.id=o.id),o.name!==""&&(s.attrName=o.name),o.type!==""&&(s.attrType=o.type),this.pushStack(s)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let r="",i="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:t,name:r,type:i}}parseNodeProperty(e,t,r){let i=t[1].replace(/^"/,"").replace(/"$/,"").trim(),s=t[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&s===","&&(s=r.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if(o.name==="Properties70"){this.parseNodeSpecialProperty(e,i,s);return}if(i==="C"){const l=s.split(",").slice(1),c=parseInt(l[0]),u=parseInt(l[1]);let f=s.split(",").slice(3);f=f.map(function(d){return d.trim().replace(/^"/,"")}),i="connections",s=[c,u],iee(s,f),o[i]===void 0&&(o[i]=[])}i==="Node"&&(o.id=s),i in o&&Array.isArray(o[i])?o[i].push(s):i!=="a"?o[i]=s:o.a=s,this.setCurrentProp(o,i),i==="a"&&s.slice(-1)!==","&&(o.a=NS(s))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=NS(t.a))}parseNodeSpecialProperty(e,t,r){const i=r.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),s=i[0],o=i[1],a=i[2],l=i[3];let c=i[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=NS(c);break}this.getPrevNode()[s]={type:o,type2:a,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),s)}}class ZZ{parse(e){const t=new kB(e);t.skip(23);const r=t.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const i=new VU;for(;!this.endOfContent(t);){const s=this.parseNode(t,r);s!==null&&i.add(s.name,s)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const r={},i=t>=7500?e.getUint64():e.getUint32(),s=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),a=e.getString(o);if(i===0)return null;const l=[];for(let d=0;d<s;d++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",f=l.length>2?l[2]:"";for(r.singleProperty=s===1&&e.getOffset()===i;i>e.getOffset();){const d=this.parseNode(e,t);d!==null&&this.parseSubNode(a,r,d)}return r.propertyList=l,typeof c=="number"&&(r.id=c),u!==""&&(r.attrName=u),f!==""&&(r.attrType=f),a!==""&&(r.name=a),r}parseSubNode(e,t,r){if(r.singleProperty===!0){const i=r.propertyList[0];Array.isArray(i)?(t[r.name]=r,r.a=i):t[r.name]=i}else if(e==="Connections"&&r.name==="C"){const i=[];r.propertyList.forEach(function(s,o){o!==0&&i.push(s)}),t.connections===void 0&&(t.connections=[]),t.connections.push(i)}else if(r.name==="Properties70")Object.keys(r).forEach(function(s){t[s]=r[s]});else if(e==="Properties70"&&r.name==="P"){let i=r.propertyList[0],s=r.propertyList[1];const o=r.propertyList[2],a=r.propertyList[3];let l;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),s.indexOf("Lcl ")===0&&(s=s.replace("Lcl ","Lcl_")),s==="Color"||s==="ColorRGB"||s==="Vector"||s==="Vector3D"||s.indexOf("Lcl_")===0?l=[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:l=r.propertyList[4],t[i]={type:s,type2:o,flag:a,value:l}}else t[r.name]===void 0?typeof r.id=="number"?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:r.name==="PoseNode"?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):t[r.name][r.id]===void 0&&(t[r.name][r.id]=r)}parseProperty(e){const t=e.getString(1);let r;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),s=e.getUint32(),o=e.getUint32();if(s===0)switch(t){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}const a=iZ(new Uint8Array(e.getArrayBuffer(o))),l=new kB(a.buffer);switch(t){case"b":case"c":return l.getBooleanArray(i);case"d":return l.getFloat64Array(i);case"f":return l.getFloat32Array(i);case"i":return l.getInt32Array(i);case"l":return l.getInt64Array(i)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class kB{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let r=0;r<e;r++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let i=0;i<e;i++)t[i]=this.getUint8();const r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),fh(new Uint8Array(t))}}class VU{add(e,t){this[e]=t}}function eee(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===$U(n,0,e.length)}function tee(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function r(i){const s=n[i-1];return n=n.slice(t+i),t++,s}for(let i=0;i<e.length;++i)if(r(1)===e[i])return!1;return!0}function FB(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function nee(n){return n/46186158e3}const ree=[];function uy(n,e,t,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=n;break;case"ByPolygon":i=e;break;case"ByVertice":i=t;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(i=r.indices[i]);const s=i*r.dataSize,o=s+r.dataSize;return see(ree,r.buffer,s,o)}const OS=new ns,rd=new $;function WU(n){const e=new Ze,t=new Ze,r=new Ze,i=new Ze,s=new Ze,o=new Ze,a=new Ze,l=new Ze,c=new Ze,u=new Ze,f=new Ze,d=new Ze,p=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(rd.fromArray(n.translation)),n.preRotation){const D=n.preRotation.map(Ei.degToRad);D.push(n.eulerOrder),t.makeRotationFromEuler(OS.fromArray(D))}if(n.rotation){const D=n.rotation.map(Ei.degToRad);D.push(n.eulerOrder),r.makeRotationFromEuler(OS.fromArray(D))}if(n.postRotation){const D=n.postRotation.map(Ei.degToRad);D.push(n.eulerOrder),i.makeRotationFromEuler(OS.fromArray(D)),i.invert()}n.scale&&s.scale(rd.fromArray(n.scale)),n.scalingOffset&&a.setPosition(rd.fromArray(n.scalingOffset)),n.scalingPivot&&o.setPosition(rd.fromArray(n.scalingPivot)),n.rotationOffset&&l.setPosition(rd.fromArray(n.rotationOffset)),n.rotationPivot&&c.setPosition(rd.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(f.copy(n.parentMatrix),u.copy(n.parentMatrixWorld));const g=t.clone().multiply(r).multiply(i),v=new Ze;v.extractRotation(u);const y=new Ze;y.copyPosition(u);const _=y.clone().invert().multiply(u),x=v.clone().invert().multiply(_),w=s,A=new Ze;if(p===0)A.copy(v).multiply(g).multiply(x).multiply(w);else if(p===1)A.copy(v).multiply(x).multiply(g).multiply(w);else{const F=new Ze().scale(new $().setFromMatrixScale(f)).clone().invert(),L=x.clone().multiply(F);A.copy(v).multiply(g).multiply(L).multiply(w)}const C=c.clone().invert(),E=o.clone().invert();let P=e.clone().multiply(l).multiply(c).multiply(t).multiply(r).multiply(i).multiply(C).multiply(a).multiply(o).multiply(s).multiply(E);const M=new Ze().copyPosition(P),T=u.clone().multiply(M);return d.copyPosition(T),P=d.clone().multiply(A),P.premultiply(u.invert()),P}function jU(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function NS(n){return n.split(",").map(function(t){return parseFloat(t)})}function $U(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),fh(new Uint8Array(n,e,t))}function iee(n,e){for(let t=0,r=n.length,i=e.length;t<i;t++,r++)n[r]=e[t]}function see(n,e,t,r){for(let i=t,s=0;i<r;i++,s++)n[s]=e[i];return n}function OB(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}const US=new WeakMap;class oee extends Kr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Ni(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(US.has(e)){const l=US.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),US.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new gt;e.index&&t.setIndex(new $t(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new $t(o,a))}return t}_loadLibrary(e,t){const r=new Ni(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=aee.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function aee(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,d=new f.Decoder,p=new f.DecoderBuffer;p.Init(new Int8Array(l),l.byteLength);try{const g=t(f,d,p,c),v=g.attributes.map(y=>y.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(p),f.destroy(d)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let d,p;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)d=new o.Mesh,p=a.DecodeBufferToMesh(l,d);else if(g===o.POINT_CLOUD)d=new o.PointCloud,p=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());const v={index:null,attributes:[]};for(const y in u){const _=self[f[y]];let x,w;if(c.useUniqueIDs)w=u[y],x=a.GetAttributeByUniqueId(d,w);else{if(w=a.GetAttributeId(d,o[u[y]]),w===-1)continue;x=a.GetAttribute(d,w)}v.attributes.push(i(o,a,d,y,_,x))}return g===o.TRIANGULAR_MESH&&(v.index=r(o,a,d)),o.destroy(d),v}function r(o,a,l){const u=l.num_faces()*3,f=u*4,d=o._malloc(f);a.GetTrianglesUInt32Array(l,f,d);const p=new Uint32Array(o.HEAPF32.buffer,d,u).slice();return o._free(d),{array:p,itemSize:1}}function i(o,a,l,c,u,f){const d=f.num_components(),g=l.num_points()*d,v=g*u.BYTES_PER_ELEMENT,y=s(o,u),_=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,f,y,v,_);const x=new u(o.HEAPF32.buffer,_,g).slice();return o._free(_),{name:c,array:x,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let fy;const zS=()=>{if(fy)return fy;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const d=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const v=f.charCodeAt(g);d[g]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let p=0;for(let g=0;g<f.length;++g)d[p++]=d[g]<60?r[d[g]]:(d[g]-60)*64+d[++g];return d.buffer.slice(0,p)}function l(f,d,p,g,v,y){const _=s.exports.sbrk,x=p+3&-4,w=_(x*g),A=_(v.length),C=new Uint8Array(s.exports.memory.buffer);C.set(v,A);const E=f(w,p,g,A,v.length);if(E===0&&y&&y(w,x,g),d.set(C.subarray(w,w+p*g)),_(w-_(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return fy={ready:o,supported:!0,decodeVertexBuffer(f,d,p,g,v){l(s.exports.meshopt_decodeVertexBuffer,f,d,p,g,s.exports[c[v]])},decodeIndexBuffer(f,d,p,g){l(s.exports.meshopt_decodeIndexBuffer,f,d,p,g)},decodeIndexSequence(f,d,p,g){l(s.exports.meshopt_decodeIndexSequence,f,d,p,g)},decodeGltfBuffer(f,d,p,g,v,y){l(s.exports[u[v]],f,d,p,g,s.exports[c[y]])}},fy};function r0(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}function lee(){var n=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!n[o])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(p){if(p instanceof Error)throw p}),d=n[d.id].value),d}),c=r("<"+a+">.init",c),u&&(u=r("<"+a+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:f,getTransferables:u},s(f)}catch(d){d&&d.noLog||console.error(d),s(d)}}function t(i,s){var o,a=i.id,l=i.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=n[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(f){return s(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){s(f)}function u(f){try{var d=n[a].getTransferables&&n[a].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),s(f,d)}catch(p){console.error(p),s(p)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&t(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function cee(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(t).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var XU=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return XU=function(){return n},n},uee=0,fee=0,GS=!1,_m=Object.create(null),xm=Object.create(null),yM=Object.create(null);function kh(n){if((!n||typeof n.init!="function")&&!GS)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId;if(!XU())return cee(n);i==null&&(i="#default");var s="workerModule"+ ++uee,o=n.name||s,a=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(GS=!0,c=kh({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+Zy(c)+`
)}`}),GS=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!a){a=NB(i,"registerModule",l.workerModuleData);var f=function(){a=null,xm[i].delete(f)};(xm[i]||(xm[i]=new Set)).add(f)}return a.then(function(d){var p=d.isCallable;if(p)return NB(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:Zy(t),getTransferables:r&&Zy(r)},l}function dee(n){xm[n]&&xm[n].forEach(function(e){e()}),_m[n]&&(_m[n].terminate(),delete _m[n])}function Zy(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function hee(n){var e=_m[n];if(!e){var t=Zy(lee);e=_m[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=yM[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete yM[s],o(i)}}return e}function NB(n,e,t){return new Promise(function(r,i){var s=++fee;yM[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},hee(n).postMessage({messageId:s,action:e,data:t})})}function JU(){var n=function(e){function t(U,z,G,j,Z,q,re,Q){var ce=1-re;Q.x=ce*ce*U+2*ce*re*G+re*re*Z,Q.y=ce*ce*z+2*ce*re*j+re*re*q}function r(U,z,G,j,Z,q,re,Q,ce,de){var Re=1-ce;de.x=Re*Re*Re*U+3*Re*Re*ce*G+3*Re*ce*ce*Z+ce*ce*ce*re,de.y=Re*Re*Re*z+3*Re*Re*ce*j+3*Re*ce*ce*q+ce*ce*ce*Q}function i(U,z){for(var G=/([MLQCZ])([^MLQCZ]*)/g,j,Z,q,re,Q;j=G.exec(U);){var ce=j[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(de){return parseFloat(de)});switch(j[1]){case"M":re=Z=ce[0],Q=q=ce[1];break;case"L":(ce[0]!==re||ce[1]!==Q)&&z("L",re,Q,re=ce[0],Q=ce[1]);break;case"Q":{z("Q",re,Q,re=ce[2],Q=ce[3],ce[0],ce[1]);break}case"C":{z("C",re,Q,re=ce[4],Q=ce[5],ce[0],ce[1],ce[2],ce[3]);break}case"Z":(re!==Z||Q!==q)&&z("L",re,Q,Z,q);break}}}function s(U,z,G){G===void 0&&(G=16);var j={x:0,y:0};i(U,function(Z,q,re,Q,ce,de,Re,ge,ve){switch(Z){case"L":z(q,re,Q,ce);break;case"Q":{for(var ne=q,oe=re,_e=1;_e<G;_e++)t(q,re,de,Re,Q,ce,_e/(G-1),j),z(ne,oe,j.x,j.y),ne=j.x,oe=j.y;break}case"C":{for(var be=q,xe=re,Ne=1;Ne<G;Ne++)r(q,re,de,Re,ge,ve,Q,ce,Ne/(G-1),j),z(be,xe,j.x,j.y),be=j.x,xe=j.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(U,z){var G=U.getContext?U.getContext("webgl",c):U,j=l.get(G);if(!j){let Re=function(be){var xe=q[be];if(!xe&&(xe=q[be]=G.getExtension(be),!xe))throw new Error(be+" not supported");return xe},ge=function(be,xe){var Ne=G.createShader(xe);return G.shaderSource(Ne,be),G.compileShader(Ne),Ne},ve=function(be,xe,Ne,we){if(!re[be]){var Ie={},Ue={},Ae=G.createProgram();G.attachShader(Ae,ge(xe,G.VERTEX_SHADER)),G.attachShader(Ae,ge(Ne,G.FRAGMENT_SHADER)),G.linkProgram(Ae),re[be]={program:Ae,transaction:function(O){G.useProgram(Ae),O({setUniform:function(ae,Ce){for(var ye=[],Fe=arguments.length-2;Fe-- >0;)ye[Fe]=arguments[Fe+2];var Ee=Ue[Ce]||(Ue[Ce]=G.getUniformLocation(Ae,Ce));G["uniform"+ae].apply(G,[Ee].concat(ye))},setAttribute:function(ae,Ce,ye,Fe,Ee){var pe=Ie[ae];pe||(pe=Ie[ae]={buf:G.createBuffer(),loc:G.getAttribLocation(Ae,ae),data:null}),G.bindBuffer(G.ARRAY_BUFFER,pe.buf),G.vertexAttribPointer(pe.loc,Ce,G.FLOAT,!1,0,0),G.enableVertexAttribArray(pe.loc),Z?G.vertexAttribDivisor(pe.loc,Fe):Re("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(pe.loc,Fe),Ee!==pe.data&&(G.bufferData(G.ARRAY_BUFFER,Ee,ye),pe.data=Ee)}})}}}re[be].transaction(we)},ne=function(be,xe){ce++;try{G.activeTexture(G.TEXTURE0+ce);var Ne=Q[be];Ne||(Ne=Q[be]=G.createTexture(),G.bindTexture(G.TEXTURE_2D,Ne),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.NEAREST),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,G.NEAREST)),G.bindTexture(G.TEXTURE_2D,Ne),xe(Ne,ce)}finally{ce--}},oe=function(be,xe,Ne){var we=G.createFramebuffer();de.push(we),G.bindFramebuffer(G.FRAMEBUFFER,we),G.activeTexture(G.TEXTURE0+xe),G.bindTexture(G.TEXTURE_2D,be),G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,be,0);try{Ne(we)}finally{G.deleteFramebuffer(we),G.bindFramebuffer(G.FRAMEBUFFER,de[--de.length-1]||null)}},_e=function(){q={},re={},Q={},ce=-1,de.length=0};var Z=typeof WebGL2RenderingContext<"u"&&G instanceof WebGL2RenderingContext,q={},re={},Q={},ce=-1,de=[];G.canvas.addEventListener("webglcontextlost",function(be){_e(),be.preventDefault()},!1),l.set(G,j={gl:G,isWebGL2:Z,getExtension:Re,withProgram:ve,withTexture:ne,withTextureFramebuffer:oe,handleContextLoss:_e})}z(j)}function f(U,z,G,j,Z,q,re,Q){re===void 0&&(re=15),Q===void 0&&(Q=null),u(U,function(ce){var de=ce.gl,Re=ce.withProgram,ge=ce.withTexture;ge("copy",function(ve,ne){de.texImage2D(de.TEXTURE_2D,0,de.RGBA,Z,q,0,de.RGBA,de.UNSIGNED_BYTE,z),Re("copy",o,a,function(oe){var _e=oe.setUniform,be=oe.setAttribute;be("aUV",2,de.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),_e("1i","image",ne),de.bindFramebuffer(de.FRAMEBUFFER,Q||null),de.disable(de.BLEND),de.colorMask(re&8,re&4,re&2,re&1),de.viewport(G,j,Z,q),de.scissor(G,j,Z,q),de.drawArrays(de.TRIANGLES,0,3)})})})}function d(U,z,G){var j=U.width,Z=U.height;u(U,function(q){var re=q.gl,Q=new Uint8Array(j*Z*4);re.readPixels(0,0,j,Z,re.RGBA,re.UNSIGNED_BYTE,Q),U.width=z,U.height=G,f(re,Q,0,0,j,Z)})}var p=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function g(U,z,G,j,Z,q){q===void 0&&(q=1);var re=new Uint8Array(U*z),Q=j[2]-j[0],ce=j[3]-j[1],de=[];s(G,function(be,xe,Ne,we){de.push({x1:be,y1:xe,x2:Ne,y2:we,minX:Math.min(be,Ne),minY:Math.min(xe,we),maxX:Math.max(be,Ne),maxY:Math.max(xe,we)})}),de.sort(function(be,xe){return be.maxX-xe.maxX});for(var Re=0;Re<U;Re++)for(var ge=0;ge<z;ge++){var ve=oe(j[0]+Q*(Re+.5)/U,j[1]+ce*(ge+.5)/z),ne=Math.pow(1-Math.abs(ve)/Z,q)/2;ve<0&&(ne=1-ne),ne=Math.max(0,Math.min(255,Math.round(ne*255))),re[ge*U+Re]=ne}return re;function oe(be,xe){for(var Ne=1/0,we=1/0,Ie=de.length;Ie--;){var Ue=de[Ie];if(Ue.maxX+we<=be)break;if(be+we>Ue.minX&&xe-we<Ue.maxY&&xe+we>Ue.minY){var Ae=_(be,xe,Ue.x1,Ue.y1,Ue.x2,Ue.y2);Ae<Ne&&(Ne=Ae,we=Math.sqrt(Ne))}}return _e(be,xe)&&(we=-we),we}function _e(be,xe){for(var Ne=0,we=de.length;we--;){var Ie=de[we];if(Ie.maxX<=be)break;var Ue=Ie.y1>xe!=Ie.y2>xe&&be<(Ie.x2-Ie.x1)*(xe-Ie.y1)/(Ie.y2-Ie.y1)+Ie.x1;Ue&&(Ne+=Ie.y1<Ie.y2?1:-1)}return Ne!==0}}function v(U,z,G,j,Z,q,re,Q,ce,de){q===void 0&&(q=1),Q===void 0&&(Q=0),ce===void 0&&(ce=0),de===void 0&&(de=0),y(U,z,G,j,Z,q,re,null,Q,ce,de)}function y(U,z,G,j,Z,q,re,Q,ce,de,Re){q===void 0&&(q=1),ce===void 0&&(ce=0),de===void 0&&(de=0),Re===void 0&&(Re=0);for(var ge=g(U,z,G,j,Z,q),ve=new Uint8Array(ge.length*4),ne=0;ne<ge.length;ne++)ve[ne*4+Re]=ge[ne];f(re,ve,ce,de,U,z,1<<3-Re,Q)}function _(U,z,G,j,Z,q){var re=Z-G,Q=q-j,ce=re*re+Q*Q,de=ce?Math.max(0,Math.min(1,((U-G)*re+(z-j)*Q)/ce)):0,Re=U-(G+de*re),ge=z-(j+de*Q);return Re*Re+ge*ge}var x=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:v,generateIntoFramebuffer:y}),w="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",A="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",C="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",E=new Float32Array([0,0,2,0,0,2]),P=null,M=!1,T={},D=new WeakMap;function F(U){if(!M&&!V(U))throw new Error("WebGL generation not supported")}function L(U,z,G,j,Z,q,re){if(q===void 0&&(q=1),re===void 0&&(re=null),!re&&(re=P,!re)){var Q=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Q)throw new Error("OffscreenCanvas or DOM canvas not supported");re=P=Q.getContext("webgl",{depth:!1})}F(re);var ce=new Uint8Array(U*z*4);u(re,function(ve){var ne=ve.gl,oe=ve.withTexture,_e=ve.withTextureFramebuffer;oe("readable",function(be,xe){ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,U,z,0,ne.RGBA,ne.UNSIGNED_BYTE,null),_e(be,xe,function(Ne){k(U,z,G,j,Z,q,ne,Ne,0,0,0),ne.readPixels(0,0,U,z,ne.RGBA,ne.UNSIGNED_BYTE,ce)})})});for(var de=new Uint8Array(U*z),Re=0,ge=0;Re<ce.length;Re+=4)de[ge++]=ce[Re];return de}function N(U,z,G,j,Z,q,re,Q,ce,de){q===void 0&&(q=1),Q===void 0&&(Q=0),ce===void 0&&(ce=0),de===void 0&&(de=0),k(U,z,G,j,Z,q,re,null,Q,ce,de)}function k(U,z,G,j,Z,q,re,Q,ce,de,Re){q===void 0&&(q=1),ce===void 0&&(ce=0),de===void 0&&(de=0),Re===void 0&&(Re=0),F(re);var ge=[];s(G,function(ve,ne,oe,_e){ge.push(ve,ne,oe,_e)}),ge=new Float32Array(ge),u(re,function(ve){var ne=ve.gl,oe=ve.isWebGL2,_e=ve.getExtension,be=ve.withProgram,xe=ve.withTexture,Ne=ve.withTextureFramebuffer,we=ve.handleContextLoss;if(xe("rawDistances",function(Ie,Ue){(U!==Ie._lastWidth||z!==Ie._lastHeight)&&ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,Ie._lastWidth=U,Ie._lastHeight=z,0,ne.RGBA,ne.UNSIGNED_BYTE,null),be("main",w,A,function(Ae){var X=Ae.setAttribute,O=Ae.setUniform,ee=!oe&&_e("ANGLE_instanced_arrays"),ae=!oe&&_e("EXT_blend_minmax");X("aUV",2,ne.STATIC_DRAW,0,E),X("aLineSegment",4,ne.DYNAMIC_DRAW,1,ge),O.apply(void 0,["4f","uGlyphBounds"].concat(j)),O("1f","uMaxDistance",Z),O("1f","uExponent",q),Ne(Ie,Ue,function(Ce){ne.enable(ne.BLEND),ne.colorMask(!0,!0,!0,!0),ne.viewport(0,0,U,z),ne.scissor(0,0,U,z),ne.blendFunc(ne.ONE,ne.ONE),ne.blendEquationSeparate(ne.FUNC_ADD,oe?ne.MAX:ae.MAX_EXT),ne.clear(ne.COLOR_BUFFER_BIT),oe?ne.drawArraysInstanced(ne.TRIANGLES,0,3,ge.length/4):ee.drawArraysInstancedANGLE(ne.TRIANGLES,0,3,ge.length/4)})}),be("post",o,C,function(Ae){Ae.setAttribute("aUV",2,ne.STATIC_DRAW,0,E),Ae.setUniform("1i","tex",Ue),ne.bindFramebuffer(ne.FRAMEBUFFER,Q),ne.disable(ne.BLEND),ne.colorMask(Re===0,Re===1,Re===2,Re===3),ne.viewport(ce,de,U,z),ne.scissor(ce,de,U,z),ne.drawArrays(ne.TRIANGLES,0,3)})}),ne.isContextLost())throw we(),new Error("webgl context lost")})}function V(U){var z=!U||U===P?T:U.canvas||U,G=D.get(z);if(G===void 0){M=!0;var j=null;try{var Z=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],q=L(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,U);G=q&&Z.length===q.length&&q.every(function(re,Q){return re===Z[Q]}),G||(j="bad trial run results",console.info(Z,q))}catch(re){G=!1,j=re.message}j&&console.warn("WebGL SDF generation not supported:",j),M=!1,D.set(z,G)}return G}var W=Object.freeze({__proto__:null,generate:L,generateIntoCanvas:N,generateIntoFramebuffer:k,isSupported:V});function K(U,z,G,j,Z,q){Z===void 0&&(Z=Math.max(j[2]-j[0],j[3]-j[1])/2),q===void 0&&(q=1);try{return L.apply(W,arguments)}catch(re){return console.info("WebGL SDF generation failed, falling back to JS",re),g.apply(x,arguments)}}function H(U,z,G,j,Z,q,re,Q,ce,de){Z===void 0&&(Z=Math.max(j[2]-j[0],j[3]-j[1])/2),q===void 0&&(q=1),Q===void 0&&(Q=0),ce===void 0&&(ce=0),de===void 0&&(de=0);try{return N.apply(W,arguments)}catch(Re){return console.info("WebGL SDF generation failed, falling back to JS",Re),v.apply(x,arguments)}}return e.forEachPathCommand=i,e.generate=K,e.generateIntoCanvas=H,e.javascript=x,e.pathToLineSegments=s,e.webgl=W,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function pee(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(we,Ie){r[we]=1<<Ie+1,i[r[we]]=we}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,u=null;function f(){if(!u){u=new Map;var we=function(Ue){if(t.hasOwnProperty(Ue)){var Ae=0;t[Ue].split(",").forEach(function(X){var O=X.split("+"),ee=O[0],ae=O[1];ee=parseInt(ee,36),ae=ae?parseInt(ae,36):0,u.set(Ae+=ee,r[Ue]);for(var Ce=0;Ce<ae;Ce++)u.set(++Ae,r[Ue])})}};for(var Ie in t)we(Ie)}}function d(we){return f(),u.get(we.codePointAt(0))||r.L}function p(we){return i[d(we)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(we,Ie){var Ue=36,Ae=0,X=new Map,O=Ie&&new Map,ee;return we.split(",").forEach(function ae(Ce){if(Ce.indexOf("+")!==-1)for(var ye=+Ce;ye--;)ae(ee);else{ee=Ce;var Fe=Ce.split(">"),Ee=Fe[0],pe=Fe[1];Ee=String.fromCodePoint(Ae+=parseInt(Ee,Ue)),pe=String.fromCodePoint(Ae+=parseInt(pe,Ue)),X.set(Ee,pe),Ie&&O.set(pe,Ee)}}),{map:X,reverseMap:O}}var y,_,x;function w(){if(!y){var we=v(g.pairs,!0),Ie=we.map,Ue=we.reverseMap;y=Ie,_=Ue,x=v(g.canonical,!1).map}}function A(we){return w(),y.get(we)||null}function C(we){return w(),_.get(we)||null}function E(we){return w(),x.get(we)||null}var P=r.L,M=r.R,T=r.EN,D=r.ES,F=r.ET,L=r.AN,N=r.CS,k=r.B,V=r.S,W=r.ON,K=r.BN,H=r.NSM,U=r.AL,z=r.LRO,G=r.RLO,j=r.LRE,Z=r.RLE,q=r.PDF,re=r.LRI,Q=r.RLI,ce=r.FSI,de=r.PDI;function Re(we,Ie){for(var Ue=125,Ae=new Uint32Array(we.length),X=0;X<we.length;X++)Ae[X]=d(we[X]);var O=new Map;function ee(gr,ii){var Gn=Ae[gr];Ae[gr]=ii,O.set(Gn,O.get(Gn)-1),Gn&a&&O.set(a,O.get(a)-1),O.set(ii,(O.get(ii)||0)+1),ii&a&&O.set(a,(O.get(a)||0)+1)}for(var ae=new Uint8Array(we.length),Ce=new Map,ye=[],Fe=null,Ee=0;Ee<we.length;Ee++)Fe||ye.push(Fe={start:Ee,end:we.length-1,level:Ie==="rtl"?1:Ie==="ltr"?0:Sf(Ee,!1)}),Ae[Ee]&k&&(Fe.end=Ee,Fe=null);for(var pe=Z|j|G|z|s|de|q|k,je=function(gr){return gr+(gr&1?1:2)},Xe=function(gr){return gr+(gr&1?2:1)},Oe=0;Oe<ye.length;Oe++){Fe=ye[Oe];var ze=[{_level:Fe.level,_override:0,_isolate:0}],ke=void 0,it=0,at=0,It=0;O.clear();for(var ie=Fe.start;ie<=Fe.end;ie++){var fe=Ae[ie];if(ke=ze[ze.length-1],O.set(fe,(O.get(fe)||0)+1),fe&a&&O.set(a,(O.get(a)||0)+1),fe&pe)if(fe&(Z|j)){ae[ie]=ke._level;var Be=(fe===Z?Xe:je)(ke._level);Be<=Ue&&!it&&!at?ze.push({_level:Be,_override:0,_isolate:0}):it||at++}else if(fe&(G|z)){ae[ie]=ke._level;var Je=(fe===G?Xe:je)(ke._level);Je<=Ue&&!it&&!at?ze.push({_level:Je,_override:fe&G?M:P,_isolate:0}):it||at++}else if(fe&s){fe&ce&&(fe=Sf(ie+1,!0)===1?Q:re),ae[ie]=ke._level,ke._override&&ee(ie,ke._override);var We=(fe===Q?Xe:je)(ke._level);We<=Ue&&it===0&&at===0?(It++,ze.push({_level:We,_override:0,_isolate:1,_isolInitIndex:ie})):it++}else if(fe&de){if(it>0)it--;else if(It>0){for(at=0;!ze[ze.length-1]._isolate;)ze.pop();var Qe=ze[ze.length-1]._isolInitIndex;Qe!=null&&(Ce.set(Qe,ie),Ce.set(ie,Qe)),ze.pop(),It--}ke=ze[ze.length-1],ae[ie]=ke._level,ke._override&&ee(ie,ke._override)}else fe&q?(it===0&&(at>0?at--:!ke._isolate&&ze.length>1&&(ze.pop(),ke=ze[ze.length-1])),ae[ie]=ke._level):fe&k&&(ae[ie]=Fe.level);else ae[ie]=ke._level,ke._override&&fe!==K&&ee(ie,ke._override)}for(var St=[],_t=null,ct=Fe.start;ct<=Fe.end;ct++){var ut=Ae[ct];if(!(ut&l)){var Qt=ae[ct],Jt=ut&s,mn=ut===de;_t&&Qt===_t._level?(_t._end=ct,_t._endsWithIsolInit=Jt):St.push(_t={_start:ct,_end:ct,_level:Qt,_startsWithPDI:mn,_endsWithIsolInit:Jt})}}for(var Qr=[],zi=0;zi<St.length;zi++){var qr=St[zi];if(!qr._startsWithPDI||qr._startsWithPDI&&!Ce.has(qr._start)){for(var J=[_t=qr],he=void 0;_t&&_t._endsWithIsolInit&&(he=Ce.get(_t._end))!=null;)for(var Me=zi+1;Me<St.length;Me++)if(St[Me]._start===he){J.push(_t=St[Me]);break}for(var ue=[],De=0;De<J.length;De++)for(var lt=J[De],ht=lt._start;ht<=lt._end;ht++)ue.push(ht);for(var At=ae[ue[0]],yt=Fe.level,Dt=ue[0]-1;Dt>=0;Dt--)if(!(Ae[Dt]&l)){yt=ae[Dt];break}var bt=ue[ue.length-1],kt=ae[bt],en=Fe.level;if(!(Ae[bt]&s)){for(var yi=bt+1;yi<=Fe.end;yi++)if(!(Ae[yi]&l)){en=ae[yi];break}}Qr.push({_seqIndices:ue,_sosType:Math.max(yt,At)%2?M:P,_eosType:Math.max(en,kt)%2?M:P})}}for(var ps=0;ps<Qr.length;ps++){var ms=Qr[ps],qe=ms._seqIndices,Mt=ms._sosType,gs=ms._eosType,Kt=ae[qe[0]]&1?M:P;if(O.get(H))for(var sr=0;sr<qe.length;sr++){var Zr=qe[sr];if(Ae[Zr]&H){for(var Lr=Mt,br=sr-1;br>=0;br--)if(!(Ae[qe[br]]&l)){Lr=Ae[qe[br]];break}ee(Zr,Lr&(s|de)?W:Lr)}}if(O.get(T))for(var vt=0;vt<qe.length;vt++){var Ft=qe[vt];if(Ae[Ft]&T)for(var Mr=vt-1;Mr>=-1;Mr--){var Ht=Mr===-1?Mt:Ae[qe[Mr]];if(Ht&o){Ht===U&&ee(Ft,L);break}}}if(O.get(U))for(var Bn=0;Bn<qe.length;Bn++){var vs=qe[Bn];Ae[vs]&U&&ee(vs,M)}if(O.get(D)||O.get(N))for(var ei=1;ei<qe.length-1;ei++){var pr=qe[ei];if(Ae[pr]&(D|N)){for(var Zs=0,gf=0,vf=ei-1;vf>=0&&(Zs=Ae[qe[vf]],!!(Zs&l));vf--);for(var al=ei+1;al<qe.length&&(gf=Ae[qe[al]],!!(gf&l));al++);Zs===gf&&(Ae[pr]===D?Zs===T:Zs&(T|L))&&ee(pr,Zs)}}if(O.get(T))for(var Gi=0;Gi<qe.length;Gi++){var Hi=qe[Gi];if(Ae[Hi]&T){for(var yf=Gi-1;yf>=0&&Ae[qe[yf]]&(F|l);yf--)ee(qe[yf],T);for(Gi++;Gi<qe.length&&Ae[qe[Gi]]&(F|l|T);Gi++)Ae[qe[Gi]]!==T&&ee(qe[Gi],T)}}if(O.get(F)||O.get(D)||O.get(N))for(var Pc=0;Pc<qe.length;Pc++){var p0=qe[Pc];if(Ae[p0]&(F|D|N)){ee(p0,W);for(var Zo=Pc-1;Zo>=0&&Ae[qe[Zo]]&l;Zo--)ee(qe[Zo],W);for(var ea=Pc+1;ea<qe.length&&Ae[qe[ea]]&l;ea++)ee(qe[ea],W)}}if(O.get(T))for(var ta=0,Rc=Mt;ta<qe.length;ta++){var m0=qe[ta],Vh=Ae[m0];Vh&T?Rc===P&&ee(m0,P):Vh&o&&(Rc=Vh)}if(O.get(a)){var na=M|T|L,_f=na|P,To=[];{for(var ll=[],Po=0;Po<qe.length;Po++)if(Ae[qe[Po]]&a){var Bt=we[qe[Po]],Wh=void 0;if(A(Bt)!==null)if(ll.length<63)ll.push({char:Bt,seqIndex:Po});else break;else if((Wh=C(Bt))!==null)for(var ra=ll.length-1;ra>=0;ra--){var xf=ll[ra].char;if(xf===Wh||xf===C(E(Bt))||A(E(xf))===Bt){To.push([ll[ra].seqIndex,Po]),ll.length=ra;break}}}To.sort(function(gr,ii){return gr[0]-ii[0]})}for(var jh=0;jh<To.length;jh++){for(var g0=To[jh],xn=g0[0],Dc=g0[1],v0=!1,ti=0,$h=xn+1;$h<Dc;$h++){var Bc=qe[$h];if(Ae[Bc]&_f){v0=!0;var Vi=Ae[Bc]&na?M:P;if(Vi===Kt){ti=Vi;break}}}if(v0&&!ti){ti=Mt;for(var Xh=xn-1;Xh>=0;Xh--){var y0=qe[Xh];if(Ae[y0]&_f){var Wi=Ae[y0]&na?M:P;Wi!==Kt?ti=Wi:ti=Kt;break}}}if(ti){if(Ae[qe[xn]]=Ae[qe[Dc]]=ti,ti!==Kt){for(var ni=xn+1;ni<qe.length;ni++)if(!(Ae[qe[ni]]&l)){d(we[qe[ni]])&H&&(Ae[qe[ni]]=ti);break}}if(ti!==Kt){for(var Ro=Dc+1;Ro<qe.length;Ro++)if(!(Ae[qe[Ro]]&l)){d(we[qe[Ro]])&H&&(Ae[qe[Ro]]=ti);break}}}}for(var ys=0;ys<qe.length;ys++)if(Ae[qe[ys]]&a){for(var Jh=ys,Kh=ys,_i=Mt,Lc=ys-1;Lc>=0;Lc--)if(Ae[qe[Lc]]&l)Jh=Lc;else{_i=Ae[qe[Lc]]&na?M:P;break}for(var Ic=gs,kc=ys+1;kc<qe.length;kc++)if(Ae[qe[kc]]&(a|l))Kh=kc;else{Ic=Ae[qe[kc]]&na?M:P;break}for(var ri=Jh;ri<=Kh;ri++)Ae[qe[ri]]=_i===Ic?_i:Kt;ys=Kh}}}for(var mr=Fe.start;mr<=Fe.end;mr++){var wf=ae[mr],eo=Ae[mr];if(wf&1?eo&(P|T|L)&&ae[mr]++:eo&M?ae[mr]++:eo&(L|T)&&(ae[mr]+=2),eo&l&&(ae[mr]=mr===0?Fe.level:ae[mr-1]),mr===Fe.end||d(we[mr])&(V|k))for(var cl=mr;cl>=0&&d(we[cl])&c;cl--)ae[cl]=Fe.level}}return{levels:ae,paragraphs:ye};function Sf(gr,ii){for(var Gn=gr;Gn<we.length;Gn++){var Hn=Ae[Gn];if(Hn&(M|U))return 1;if(Hn&(k|P)||ii&&Hn===de)return 0;if(Hn&s){var ji=_0(Gn);Gn=ji===-1?we.length:ji}}return 0}function _0(gr){for(var ii=1,Gn=gr+1;Gn<we.length;Gn++){var Hn=Ae[Gn];if(Hn&k)break;if(Hn&de){if(--ii===0)return Gn}else Hn&s&&ii++}return-1}}var ge="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ve;function ne(){if(!ve){var we=v(ge,!0),Ie=we.map,Ue=we.reverseMap;Ue.forEach(function(Ae,X){Ie.set(X,Ae)}),ve=Ie}}function oe(we){return ne(),ve.get(we)||null}function _e(we,Ie,Ue,Ae){var X=we.length;Ue=Math.max(0,Ue==null?0:+Ue),Ae=Math.min(X-1,Ae==null?X-1:+Ae);for(var O=new Map,ee=Ue;ee<=Ae;ee++)if(Ie[ee]&1){var ae=oe(we[ee]);ae!==null&&O.set(ee,ae)}return O}function be(we,Ie,Ue,Ae){var X=we.length;Ue=Math.max(0,Ue==null?0:+Ue),Ae=Math.min(X-1,Ae==null?X-1:+Ae);var O=[];return Ie.paragraphs.forEach(function(ee){var ae=Math.max(Ue,ee.start),Ce=Math.min(Ae,ee.end);if(ae<Ce){for(var ye=Ie.levels.slice(ae,Ce+1),Fe=Ce;Fe>=ae&&d(we[Fe])&c;Fe--)ye[Fe]=ee.level;for(var Ee=ee.level,pe=1/0,je=0;je<ye.length;je++){var Xe=ye[je];Xe>Ee&&(Ee=Xe),Xe<pe&&(pe=Xe|1)}for(var Oe=Ee;Oe>=pe;Oe--)for(var ze=0;ze<ye.length;ze++)if(ye[ze]>=Oe){for(var ke=ze;ze+1<ye.length&&ye[ze+1]>=Oe;)ze++;ze>ke&&O.push([ke+ae,ze+ae])}}}),O}function xe(we,Ie,Ue,Ae){var X=Ne(we,Ie,Ue,Ae),O=[].concat(we);return X.forEach(function(ee,ae){O[ae]=(Ie.levels[ee]&1?oe(we[ee]):null)||we[ee]}),O.join("")}function Ne(we,Ie,Ue,Ae){for(var X=be(we,Ie,Ue,Ae),O=[],ee=0;ee<we.length;ee++)O[ee]=ee;return X.forEach(function(ae){for(var Ce=ae[0],ye=ae[1],Fe=O.slice(Ce,ye+1),Ee=Fe.length;Ee--;)O[ye-Ee]=Fe[Ee]}),O}return e.closingToOpeningBracket=C,e.getBidiCharType=d,e.getBidiCharTypeName=p,e.getCanonicalBracket=E,e.getEmbeddingLevels=Re,e.getMirroredCharacter=oe,e.getMirroredCharactersMap=_e,e.getReorderSegments=be,e.getReorderedIndices=Ne,e.getReorderedString=xe,e.openingToClosingBracket=A,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const KU=/\bvoid\s+main\s*\(\s*\)\s*{/g;function _M(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let s=Ct[i];return s?_M(s):r}return n.replace(e,t)}const Er=[];for(let n=0;n<256;n++)Er[n]=(n<16?"0":"")+n.toString(16);function mee(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Er[n&255]+Er[n>>8&255]+Er[n>>16&255]+Er[n>>24&255]+"-"+Er[e&255]+Er[e>>8&255]+"-"+Er[e>>16&15|64]+Er[e>>24&255]+"-"+Er[t&63|128]+Er[t>>8&255]+"-"+Er[t>>16&255]+Er[t>>24&255]+Er[r&255]+Er[r>>8&255]+Er[r>>16&255]+Er[r>>24&255]).toUpperCase()}const tu=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},gee=Date.now(),UB=new WeakMap,zB=new Map;let vee=1e10;function xM(n,e){const t=wee(e);let r=UB.get(n);if(r||UB.set(n,r=Object.create(null)),r[t])return new r[t];const i=`_onBeforeCompile${t}`,s=function(c,u){n.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=zB[f];if(!d){const p=yee(this,c,e,t);d=zB[f]=p}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,tu(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-gee}}),this[i]&&this[i](c)},o=function(){return a(e.chained?n:n.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:n}),Object.defineProperty(u,"id",{value:vee++}),u.uuid=mee(),u.uniforms=tu({},c.uniforms,e.uniforms),u.defines=tu({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=tu({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(tu(this.extensions,c.extensions),tu(this.defines,c.defines),tu(this.uniforms,z_.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=xM(n.isDerivedMaterial?n.getDepthMaterial():new V_({depthPacking:bC}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=xM(n.isDerivedMaterial?n.getDistanceMaterial():new W_,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),n.dispose.call(this)}}};return r[t]=o,new o}function yee(n,{vertexShader:e,fragmentShader:t},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:p,timeUniform:g}=r;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",f=f||"",(l||p)&&(e=_M(e)),(d||p)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=_M(t)),p){let v=p({vertexShader:e,fragmentShader:t});e=v.vertexShader,t=v.fragmentShader}if(d){let v=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(v.push(y),"")),f=`${d}
${v.join(`
`)}
${f}`}if(g){const v=`
uniform float ${g};
`;s=v+s,c=v+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(v,y,_,x)=>/\battribute\s+vec[23]\s+$/.test(x.substr(0,_))?y:`troika_${y}_${i}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=GB(e,i,s,o,a),t=GB(t,i,c,u,f),{vertexShader:e,fragmentShader:t}}function GB(n,e,t,r,i){return(r||i||t)&&(n=n.replace(KU,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function _ee(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let xee=0;const HB=new Map;function wee(n){const e=JSON.stringify(n,_ee);let t=HB.get(e);return t==null&&HB.set(e,t=++xee),t}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function See(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var f=s.readUint(o,a);a+=4,c.push(e._readFont(o,f))}return c}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:i,_offset:a},f={},d=0;d<l;d++){var p=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var g=o.readUint(i,s);s+=4;var v=o.readUint(i,s);s+=4,f[p]={offset:g,length:v}}for(d=0;d<c.length;d++){var y=c[d];f[y]&&(u[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,u))}return u},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),c=o+12,u=0;u<l;u++){var f=a.readASCII(i,c,4);c+=4,a.readUint(i,c),c+=4;var d=a.readUint(i,c);if(c+=4,a.readUint(i,c),c+=4,f==s)return d}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var c=i[s++]<<8|i[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var c=e._bin,u={},f=s;c.readFixed(i,s),s+=4;var d=c.readUshort(i,s);s+=2;var p=c.readUshort(i,s);s+=2;var g=c.readUshort(i,s);return s+=2,u.scriptList=e._lctf.readScriptList(i,f+d),u.featureList=e._lctf.readFeatureList(i,f+p),u.lookupList=e._lctf.readLookupList(i,f+g,l),u},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=a.readUshort(i,s);s+=2;var p=e._lctf.readLookupTable(i,l+d,o);c.push(p)}return c},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(i,s),s+=2,c.flag=a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;for(var f=c.ltype,d=0;d<u;d++){var p=a.readUshort(i,s);s+=2;var g=o(i,f,l+p,c);c.tabs.push(g)}return c},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var c=o.readUshort(i,s);s+=2;var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++)a.push(c+f),a.push(c+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var d=o.readUshort(i,s);for(s+=2,f=0;f<d;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2;var p=e._lctf.readFeatureTable(i,a+d);p.tag=f.trim(),l.push(p)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+d)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.default=e._lctf.readLangSysTable(i,a+c));var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readLangSysTable(i,a+p)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(i,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var d=[];for(u=0;u<f.length-1;u++)d.push(e.CFF.readDict(i,s+f[u],s+f[u+1]));s+=f[f.length-1];var p=d[0],g=[];s=e.CFF.readIndex(i,s,g);var v=[];for(u=0;u<g.length-1;u++)v.push(a.readASCII(i,s+g[u],g[u+1]-g[u]));if(s+=g[g.length-1],e.CFF.readSubrs(i,s,p),p.CharStrings){s=p.CharStrings,g=[],s=e.CFF.readIndex(i,s,g);var y=[];for(u=0;u<g.length-1;u++)y.push(a.readBytes(i,s+g[u],g[u+1]-g[u]));p.CharStrings=y}if(p.ROS){s=p.FDArray;var _=[];for(s=e.CFF.readIndex(i,s,_),p.FDArray=[],u=0;u<_.length-1;u++){var x=e.CFF.readDict(i,s+_[u],s+_[u+1]);e.CFF._readFDict(i,x,v),p.FDArray.push(x)}s+=_[_.length-1],s=p.FDSelect,p.FDSelect=[];var w=i[s];if(s++,w!=3)throw w;var A=a.readUshort(i,s);for(s+=2,u=0;u<A+1;u++)p.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(i,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(i,p.charset,p.CharStrings.length)),e.CFF._readFDict(i,p,v),p},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var u=0;u<c;u++)a.push(i[s+u]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var u=0;u<o;u++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var d=0;for(c==1?(d=i[s],s++):(d=a.readUshort(i,s),s+=2),u=0;u<=d;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(i[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(i,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(i,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var u=1,f=null,d=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(d=a.readShort(i,s+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(d=l-139,u=1),247<=l&&l<=250&&(d=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(d=256*-(l-251)-c-108,u=2),l==255&&(d=a.readInt(i,s+1)/65535,u=5),o.val=d??"o"+f,o.size=u},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,p=null,g=null;u<=20&&(p=u,d=1),u==12&&(p=100*u+f,d=2),u!=19&&u!=20||(p=u,d=2),21<=u&&u<=27&&(p=u,d=1),u==28&&(g=l.readShort(i,s+1),d=3),29<=u&&u<=31&&(p=u,d=1),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255&&(g=l.readInt(i,s+1)/65535,d=5),c.push(g??"o"+p),s+=d}return c},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,p=null,g=null;if(u==28&&(g=a.readShort(i,s+1),d=3),u==29&&(g=a.readInt(i,s+1),d=5),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255)throw g=a.readInt(i,s+1)/65535,d=5,"unknown number";if(u==30){var v=[];for(d=1;;){var y=i[s+d];d++;var _=y>>4,x=15&y;if(_!=15&&v.push(_),x!=15&&v.push(x),x==15)break}for(var w="",A=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],C=0;C<v.length;C++)w+=A[v[C]];g=parseFloat(w)}u<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),p!=null?(l[p]=c.length==1?c[0]:c,c=[]):c.push(g),s+=d}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var d=a.readUshort(i,s);s+=2;var p=a.readUshort(i,s);s+=2;var g=a.readUint(i,s);s+=4;var v="p"+d+"e"+p,y=u.indexOf(g);if(y==-1){var _;y=l.tables.length,u.push(g);var x=a.readUshort(i,g);x==0?_=e.cmap.parse0(i,g):x==4?_=e.cmap.parse4(i,g):x==6?_=e.cmap.parse6(i,g):x==12?_=e.cmap.parse12(i,g):console.debug("unknown format: "+x,d,p,g),l.tables.push(_)}if(l[v]!=null)throw"multiple tables for one platform+encoding";l[v]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(i[s+c]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2;var f=u/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,f=o.readUint(i,u+0),d=o.readUint(i,u+4),p=o.readUint(i,u+8);a.groups.push([f,d,p])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;c.instructions=o.readBytes(a,l,f),l+=f;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var p=a[l];if(l++,c.flags.push(p),(8&p)!=0){var g=a[l];l++;for(var v=0;v<g;v++)c.flags.push(p),u++}}for(c.xs=[],u=0;u<d;u++){var y=(2&c.flags[u])!=0,_=(16&c.flags[u])!=0;y?(c.xs.push(_?a[l]:-a[l]),l++):_?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<d;u++)y=(4&c.flags[u])!=0,_=(32&c.flags[u])!=0,y?(c.ys.push(_?a[l]:-a[l]),l++):_?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var x=0,w=0;for(u=0;u<d;u++)x+=c.xs[u],w+=c.ys[u],c.xs[u]=x,c.ys[u]=w}else{var A;c.parts=[];do{A=o.readUshort(a,l),l+=2;var C={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(C),C.glyphIndex=o.readUshort(a,l),l+=2,1&A){var E=o.readShort(a,l);l+=2;var P=o.readShort(a,l);l+=2}else E=o.readInt8(a,l),l++,P=o.readInt8(a,l),l++;2&A?(C.m.tx=E,C.m.ty=P):(C.p1=E,C.p2=P),8&A?(C.m.a=C.m.d=o.readF2dot14(a,l),l+=2):64&A?(C.m.a=o.readF2dot14(a,l),l+=2,C.m.d=o.readF2dot14(a,l),l+=2):128&A&&(C.m.a=o.readF2dot14(a,l),l+=2,C.m.b=o.readF2dot14(a,l),l+=2,C.m.c=o.readF2dot14(a,l),l+=2,C.m.d=o.readF2dot14(a,l),l+=2)}while(32&A);if(256&A){var M=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<M;u++)c.instr.push(a[l]),l++}}return c},e.GDEF={},e.GDEF.parse=function(i,s,o,a){var l=s;s+=4;var c=e._bin.readUshort(i,s);return{glyphClassDef:c===0?null:e._lctf.readClassDef(i,l+c)}},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(s==1&&u.fmt==1){var d=l.readUshort(i,o);o+=2,d!=0&&(u.pos=e.GPOS.readValueRecord(i,o,d))}else if(s==2&&u.fmt>=1&&u.fmt<=2){d=l.readUshort(i,o),o+=2;var p=l.readUshort(i,o);o+=2;var g=e._lctf.numOfOnes(d),v=e._lctf.numOfOnes(p);if(u.fmt==1){u.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var _=0;_<y;_++){var x=c+l.readUshort(i,o);o+=2;var w=l.readUshort(i,x);x+=2;for(var A=[],C=0;C<w;C++){var E=l.readUshort(i,x);x+=2,d!=0&&(L=e.GPOS.readValueRecord(i,x,d),x+=2*g),p!=0&&(N=e.GPOS.readValueRecord(i,x,p),x+=2*v),A.push({gid2:E,val1:L,val2:N})}u.pairsets.push(A)}}if(u.fmt==2){var P=l.readUshort(i,o);o+=2;var M=l.readUshort(i,o);o+=2;var T=l.readUshort(i,o);o+=2;var D=l.readUshort(i,o);for(o+=2,u.classDef1=e._lctf.readClassDef(i,c+P),u.classDef2=e._lctf.readClassDef(i,c+M),u.matrix=[],_=0;_<T;_++){var F=[];for(C=0;C<D;C++){var L=null,N=null;d!=0&&(L=e.GPOS.readValueRecord(i,o,d),o+=2*g),p!=0&&(N=e.GPOS.readValueRecord(i,o,p),o+=2*v),F.push({val1:L,val2:N})}u.matrix.push(F)}}}else if(s==4&&u.fmt==1)u.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,o)+c),u.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+c),u.markClassCount=l.readUshort(i,o+4),u.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+c),u.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+c,u.markClassCount);else if(s==6&&u.fmt==1)u.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,o)+c),u.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+c),u.markClassCount=l.readUshort(i,o+4),u.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+c),u.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+c,u.markClassCount);else{if(s==9&&u.fmt==1){var k=l.readUshort(i,o);o+=2;var V=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=k;else if(a.ltype!=k)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,c+V)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GPOS.readBaseArray=function(i,s,o){var a=e._bin,l=[],c=s,u=a.readUshort(i,s);s+=2;for(var f=0;f<u;f++){for(var d=[],p=0;p<o;p++)d.push(e.GPOS.readAnchorRecord(i,c+a.readUshort(i,s))),s+=2;l.push(d)}return l},e.GPOS.readMarkArray=function(i,s){var o=e._bin,a=[],l=s,c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=e.GPOS.readAnchorRecord(i,o.readUshort(i,s+2)+l);f.markClass=o.readUshort(i,s),a.push(f),s+=4}return a},e.GPOS.readAnchorRecord=function(i,s){var o=e._bin,a={};return a.fmt=o.readUshort(i,s),a.x=o.readShort(i,s+2),a.y=o.readShort(i,s+4),a},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,o),o+=2;else if(u.fmt==2){var d=l.readUshort(i,o);o+=2,u.newg=l.readUshorts(i,o,d),o+=2*u.newg.length}}else if(s==2&&u.fmt==1){d=l.readUshort(i,o),o+=2,u.seqs=[];for(var p=0;p<d;p++){var g=l.readUshort(i,o)+c;o+=2;var v=l.readUshort(i,g);u.seqs.push(l.readUshorts(i,g+2,v))}}else if(s==4)for(u.vals=[],d=l.readUshort(i,o),o+=2,p=0;p<d;p++){var y=l.readUshort(i,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+y))}else if(s==5&&u.fmt==2){if(u.fmt==2){var _=l.readUshort(i,o);o+=2,u.cDef=e._lctf.readClassDef(i,c+_),u.scset=[];var x=l.readUshort(i,o);for(o+=2,p=0;p<x;p++){var w=l.readUshort(i,o);o+=2,u.scset.push(w==0?null:e.GSUB.readSubClassSet(i,c+w))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(p=0;p<3;p++){d=l.readUshort(i,o),o+=2;for(var A=[],C=0;C<d;C++)A.push(e._lctf.readCoverage(i,c+l.readUshort(i,o+2*C)));o+=2*d,p==0&&(u.backCvg=A),p==1&&(u.inptCvg=A),p==2&&(u.ahedCvg=A)}d=l.readUshort(i,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,o,d)}}else{if(s==7&&u.fmt==1){var E=l.readUshort(i,o);o+=2;var P=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=E;else if(a.ltype!=E)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,c+P)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],c=o(i,s);s+=2;for(var u=0;u<c;u++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),c=o(i,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(i,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(i,s,u),s+=2*a[l[c]].length}return u=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(u=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,o,a);var u=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){s+=2,o=l.readUshort(i,s),s+=2;var p=l.readUshort(i,s);s+=2;var g=p>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(i,s),s+=4;var d=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var p=d>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;s=e.kern.readFormat0(i,s,u)}return u},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,s);s+=2;var d=a.readUshort(i,s);s+=2;var p=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var g=o.rval[o.rval.length-1];g.glyph2.push(d),g.vals.push(p),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)c.push(l.readUshort(i,s+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)c.push(l.readUint(i,s+(d<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},c=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=s+=2,p=0;p<c;p++){var g=a.readUshort(i,s);s+=2;var v=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var w=a.readUshort(i,s);s+=2;var A,C=f[_],E=d+12*c+w;if(g==0)A=a.readUnicode(i,E,x/2);else if(g==3&&v==0)A=a.readUnicode(i,E,x/2);else if(v==0)A=a.readASCII(i,E,x);else if(v==1)A=a.readUnicode(i,E,x/2);else if(v==3)A=a.readUnicode(i,E,x/2);else{if(g!=1)throw"unknown encoding "+v+", platformID: "+g;A=a.readASCII(i,E,x),console.debug("reading unknown MAC encoding "+v+" as ASCII")}var P="p"+g+","+y.toString(16);l[P]==null&&(l[P]={}),l[P][C!==void 0?C:_]=A,l[P]._lang=y}for(var M in l)if(l[M].postScriptName!=null&&l[M]._lang==1033)return l[M];for(var M in l)if(l[M].postScriptName!=null&&l[M]._lang==0)return l[M];for(var M in l)if(l[M].postScriptName!=null&&l[M]._lang==3084)return l[M];for(var M in l)if(l[M].postScriptName!=null)return l[M];for(var M in l){u=M;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=s;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,u,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,f=c==l?a:c+1,d=1&i.flags[c],p=1&i.flags[u],g=1&i.flags[f],v=i.xs[c],y=i.ys[c];if(c==a)if(d){if(!p){e.U.P.moveTo(s,v,y);continue}e.U.P.moveTo(s,i.xs[u],i.ys[u])}else p?e.U.P.moveTo(s,i.xs[u],i.ys[u]):e.U.P.moveTo(s,(i.xs[u]+v)/2,(i.ys[u]+y)/2);d?p&&e.U.P.lineTo(s,v,y):g?e.U.P.qcurveTo(s,v,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,v,y,(v+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},c=i.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],p=l.crds[f+1];o.crds.push(d*u.a+p*u.b+u.tx),o.crds.push(d*u.c+p*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,f=o.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[u];else if(o.ltype==4)for(var d=f.vals[u],p=0;p<d.length;p++){var g=d[p],v=g.chain.length;if(!(v>l)){for(var y=!0,_=0,x=0;x<v;x++){for(;i[s+_+(1+x)]==-1;)_++;g.chain[x]!=i[s+_+(1+x)]&&(y=!1)}if(y){for(i[s]=g.nglyph,x=0;x<v+_;x++)i[s+x+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var w=e._lctf.getInterval(f.cDef,i[s]),A=f.cDef[w+2],C=f.scset[A],E=0;E<C.length;E++){var P=C[E],M=P.input;if(!(M.length>l)){for(y=!0,x=0;x<M.length;x++){var T=e._lctf.getInterval(f.cDef,i[s+1+x]);if(w==-1&&f.cDef[T+2]!=M[x]){y=!1;break}}if(y){var D=P.substLookupRecords;for(p=0;p<D.length;p+=2)D[p],D[p+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var F=f.lookupRec;for(E=0;E<F.length;E+=2){w=F[E];var L=a[F[E+1]];e.U._applySubs(i,s+w,L,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var f=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,d=e.U.glyphToPath(i,u),p=0;p<d.crds.length;p+=2)a.crds.push(d.crds[p]+l),a.crds.push(d.crds[p+1]);for(o&&a.cmds.push(o),p=0;p<d.cmds.length;p++)a.cmds.push(d.cmds[p]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(i,u,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,c,u){i.cmds.push("C"),i.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var c=s.stack,u=s.nStems,f=s.haveWidth,d=s.width,p=s.open,g=0,v=s.x,y=s.y,_=0,x=0,w=0,A=0,C=0,E=0,P=0,M=0,T=0,D=0,F={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,F);var L=F.val;if(g+=F.size,L=="o1"||L=="o18")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(L=="o3"||L=="o23")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(L=="o4")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),p&&e.U.P.closePath(l),y+=c.pop(),e.U.P.moveTo(l,v,y),p=!0;else if(L=="o5")for(;c.length>0;)v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y);else if(L=="o6"||L=="o7")for(var N=c.length,k=L=="o6",V=0;V<N;V++){var W=c.shift();k?v+=W:y+=W,k=!k,e.U.P.lineTo(l,v,y)}else if(L=="o8"||L=="o24"){N=c.length;for(var K=0;K+6<=N;)_=v+c.shift(),x=y+c.shift(),w=_+c.shift(),A=x+c.shift(),v=w+c.shift(),y=A+c.shift(),e.U.P.curveTo(l,_,x,w,A,v,y),K+=6;L=="o24"&&(v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y))}else{if(L=="o11")break;if(L=="o1234"||L=="o1235"||L=="o1236"||L=="o1237")L=="o1234"&&(x=y,w=(_=v+c.shift())+c.shift(),D=A=x+c.shift(),E=A,M=y,v=(P=(C=(T=w+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,_,x,w,A,T,D),e.U.P.curveTo(l,C,E,P,M,v,y)),L=="o1235"&&(_=v+c.shift(),x=y+c.shift(),w=_+c.shift(),A=x+c.shift(),T=w+c.shift(),D=A+c.shift(),C=T+c.shift(),E=D+c.shift(),P=C+c.shift(),M=E+c.shift(),v=P+c.shift(),y=M+c.shift(),c.shift(),e.U.P.curveTo(l,_,x,w,A,T,D),e.U.P.curveTo(l,C,E,P,M,v,y)),L=="o1236"&&(_=v+c.shift(),x=y+c.shift(),w=_+c.shift(),D=A=x+c.shift(),E=A,P=(C=(T=w+c.shift())+c.shift())+c.shift(),M=E+c.shift(),v=P+c.shift(),e.U.P.curveTo(l,_,x,w,A,T,D),e.U.P.curveTo(l,C,E,P,M,v,y)),L=="o1237"&&(_=v+c.shift(),x=y+c.shift(),w=_+c.shift(),A=x+c.shift(),T=w+c.shift(),D=A+c.shift(),C=T+c.shift(),E=D+c.shift(),P=C+c.shift(),M=E+c.shift(),Math.abs(P-v)>Math.abs(M-y)?v=P+c.shift():y=M+c.shift(),e.U.P.curveTo(l,_,x,w,A,T,D),e.U.P.curveTo(l,C,E,P,M,v,y));else if(L=="o14"){if(c.length>0&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),c.length==4){var H=c.shift(),U=c.shift(),z=c.shift(),G=c.shift(),j=e.CFF.glyphBySE(o,z),Z=e.CFF.glyphBySE(o,G);e.U._drawCFF(o.CharStrings[j],s,o,a,l),s.x=H,s.y=U,e.U._drawCFF(o.CharStrings[Z],s,o,a,l)}p&&(e.U.P.closePath(l),p=!1)}else if(L=="o19"||L=="o20")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,g+=u+7>>3;else if(L=="o21")c.length>2&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),y+=c.pop(),v+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),p=!0;else if(L=="o22")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),v+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),p=!0;else if(L=="o25"){for(;c.length>6;)v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y);_=v+c.shift(),x=y+c.shift(),w=_+c.shift(),A=x+c.shift(),v=w+c.shift(),y=A+c.shift(),e.U.P.curveTo(l,_,x,w,A,v,y)}else if(L=="o26")for(c.length%2&&(v+=c.shift());c.length>0;)_=v,x=y+c.shift(),v=w=_+c.shift(),y=(A=x+c.shift())+c.shift(),e.U.P.curveTo(l,_,x,w,A,v,y);else if(L=="o27")for(c.length%2&&(y+=c.shift());c.length>0;)x=y,w=(_=v+c.shift())+c.shift(),A=x+c.shift(),v=w+c.shift(),y=A,e.U.P.curveTo(l,_,x,w,A,v,y);else if(L=="o10"||L=="o29"){var q=L=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var re=c.pop(),Q=q.Subrs[re+q.Bias];s.x=v,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=p,e.U._drawCFF(Q,s,o,a,l),v=s.x,y=s.y,u=s.nStems,f=s.haveWidth,d=s.width,p=s.open}}else if(L=="o30"||L=="o31"){var ce=c.length,de=(K=0,L=="o31");for(K+=ce-(N=-3&ce);K<N;)de?(x=y,w=(_=v+c.shift())+c.shift(),y=(A=x+c.shift())+c.shift(),N-K==5?(v=w+c.shift(),K++):v=w,de=!1):(_=v,x=y+c.shift(),w=_+c.shift(),A=x+c.shift(),v=w+c.shift(),N-K==5?(y=A+c.shift(),K++):y=A,de=!0),e.U.P.curveTo(l,_,x,w,A,v,y),K+=4}else{if((L+"").charAt(0)=="o")throw console.debug("Unknown operation: "+L,i),L;c.push(L)}}}s.x=v,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=p};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Aee(){return function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(L,N){for(var k=new t(31),V=0;V<31;++V)k[V]=N+=1<<L[V-1];var W=new r(k[30]);for(V=1;V<30;++V)for(var K=k[V];K<k[V+1];++K)W[K]=K-k[V]<<5|V;return[k,W]},l=a(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=a(s,0)[0],d=new t(32768),p=0;p<32768;++p){var g=(43690&p)>>>1|(21845&p)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,d[p]=((65280&g)>>>8|(255&g)<<8)>>>1}var v=function(L,N,k){for(var V=L.length,W=0,K=new t(N);W<V;++W)++K[L[W]-1];var H,U=new t(N);for(W=0;W<N;++W)U[W]=U[W-1]+K[W-1]<<1;if(k){H=new t(1<<N);var z=15-N;for(W=0;W<V;++W)if(L[W])for(var G=W<<4|L[W],j=N-L[W],Z=U[L[W]-1]++<<j,q=Z|(1<<j)-1;Z<=q;++Z)H[d[Z]>>>z]=G}else for(H=new t(V),W=0;W<V;++W)L[W]&&(H[W]=d[U[L[W]-1]++]>>>15-L[W]);return H},y=new e(288);for(p=0;p<144;++p)y[p]=8;for(p=144;p<256;++p)y[p]=9;for(p=256;p<280;++p)y[p]=7;for(p=280;p<288;++p)y[p]=8;var _=new e(32);for(p=0;p<32;++p)_[p]=5;var x=v(y,9,1),w=v(_,5,1),A=function(L){for(var N=L[0],k=1;k<L.length;++k)L[k]>N&&(N=L[k]);return N},C=function(L,N,k){var V=N/8|0;return(L[V]|L[V+1]<<8)>>(7&N)&k},E=function(L,N){var k=N/8|0;return(L[k]|L[k+1]<<8|L[k+2]<<16)>>(7&N)},P=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],M=function(L,N,k){var V=new Error(N||P[L]);if(V.code=L,Error.captureStackTrace&&Error.captureStackTrace(V,M),!k)throw V;return V},T=function(L,N,k){var V=L.length;if(!V||k&&!k.l&&V<5)return N||new e(0);var W=!N||k,K=!k||k.i;k||(k={}),N||(N=new e(3*V));var H,U=function(ke){var it=N.length;if(ke>it){var at=new e(Math.max(2*it,ke));at.set(N),N=at}},z=k.f||0,G=k.p||0,j=k.b||0,Z=k.l,q=k.d,re=k.m,Q=k.n,ce=8*V;do{if(!Z){k.f=z=C(L,G,1);var de=C(L,G+1,3);if(G+=3,!de){var Re=L[(Ue=((H=G)/8|0)+(7&H&&1)+4)-4]|L[Ue-3]<<8,ge=Ue+Re;if(ge>V){K&&M(0);break}W&&U(j+Re),N.set(L.subarray(Ue,ge),j),k.b=j+=Re,k.p=G=8*ge;continue}if(de==1)Z=x,q=w,re=9,Q=5;else if(de==2){var ve=C(L,G,31)+257,ne=C(L,G+10,15)+4,oe=ve+C(L,G+5,31)+1;G+=14;for(var _e=new e(oe),be=new e(19),xe=0;xe<ne;++xe)be[o[xe]]=C(L,G+3*xe,7);G+=3*ne;var Ne=A(be),we=(1<<Ne)-1,Ie=v(be,Ne,1);for(xe=0;xe<oe;){var Ue,Ae=Ie[C(L,G,we)];if(G+=15&Ae,(Ue=Ae>>>4)<16)_e[xe++]=Ue;else{var X=0,O=0;for(Ue==16?(O=3+C(L,G,3),G+=2,X=_e[xe-1]):Ue==17?(O=3+C(L,G,7),G+=3):Ue==18&&(O=11+C(L,G,127),G+=7);O--;)_e[xe++]=X}}var ee=_e.subarray(0,ve),ae=_e.subarray(ve);re=A(ee),Q=A(ae),Z=v(ee,re,1),q=v(ae,Q,1)}else M(1);if(G>ce){K&&M(0);break}}W&&U(j+131072);for(var Ce=(1<<re)-1,ye=(1<<Q)-1,Fe=G;;Fe=G){var Ee=(X=Z[E(L,G)&Ce])>>>4;if((G+=15&X)>ce){K&&M(0);break}if(X||M(2),Ee<256)N[j++]=Ee;else{if(Ee==256){Fe=G,Z=null;break}var pe=Ee-254;if(Ee>264){var je=i[xe=Ee-257];pe=C(L,G,(1<<je)-1)+c[xe],G+=je}var Xe=q[E(L,G)&ye],Oe=Xe>>>4;if(Xe||M(3),G+=15&Xe,ae=f[Oe],Oe>3&&(je=s[Oe],ae+=E(L,G)&(1<<je)-1,G+=je),G>ce){K&&M(0);break}W&&U(j+131072);for(var ze=j+pe;j<ze;j+=4)N[j]=N[j-ae],N[j+1]=N[j+1-ae],N[j+2]=N[j+2-ae],N[j+3]=N[j+3-ae];j=ze}}k.l=Z,k.p=Fe,k.b=j,Z&&(z=1,k.m=re,k.d=q,k.n=Q)}while(!z);return j==N.length?N:function(ke,it,at){(it==null||it<0)&&(it=0),(at==null||at>ke.length)&&(at=ke.length);var It=new(ke instanceof t?t:ke instanceof r?r:e)(at-it);return It.set(ke.subarray(it,at)),It}(N,0,j)},D=new e(0),F=typeof TextDecoder<"u"&&new TextDecoder;try{F.decode(D,{stream:!0})}catch{}return n.convert_streams=function(L){var N=new DataView(L),k=0;function V(){var ve=N.getUint16(k);return k+=2,ve}function W(){var ve=N.getUint32(k);return k+=4,ve}function K(ve){Re.setUint16(ge,ve),ge+=2}function H(ve){Re.setUint32(ge,ve),ge+=4}for(var U={signature:W(),flavor:W(),length:W(),numTables:V(),reserved:V(),totalSfntSize:W(),majorVersion:V(),minorVersion:V(),metaOffset:W(),metaLength:W(),metaOrigLength:W(),privOffset:W(),privLength:W()},z=0;Math.pow(2,z)<=U.numTables;)z++;z--;for(var G=16*Math.pow(2,z),j=16*U.numTables-G,Z=12,q=[],re=0;re<U.numTables;re++)q.push({tag:W(),offset:W(),compLength:W(),origLength:W(),origChecksum:W()}),Z+=16;var Q,ce=new Uint8Array(12+16*q.length+q.reduce(function(ve,ne){return ve+ne.origLength+4},0)),de=ce.buffer,Re=new DataView(de),ge=0;return H(U.flavor),K(U.numTables),K(G),K(z),K(j),q.forEach(function(ve){H(ve.tag),H(ve.origChecksum),H(Z),H(ve.origLength),ve.outOffset=Z,(Z+=ve.origLength)%4!=0&&(Z+=4-Z%4)}),q.forEach(function(ve){var ne,oe=L.slice(ve.offset,ve.offset+ve.compLength);if(ve.compLength!=ve.origLength){var _e=new Uint8Array(ve.origLength);ne=new Uint8Array(oe,2),T(ne,_e)}else _e=new Uint8Array(oe);ce.set(_e,ve.outOffset);var be=0;(Z=ve.outOffset+ve.origLength)%4!=0&&(be=4-Z%4),ce.set(new Uint8Array(be).buffer,ve.outOffset+ve.origLength),Q=Z+be}),de.slice(0,Q)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function bee(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,c=32;let u;function f(P){if(!u){const M={R:s,L:i,D:o,C:l,U:c,T:a};u=new Map;for(let T in r){let D=0;r[T].split(",").forEach(F=>{let[L,N]=F.split("+");L=parseInt(L,36),N=N?parseInt(N,36):0,u.set(D+=L,M[T]);for(let k=N;k--;)u.set(++D,M[T])})}}return u.get(P)||c}const d=1,p=2,g=3,v=4,y=[null,"isol","init","fina","medi"];function _(P){const M=new Uint8Array(P.length);let T=c,D=d,F=-1;for(let L=0;L<P.length;L++){const N=P.codePointAt(L);let k=f(N)|0,V=d;k&a||(T&(i|o|l)?k&(s|o|l)?(V=g,(D===d||D===g)&&M[F]++):k&(i|c)&&(D===p||D===v)&&M[F]--:T&(s|c)&&(D===p||D===v)&&M[F]--,D=M[L]=V,T=k,F=L,N>65535&&L++)}return M}function x(P,M){const T=[];for(let F=0;F<M.length;F++){const L=M.codePointAt(F);L>65535&&F++,T.push(n.U.codeToGlyph(P,L))}const D=P.GSUB;if(D){const{lookupList:F,featureList:L}=D;let N;const k=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,V=[];L.forEach(W=>{if(k.test(W.tag))for(let K=0;K<W.tab.length;K++){if(V[W.tab[K]])continue;V[W.tab[K]]=!0;const H=F[W.tab[K]],U=/^(isol|init|fina|medi)$/.test(W.tag);U&&!N&&(N=_(M));for(let z=0;z<T.length;z++)(!N||!U||y[N[z]]===W.tag)&&n.U._applySubs(T,z,H,F)}})}return T}function w(P,M){const T=new Int16Array(M.length*3);let D=0;for(;D<M.length;D++){const k=M[D];if(k===-1)continue;T[D*3+2]=P.hmtx.aWidth[k];const V=P.GPOS;if(V){const W=V.lookupList;for(let K=0;K<W.length;K++){const H=W[K];for(let U=0;U<H.tabs.length;U++){const z=H.tabs[U];if(H.ltype===1){if(n._lctf.coverageIndex(z.coverage,k)!==-1&&z.pos){N(z.pos,D);break}}else if(H.ltype===2){let G=null,j=F();if(j!==-1){const Z=n._lctf.coverageIndex(z.coverage,M[j]);if(Z!==-1){if(z.fmt===1){const q=z.pairsets[Z];for(let re=0;re<q.length;re++)q[re].gid2===k&&(G=q[re])}else if(z.fmt===2){const q=n.U._getGlyphClass(M[j],z.classDef1),re=n.U._getGlyphClass(k,z.classDef2);G=z.matrix[q][re]}if(G){G.val1&&N(G.val1,j),G.val2&&N(G.val2,D);break}}}}else if(H.ltype===4){const G=n._lctf.coverageIndex(z.markCoverage,k);if(G!==-1){const j=F(L),Z=j===-1?-1:n._lctf.coverageIndex(z.baseCoverage,M[j]);if(Z!==-1){const q=z.markArray[G],re=z.baseArray[Z][q.markClass];T[D*3]=re.x-q.x+T[j*3]-T[j*3+2],T[D*3+1]=re.y-q.y+T[j*3+1];break}}}else if(H.ltype===6){const G=n._lctf.coverageIndex(z.mark1Coverage,k);if(G!==-1){const j=F();if(j!==-1){const Z=M[j];if(A(P,Z)===3){const q=n._lctf.coverageIndex(z.mark2Coverage,Z);if(q!==-1){const re=z.mark1Array[G],Q=z.mark2Array[q][re.markClass];T[D*3]=Q.x-re.x+T[j*3]-T[j*3+2],T[D*3+1]=Q.y-re.y+T[j*3+1];break}}}}}}}}else if(P.kern&&!P.cff){const W=F();if(W!==-1){const K=P.kern.glyph1.indexOf(M[W]);if(K!==-1){const H=P.kern.rval[K].glyph2.indexOf(k);H!==-1&&(T[W*3+2]+=P.kern.rval[K].vals[H])}}}}return T;function F(k){for(let V=D-1;V>=0;V--)if(M[V]!==-1&&(!k||k(M[V])))return V;return-1}function L(k){return A(P,k)===1}function N(k,V){for(let W=0;W<3;W++)T[V*3+W]+=k[W]||0}}function A(P,M){const T=P.GDEF&&P.GDEF.glyphClassDef;return T?n.U._getGlyphClass(M,T):0}function C(...P){for(let M=0;M<P.length;M++)if(typeof P[M]=="number")return P[M]}function E(P){const M=Object.create(null),T=P["OS/2"],D=P.hhea,F=P.head.unitsPerEm,L=C(T&&T.sTypoAscender,D&&D.ascender,F),N={unitsPerEm:F,ascender:L,descender:C(T&&T.sTypoDescender,D&&D.descender,0),capHeight:C(T&&T.sCapHeight,L),xHeight:C(T&&T.sxHeight,L),lineGap:C(T&&T.sTypoLineGap,D&&D.lineGap),supportsCodePoint(k){return n.U.codeToGlyph(P,k)>0},forEachGlyph(k,V,W,K){let H=0;const U=1/N.unitsPerEm*V,z=x(P,k);let G=0;const j=w(P,z);return z.forEach((Z,q)=>{if(Z!==-1){let re=M[Z];if(!re){const{cmds:Q,crds:ce}=n.U.glyphToPath(P,Z);let de="",Re=0;for(let _e=0,be=Q.length;_e<be;_e++){const xe=t[Q[_e]];de+=Q[_e];for(let Ne=1;Ne<=xe;Ne++)de+=(Ne>1?",":"")+ce[Re++]}let ge,ve,ne,oe;if(ce.length){ge=ve=1/0,ne=oe=-1/0;for(let _e=0,be=ce.length;_e<be;_e+=2){let xe=ce[_e],Ne=ce[_e+1];xe<ge&&(ge=xe),Ne<ve&&(ve=Ne),xe>ne&&(ne=xe),Ne>oe&&(oe=Ne)}}else ge=ne=ve=oe=0;re=M[Z]={index:Z,advanceWidth:P.hmtx.aWidth[Z],xMin:ge,yMin:ve,xMax:ne,yMax:oe,path:de}}K.call(null,re,H+j[q*3]*U,j[q*3+1]*U,G),H+=j[q*3+2]*U,W&&(H+=W*V)}G+=k.codePointAt(G)>65535?2:1}),H}};return N}return function(M){const T=new Uint8Array(M,0,4),D=n._bin.readASCII(T,0,4);if(D==="wOFF")M=e(M);else if(D==="wOF2")throw new Error("woff2 fonts not supported");return E(n.parse(M)[0])}}const Mee=kh({name:"Typr Font Parser",dependencies:[See,Aee,bee],init(n,e,t){const r=n(),i=e();return t(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Cee(){return function(n){var e=function(){this.buckets=new Map};e.prototype.add=function(w){var A=w>>5;this.buckets.set(A,(this.buckets.get(A)||0)|1<<(31&w))},e.prototype.has=function(w){var A=this.buckets.get(w>>5);return A!==void 0&&(A&1<<(31&w))!=0},e.prototype.serialize=function(){var w=[];return this.buckets.forEach(function(A,C){w.push((+C).toString(36)+":"+A.toString(36))}),w.join(",")},e.prototype.deserialize=function(w){var A=this;this.buckets.clear(),w.split(",").forEach(function(C){var E=C.split(":");A.buckets.set(parseInt(E[0],36),parseInt(E[1],36))})};var t=Math.pow(2,8),r=t-1,i=~r;function s(w){var A=function(E){return E&i}(w).toString(16),C=function(E){return(E&i)+t-1}(w).toString(16);return"codepoint-index/plane"+(w>>16)+"/"+A+"-"+C+".json"}function o(w,A){var C=w&r,E=A.codePointAt(C/6|0);return((E=(E||48)-48)&1<<C%6)!=0}function a(w,A){var C;(C=w,C.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(E){return E.split("-").map(function(P){return parseInt(P.trim(),16)})})).forEach(function(E){var P=E[0],M=E[1];M===void 0&&(M=P),A(P,M)})}function l(w,A){a(w,function(C,E){for(var P=C;P<=E;P++)A(P)})}var c={},u={},f=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function p(w){var A=f.get(w);return A||(A=new e,l(w.ranges,function(C){return A.add(C)}),f.set(w,A)),A}var g,v=new Map;function y(w,A,C){return w[A]?A:w[C]?C:function(E){for(var P in E)return P}(w)}function _(w,A){var C=A;if(!w.includes(C)){C=1/0;for(var E=0;E<w.length;E++)Math.abs(w[E]-A)<Math.abs(C-A)&&(C=w[E])}return C}function x(w){return g||(g=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(A){g.add(A)})),g.has(w)}return n.CodePointSet=e,n.clearCache=function(){c={},u={}},n.getFontsForString=function(w,A){A===void 0&&(A={});var C,E=A.lang;E===void 0&&(E=/\p{Script=Hangul}/u.test(C=w)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(C)?"ja":"en");var P=A.category;P===void 0&&(P="sans-serif");var M=A.style;M===void 0&&(M="normal");var T=A.weight;T===void 0&&(T=400);var D=(A.dataUrl||d).replace(/\/$/g,""),F=new Map,L=new Uint8Array(w.length),N={},k={},V=new Array(w.length),W=new Map,K=!1;function H(G){var j=v.get(G);return j||(j=fetch(D+"/"+G).then(function(Z){if(!Z.ok)throw new Error(Z.statusText);return Z.json().then(function(q){if(!Array.isArray(q)||q[0]!==1)throw new Error("Incorrect schema version; need 1, got "+q[0]);return q[1]})}).catch(function(Z){if(D!==d)return K||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+D+'", trying default CDN. '+Z.message),K=!0),D=d,v.delete(G),H(G);throw Z}),v.set(G,j)),j}for(var U=function(G){var j=w.codePointAt(G),Z=s(j);V[G]=Z,c[Z]||W.has(Z)||W.set(Z,H(Z).then(function(q){c[Z]=q})),j>65535&&(G++,z=G)},z=0;z<w.length;z++)U(z);return Promise.all(W.values()).then(function(){W.clear();for(var G=function(Z){var q=w.codePointAt(Z),re=null,Q=c[V[Z]],ce=void 0;for(var de in Q){var Re=k[de];if(Re===void 0&&(Re=k[de]=new RegExp(de).test(E||"en")),Re){for(var ge in ce=de,Q[de])if(o(q,Q[de][ge])){re=ge;break}break}}if(!re){e:for(var ve in Q)if(ve!==ce){for(var ne in Q[ve])if(o(q,Q[ve][ne])){re=ne;break e}}}re||(console.debug("No font coverage for U+"+q.toString(16)),re="latin"),V[Z]=re,u[re]||W.has(re)||W.set(re,H("font-meta/"+re+".json").then(function(oe){u[re]=oe})),q>65535&&(Z++,j=Z)},j=0;j<w.length;j++)G(j);return Promise.all(W.values())}).then(function(){for(var G,j=null,Z=0;Z<w.length;Z++){var q=w.codePointAt(Z);if(j&&(x(q)||p(j).has(q)))L[Z]=L[Z-1];else{j=u[V[Z]];var re=N[j.id];if(!re){var Q=j.typeforms,ce=y(Q,P,"sans-serif"),de=y(Q[ce],M,"normal"),Re=_((G=Q[ce])===null||G===void 0?void 0:G[de],T);re=N[j.id]=D+"/font-files/"+j.id+"/"+ce+"."+de+"."+Re+".woff"}var ge=F.get(re);ge==null&&(ge=F.size,F.set(re,ge)),L[Z]=ge}q>65535&&(Z++,L[Z]=L[Z-1])}return{fontUrls:Array.from(F.keys()),chars:L}})},Object.defineProperty(n,"__esModule",{value:!0}),n}({})}function Eee(n,e){const t=Object.create(null),r=Object.create(null);function i(o,a){const l=c=>{console.error(`Failure loading font ${o}`,c)};try{const c=new XMLHttpRequest;c.open("get",o,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)l(new Error(c.statusText));else if(c.status>0)try{const u=n(c.response);u.src=o,a(u)}catch(u){l(u)}},c.onerror=l,c.send()}catch(c){l(c)}}function s(o,a){let l=t[o];l?a(l):r[o]?r[o].push(a):(r[o]=[a],i(o,c=>{c.src=o,t[o]=c,r[o].forEach(u=>u(c)),delete r[o]}))}return function(o,a,{lang:l,fonts:c=[],style:u="normal",weight:f="normal",unicodeFontsURL:d}={}){const p=new Uint8Array(o.length),g=[];o.length||x();const v=new Map,y=[];if(u!=="italic"&&(u="normal"),typeof f!="number"&&(f=f==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(A=>!A.lang||A.lang.test(l)).reverse(),c.length){let P=0;(function M(T=0){for(let D=T,F=o.length;D<F;D++){const L=o.codePointAt(D);if(P===1&&g[p[D-1]].supportsCodePoint(L)||/\s/.test(o[D]))p[D]=p[D-1],P===2&&(y[y.length-1][1]=D);else for(let N=p[D],k=c.length;N<=k;N++)if(N===k){const V=P===2?y[y.length-1]:y[y.length]=[D,D];V[1]=D,P=2}else{p[D]=N;const{src:V,unicodeRange:W}=c[N];if(!W||w(L,W)){const K=t[V];if(!K){s(V,()=>{M(D)});return}if(K.supportsCodePoint(L)){let H=v.get(K);typeof H!="number"&&(H=g.length,g.push(K),v.set(K,H)),p[D]=H,P=1;break}}}L>65535&&D+1<F&&(p[D+1]=p[D],D++,P===2&&(y[y.length-1][1]=D))}_()})()}else y.push([0,o.length-1]),_();function _(){if(y.length){const A=y.map(C=>o.substring(C[0],C[1]+1)).join(`
`);e.getFontsForString(A,{lang:l||void 0,style:u,weight:f,dataUrl:d}).then(({fontUrls:C,chars:E})=>{const P=g.length;let M=0;y.forEach(D=>{for(let F=0,L=D[1]-D[0];F<=L;F++)p[D[0]+F]=E[M++]+P;M++});let T=0;C.forEach((D,F)=>{s(D,L=>{g[F+P]=L,++T===C.length&&x()})})})}else x()}function x(){a({chars:p,fonts:g})}function w(A,C){for(let E=0;E<C.length;E++){const[P,M=P]=C[E];if(P<=A&&A<=M)return!0}return!1}}}const Tee=kh({name:"FontResolver",dependencies:[Eee,Mee,Cee],init(n,e,t){return n(e,t())}});function Pee(n,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",s=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:g,lang:v,fonts:y,style:_,weight:x,preResolvedFonts:w,unicodeFontsURL:A},C){const E=({chars:P,fonts:M})=>{let T,D;const F=[];for(let L=0;L<P.length;L++)P[L]!==D?(D=P[L],F.push(T={start:L,end:L,fontObj:M[P[L]]})):T.end=L;C(F)};w?E(w):n(g,E,{lang:v,fonts:y,style:_,weight:x,unicodeFontsURL:A})}function a({text:g="",font:v,lang:y,sdfGlyphSize:_=64,fontSize:x=400,fontWeight:w=1,fontStyle:A="normal",letterSpacing:C=0,lineHeight:E="normal",maxWidth:P=1/0,direction:M,textAlign:T="left",textIndent:D=0,whiteSpace:F="normal",overflowWrap:L="normal",anchorX:N=0,anchorY:k=0,metricsOnly:V=!1,unicodeFontsURL:W,preResolvedFonts:K=null,includeCaretPositions:H=!1,chunkedBoundsSize:U=8192,colorRanges:z=null},G){const j=f(),Z={fontLoad:0,typesetting:0};g.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),g=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),x=+x,C=+C,P=+P,E=E||"normal",D=+D,o({text:g,lang:y,style:A,weight:w,fonts:typeof v=="string"?[{src:v}]:v,unicodeFontsURL:W,preResolvedFonts:K},q=>{Z.fontLoad=f()-j;const re=isFinite(P);let Q=null,ce=null,de=null,Re=null,ge=null,ve=null,ne=null,oe=null,_e=0,be=0,xe=F!=="nowrap";const Ne=new Map,we=f();let Ie=D,Ue=0,Ae=new d;const X=[Ae];q.forEach(ye=>{const{fontObj:Fe}=ye,{ascender:Ee,descender:pe,unitsPerEm:je,lineGap:Xe,capHeight:Oe,xHeight:ze}=Fe;let ke=Ne.get(Fe);if(!ke){const fe=x/je,Be=E==="normal"?(Ee-pe+Xe)*fe:E*x,Je=(Be-(Ee-pe)*fe)/2,We=Math.min(Be,(Ee-pe)*fe),Qe=(Ee+pe)/2*fe+We/2;ke={index:Ne.size,src:Fe.src,fontObj:Fe,fontSizeMult:fe,unitsPerEm:je,ascender:Ee*fe,descender:pe*fe,capHeight:Oe*fe,xHeight:ze*fe,lineHeight:Be,baseline:-Je-Ee*fe,caretTop:Qe,caretBottom:Qe-We},Ne.set(Fe,ke)}const{fontSizeMult:it}=ke,at=g.slice(ye.start,ye.end+1);let It,ie;Fe.forEachGlyph(at,x,C,(fe,Be,Je,We)=>{Be+=Ue,We+=ye.start,It=Be,ie=fe;const Qe=g.charAt(We),St=fe.advanceWidth*it,_t=Ae.count;let ct;if("isEmpty"in fe||(fe.isWhitespace=!!Qe&&new RegExp(i).test(Qe),fe.canBreakAfter=!!Qe&&s.test(Qe),fe.isEmpty=fe.xMin===fe.xMax||fe.yMin===fe.yMax||r.test(Qe)),!fe.isWhitespace&&!fe.isEmpty&&be++,xe&&re&&!fe.isWhitespace&&Be+St+Ie>P&&_t){if(Ae.glyphAt(_t-1).glyphObj.canBreakAfter)ct=new d,Ie=-Be;else for(let Qt=_t;Qt--;)if(Qt===0&&L==="break-word"){ct=new d,Ie=-Be;break}else if(Ae.glyphAt(Qt).glyphObj.canBreakAfter){ct=Ae.splitAt(Qt+1);const Jt=ct.glyphAt(0).x;Ie-=Jt;for(let mn=ct.count;mn--;)ct.glyphAt(mn).x-=Jt;break}ct&&(Ae.isSoftWrapped=!0,Ae=ct,X.push(Ae),_e=P)}let ut=Ae.glyphAt(Ae.count);ut.glyphObj=fe,ut.x=Be+Ie,ut.y=Je,ut.width=St,ut.charIndex=We,ut.fontData=ke,Qe===`
`&&(Ae=new d,X.push(Ae),Ie=-(Be+St+C*x)+D)}),Ue=It+ie.advanceWidth*it+C*x});let O=0;X.forEach(ye=>{let Fe=!0;for(let Ee=ye.count;Ee--;){const pe=ye.glyphAt(Ee);Fe&&!pe.glyphObj.isWhitespace&&(ye.width=pe.x+pe.width,ye.width>_e&&(_e=ye.width),Fe=!1);let{lineHeight:je,capHeight:Xe,xHeight:Oe,baseline:ze}=pe.fontData;je>ye.lineHeight&&(ye.lineHeight=je);const ke=ze-ye.baseline;ke<0&&(ye.baseline+=ke,ye.cap+=ke,ye.ex+=ke),ye.cap=Math.max(ye.cap,ye.baseline+Xe),ye.ex=Math.max(ye.ex,ye.baseline+Oe)}ye.baseline-=O,ye.cap-=O,ye.ex-=O,O+=ye.lineHeight});let ee=0,ae=0;if(N&&(typeof N=="number"?ee=-N:typeof N=="string"&&(ee=-_e*(N==="left"?0:N==="center"?.5:N==="right"?1:c(N)))),k&&(typeof k=="number"?ae=-k:typeof k=="string"&&(ae=k==="top"?0:k==="top-baseline"?-X[0].baseline:k==="top-cap"?-X[0].cap:k==="top-ex"?-X[0].ex:k==="middle"?O/2:k==="bottom"?O:k==="bottom-baseline"?-X[X.length-1].baseline:c(k)*O)),!V){const ye=e.getEmbeddingLevels(g,M);Q=new Uint16Array(be),ce=new Uint8Array(be),de=new Float32Array(be*2),Re={},ne=[1/0,1/0,-1/0,-1/0],oe=[],H&&(ve=new Float32Array(g.length*4)),z&&(ge=new Uint8Array(be*3));let Fe=0,Ee=-1,pe=-1,je,Xe;if(X.forEach((Oe,ze)=>{let{count:ke,width:it}=Oe;if(ke>0){let at=0;for(let We=ke;We--&&Oe.glyphAt(We).glyphObj.isWhitespace;)at++;let It=0,ie=0;if(T==="center")It=(_e-it)/2;else if(T==="right")It=_e-it;else if(T==="justify"&&Oe.isSoftWrapped){let We=0;for(let Qe=ke-at;Qe--;)Oe.glyphAt(Qe).glyphObj.isWhitespace&&We++;ie=(_e-it)/We}if(ie||It){let We=0;for(let Qe=0;Qe<ke;Qe++){let St=Oe.glyphAt(Qe);const _t=St.glyphObj;St.x+=It+We,ie!==0&&_t.isWhitespace&&Qe<ke-at&&(We+=ie,St.width+=ie)}}const fe=e.getReorderSegments(g,ye,Oe.glyphAt(0).charIndex,Oe.glyphAt(Oe.count-1).charIndex);for(let We=0;We<fe.length;We++){const[Qe,St]=fe[We];let _t=1/0,ct=-1/0;for(let ut=0;ut<ke;ut++)if(Oe.glyphAt(ut).charIndex>=Qe){let Qt=ut,Jt=ut;for(;Jt<ke;Jt++){let mn=Oe.glyphAt(Jt);if(mn.charIndex>St)break;Jt<ke-at&&(_t=Math.min(_t,mn.x),ct=Math.max(ct,mn.x+mn.width))}for(let mn=Qt;mn<Jt;mn++){const Qr=Oe.glyphAt(mn);Qr.x=ct-(Qr.x+Qr.width-_t)}break}}let Be;const Je=We=>Be=We;for(let We=0;We<ke;We++){const Qe=Oe.glyphAt(We);Be=Qe.glyphObj;const St=Be.index,_t=ye.levels[Qe.charIndex]&1;if(_t){const ct=e.getMirroredCharacter(g[Qe.charIndex]);ct&&Qe.fontData.fontObj.forEachGlyph(ct,0,0,Je)}if(H){const{charIndex:ct,fontData:ut}=Qe,Qt=Qe.x+ee,Jt=Qe.x+Qe.width+ee;ve[ct*4]=_t?Jt:Qt,ve[ct*4+1]=_t?Qt:Jt,ve[ct*4+2]=Oe.baseline+ut.caretBottom+ae,ve[ct*4+3]=Oe.baseline+ut.caretTop+ae;const mn=ct-Ee;mn>1&&u(ve,Ee,mn),Ee=ct}if(z){const{charIndex:ct}=Qe;for(;ct>pe;)pe++,z.hasOwnProperty(pe)&&(Xe=z[pe])}if(!Be.isWhitespace&&!Be.isEmpty){const ct=Fe++,{fontSizeMult:ut,src:Qt,index:Jt}=Qe.fontData,mn=Re[Qt]||(Re[Qt]={});mn[St]||(mn[St]={path:Be.path,pathBounds:[Be.xMin,Be.yMin,Be.xMax,Be.yMax]});const Qr=Qe.x+ee,zi=Qe.y+Oe.baseline+ae;de[ct*2]=Qr,de[ct*2+1]=zi;const qr=Qr+Be.xMin*ut,J=zi+Be.yMin*ut,he=Qr+Be.xMax*ut,Me=zi+Be.yMax*ut;qr<ne[0]&&(ne[0]=qr),J<ne[1]&&(ne[1]=J),he>ne[2]&&(ne[2]=he),Me>ne[3]&&(ne[3]=Me),ct%U===0&&(je={start:ct,end:ct,rect:[1/0,1/0,-1/0,-1/0]},oe.push(je)),je.end++;const ue=je.rect;if(qr<ue[0]&&(ue[0]=qr),J<ue[1]&&(ue[1]=J),he>ue[2]&&(ue[2]=he),Me>ue[3]&&(ue[3]=Me),Q[ct]=St,ce[ct]=Jt,z){const De=ct*3;ge[De]=Xe>>16&255,ge[De+1]=Xe>>8&255,ge[De+2]=Xe&255}}}}}),ve){const Oe=g.length-Ee;Oe>1&&u(ve,Ee,Oe)}}const Ce=[];Ne.forEach(({index:ye,src:Fe,unitsPerEm:Ee,ascender:pe,descender:je,lineHeight:Xe,capHeight:Oe,xHeight:ze})=>{Ce[ye]={src:Fe,unitsPerEm:Ee,ascender:pe,descender:je,lineHeight:Xe,capHeight:Oe,xHeight:ze}}),Z.typesetting=f()-we,G({glyphIds:Q,glyphFontIndices:ce,glyphPositions:de,glyphData:Re,fontData:Ce,caretPositions:ve,glyphColors:ge,chunkedBounds:oe,fontSize:x,topBaseline:ae+X[0].baseline,blockBounds:[ee,ae-O,ee+_e,ae],visibleBounds:ne,timings:Z})})}function l(g,v){a({...g,metricsOnly:!0},y=>{const[_,x,w,A]=y.blockBounds;v({width:w-_,height:A-x})})}function c(g){let v=g.match(/^([\d.]+)%$/),y=v?parseFloat(v[1]):NaN;return isNaN(y)?0:y/100}function u(g,v,y){const _=g[v*4],x=g[v*4+1],w=g[v*4+2],A=g[v*4+3],C=(x-_)/y;for(let E=0;E<y;E++){const P=(v+E)*4;g[P]=_+C*E,g[P+1]=_+C*(E+1),g[P+2]=w,g[P+3]=A}}function f(){return(self.performance||Date).now()}function d(){this.data=[]}const p=["glyphObj","x","y","width","charIndex","fontData"];return d.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/p.length)},glyphAt(g){let v=d.flyweight;return v.data=this.data,v.index=g,v},splitAt(g){let v=new d;return v.data=this.data.splice(g*p.length),v}},d.flyweight=p.reduce((g,v,y,_)=>(Object.defineProperty(g,v,{get(){return this.data[this.index*p.length+y]},set(x){this.data[this.index*p.length+y]=x}}),g),{data:null,index:0}),{typeset:a,measure:l}}const ku=()=>(self.performance||Date).now(),rx=JU();let VB;function Ree(n,e,t,r,i,s,o,a,l,c,u=!0){return u?Bee(n,e,t,r,i,s,o,a,l,c).then(null,f=>(VB||(console.warn("WebGL SDF generation failed, falling back to JS",f),VB=!0),jB(n,e,t,r,i,s,o,a,l,c))):jB(n,e,t,r,i,s,o,a,l,c)}const e1=[],Dee=5;let wM=0;function YU(){const n=ku();for(;e1.length&&ku()-n<Dee;)e1.shift()();wM=e1.length?setTimeout(YU,0):0}const Bee=(...n)=>new Promise((e,t)=>{e1.push(()=>{const r=ku();try{rx.webgl.generateIntoCanvas(...n),e({timing:ku()-r})}catch(i){t(i)}}),wM||(wM=setTimeout(YU,0))}),Lee=4,Iee=2e3,WB={};let kee=0;function jB(n,e,t,r,i,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+kee++%Lee;let f=WB[u];return f||(f=WB[u]={workerModule:kh({name:u,workerId:u,dependencies:[JU,ku],init(d,p){const g=d().javascript.generate;return function(...v){const y=p();return{textureData:g(...v),timing:p()-y}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(n,e,t,r,i,s).then(({textureData:d,timing:p})=>{const g=ku(),v=new Uint8Array(d.length*4);for(let y=0;y<d.length;y++)v[y*4+c]=d[y];return rx.webglUtils.renderImageData(o,v,a,l,n,e,1<<3-c),p+=ku()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{dee(u)},Iee)),{timing:p}})}function Fee(n){n._warm||(rx.webgl.isSupported(n),n._warm=!0)}const Oee=rx.webglUtils.resizeWebGLCanvasWithoutClearing,fd={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Nee=new He;function id(){return(self.performance||Date).now()}const $B=Object.create(null);function QU(n,e){n=Gee({},n);const t=id(),{defaultFontURL:r}=fd,i=[];if(r&&i.push({label:"default",src:XB(r)}),n.font&&i.push({label:"user",src:XB(n.font)}),n.font=i,n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||fd.sdfGlyphSize,n.unicodeFontsURL=n.unicodeFontsURL||fd.unicodeFontsURL,n.colorRanges!=null){let d={};for(let p in n.colorRanges)if(n.colorRanges.hasOwnProperty(p)){let g=n.colorRanges[p];typeof g!="number"&&(g=Nee.set(g).getHex()),d[p]=g}n.colorRanges=d}Object.freeze(n);const{textureWidth:s,sdfExponent:o}=fd,{sdfGlyphSize:a}=n,l=s/a*4;let c=$B[a];if(!c){const d=document.createElement("canvas");d.width=s,d.height=a*256/l,c=$B[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:d,sdfTexture:new on(d,void 0,void 0,void 0,fn,fn),contextLost:!1,glyphsByFont:new Map},c.sdfTexture.generateMipmaps=!1,Uee(c)}const{sdfTexture:u,sdfCanvas:f}=c;Vee(n).then(d=>{const{glyphIds:p,glyphFontIndices:g,fontData:v,glyphPositions:y,fontSize:_,timings:x}=d,w=[],A=new Float32Array(p.length*4);let C=0,E=0;const P=id(),M=v.map(N=>{let k=c.glyphsByFont.get(N.src);return k||c.glyphsByFont.set(N.src,k=new Map),k});p.forEach((N,k)=>{const V=g[k],{src:W,unitsPerEm:K}=v[V];let H=M[V].get(N);if(!H){const{path:Z,pathBounds:q}=d.glyphData[W][N],re=Math.max(q[2]-q[0],q[3]-q[1])/a*(fd.sdfMargin*a+.5),Q=c.glyphCount++,ce=[q[0]-re,q[1]-re,q[2]+re,q[3]+re];M[V].set(N,H={path:Z,atlasIndex:Q,sdfViewBox:ce}),w.push(H)}const{sdfViewBox:U}=H,z=y[E++],G=y[E++],j=_/K;A[C++]=z+U[0]*j,A[C++]=G+U[1]*j,A[C++]=z+U[2]*j,A[C++]=G+U[3]*j,p[k]=H.atlasIndex}),x.quads=(x.quads||0)+(id()-P);const T=id();x.sdf={};const D=f.height,F=Math.ceil(c.glyphCount/l),L=Math.pow(2,Math.ceil(Math.log2(F*a)));L>D&&(console.info(`Increasing SDF texture size ${D}->${L}`),Oee(f,s,L),u.dispose()),Promise.all(w.map(N=>qU(N,c,n.gpuAccelerateSDF).then(({timing:k})=>{x.sdf[N.atlasIndex]=k}))).then(()=>{w.length&&!c.contextLost&&(ZU(c),u.needsUpdate=!0),x.sdfTotal=id()-T,x.total=id()-t,e(Object.freeze({parameters:n,sdfTexture:u,sdfGlyphSize:a,sdfExponent:o,glyphBounds:A,glyphAtlasIndices:p,glyphColors:d.glyphColors,caretPositions:d.caretPositions,chunkedBounds:d.chunkedBounds,ascender:d.ascender,descender:d.descender,lineHeight:d.lineHeight,capHeight:d.capHeight,xHeight:d.xHeight,topBaseline:d.topBaseline,blockBounds:d.blockBounds,visibleBounds:d.visibleBounds,timings:d.timings}))})}),Promise.resolve().then(()=>{c.contextLost||Fee(f)})}function qU({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=fd,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4),f=u%(a/r)*r,d=Math.floor(u/(a/r))*r,p=e%4;return Ree(r,r,n,t,c,l,i,f,d,p,o)}function Uee(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const r=[];n.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(qU(s,n,!0))})}),Promise.all(r).then(()=>{ZU(n),n.sdfTexture.needsUpdate=!0})})}function zee({font:n,characters:e,sdfGlyphSize:t},r){let i=Array.isArray(e)?e.join(`
`):""+e;QU({font:n,sdfGlyphSize:t,text:i},r)}function Gee(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let dy;function XB(n){return dy||(dy=typeof document>"u"?{}:document.createElement("a")),dy.href=n,dy.href}function ZU(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:r,height:i}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),t.image={width:r,height:i,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const Hee=kh({name:"Typesetter",dependencies:[Pee,Tee,pee],init(n,e,t){return n(e,t())}}),Vee=kh({name:"Typesetter",dependencies:[Hee],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[];for(let t in n)n[t]&&n[t].buffer&&e.push(n[t].buffer);return e}}),JB={};function Wee(n){let e=JB[n];if(!e){const t=new rl(1,1,n,n),r=t.clone(),i=t.attributes,s=r.attributes,o=new gt,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new et([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...t.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=JB[n]=o}return e}const jee="aTroikaGlyphBounds",KB="aTroikaGlyphIndex",$ee="aTroikaGlyphColor";class Xee extends KC{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new nl,this.boundingBox=new tl}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===mi?t/2:0,e===Gs?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=Wee(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=t.attributes[r].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,i,s){HS(this,jee,e,4),HS(this,KB,t,1),HS(this,$ee,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:i,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=i/2,f=i*2,d=Math.abs(t),p=e[0]/d,g=e[2]/d,v=s((p+u)/f)!==s((g+u)/f)?-d:o(l(p)*d,l(g)*d),y=s((p-u)/f)!==s((g-u)/f)?d:a(l(p)*d,l(g)*d),_=s((p+i)/f)!==s((g+i)/f)?d*2:a(d-c(p)*d,d-c(g)*d);r.min.set(v,e[1],t<0?-_:0),r.max.set(y,e[3],t<0?0:_)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(KB).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){t=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}}function HS(n,e,t,r){const i=n.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(n.setAttribute(e,new uc(t,r)),delete n._maxInstanceCount,n.dispose()):i&&n.deleteAttribute(e)}const Jee=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Kee=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Yee=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Qee=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function qee(n){const e=xM(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Le},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Pt(0,0,0,0)},uTroikaClipRect:{value:new Pt(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Le},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new He},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Wr},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Jee,vertexTransform:Kee,fragmentDefs:Yee,fragmentColorTransform:Qee,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(KU,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const lE=new Ri({color:16777215,side:Gs,transparent:!0}),YB=8421504,QB=new Ze,hy=new $,VS=new $,zp=[],Zee=new $,WS="+x+y";function qB(n){return Array.isArray(n)?n[0]:n}let e5=()=>{const n=new On(new rl(1,1),lE);return e5=()=>n,n},t5=()=>{const n=new On(new rl(1,1,32,1),lE);return t5=()=>n,n};const ete={type:"syncstart"},tte={type:"synccomplete"},n5=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],nte=n5.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let r5=class extends On{constructor(){const e=new Xee;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=YB,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=WS,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(ete),QU({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(tte),e&&e()})))}onBeforeRender(e,t,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=Wa}onAfterRender(e,t,r,i,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=lE.clone());if((!e||e.baseMaterial!==t)&&(e=this._derivedMaterial=qee(t),t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return qB(this.material).getDepthMaterial()}get customDistanceMaterial(){return qB(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let c=0,u=0,f=0,d,p,g,v=0,y=0;if(t){let{outlineWidth:x,outlineOffsetX:w,outlineOffsetY:A,outlineBlur:C,outlineOpacity:E}=this;c=this._parsePercent(x)||0,u=Math.max(0,this._parsePercent(C)||0),d=E,v=this._parsePercent(w)||0,y=this._parsePercent(A)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??YB),p=this.strokeOpacity,p==null&&(p=1)),d=this.fillOpacity;r.uTroikaDistanceOffset.value=c,r.uTroikaPositionOffset.value.set(v,y),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=p,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let _=this.clipRect;if(_&&Array.isArray(_)&&_.length===4)r.uTroikaClipRect.value.fromArray(_);else{const x=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-x,l[1]-x,l[2]+x,l[3]+x)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new He;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||WS;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==WS&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,f,d]=l;hy.set(0,0,0)[u]=c==="-"?1:-1,VS.set(0,0,0)[d]=f==="-"?-1:1,QB.lookAt(Zee,hy.cross(VS),VS),a.setFromMatrix4(QB)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new Le){t.copy(e);const r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new Le){return hy.copy(e),this.localPositionToTextCoords(this.worldToLocal(hy),t)}raycast(e,t){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?t5():e5(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let f=s[0]+c.getX(u)*(s[2]-s[0]);const d=s[1]+c.getY(u)*(s[3]-s[1]);let p=0;i&&(p=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(u,f,d,p)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,zp.length=0,o.raycast(e,zp);for(let u=0;u<zp.length;u++)zp[u].object=this,t.push(zp[u])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,nte.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};n5.forEach(n=>{const e="_private_"+n;Object.defineProperty(r5.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});const ZB=B.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},c)=>{const u=sl(({invalidate:g})=>g),[f]=B.useState(()=>new r5),[d,p]=B.useMemo(()=>{const g=[];let v="";return B.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?v+=y:g.push(y)}),[g,v]},[s]);return nE(()=>new Promise(g=>zee({font:r,characters:o},g)),["troika-text",r,o]),B.useLayoutEffect(()=>void f.sync(()=>{u(),a&&a(f)})),B.useEffect(()=>()=>f.dispose(),[f]),B.createElement("primitive",Xt({object:f,ref:c,font:r,text:p,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:n},l),d)});function rte(n,e,t,r){const i=class extends wo{constructor(o={}){const a=Object.entries(n);super({uniforms:a.reduce((l,[c,u])=>{const f=z_.clone({[c]:{value:u}});return{...l,...f}},{}),vertexShader:e,fragmentShader:t}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o),r&&r(this)}};return i.key=Ei.generateUUID(),i}const jS=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function i0(n,e){const t=sl(s=>s.gl),r=Co(Ih,jS(n)?Object.values(n):n);return B.useLayoutEffect(()=>{e==null||e(r)},[e]),B.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(r)?s=r:r instanceof on?s=[r]:jS(r)&&(s=Object.values(r)),s.forEach(o=>{o instanceof on&&t.initTexture(o)})}},[t,r]),B.useMemo(()=>{if(jS(n)){const s={};let o=0;for(const a in n)s[a]=r[o++];return s}else return r},[n,r])}i0.preload=n=>Co.preload(Ih,n);i0.clear=n=>Co.clear(Ih,n);const ite=()=>parseInt(Ch.replace(/\D+/g,"")),ste=ite(),eL=rte({color:new He("white"),scale:new Le(1,1),imageBounds:new Le(1,1),resolution:1024,map:null,zoom:1,radius:0,grayscale:0,opacity:1},`
  varying vec2 vUv;
  varying vec2 vPos;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
    vPos = position.xy;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  varying vec2 vPos;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform float resolution;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float radius;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  
  const float PI = 3.14159265;
    
  // from https://iquilezles.org/articles/distfunctions
  float udRoundBox( vec2 p, vec2 b, float r ) {
    return length(max(abs(p)-b+r,0.0))-r;
  }

  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);

    vec2 res = vec2(scale * resolution);
    vec2 halfRes = 0.5 * res;
    float b = udRoundBox(vUv.xy * res - halfRes, halfRes, resolution * radius);    
	  vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity * a), grayscale);
    
    #include <tonemapping_fragment>
    #include <${ste>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`),i5=B.forwardRef(({children:n,color:e,segments:t=1,scale:r=1,zoom:i=1,grayscale:s=0,opacity:o=1,radius:a=0,texture:l,toneMapped:c,transparent:u,side:f,...d},p)=>{cU({ImageMaterial:eL});const g=B.useRef(null),v=sl(w=>w.size),y=Array.isArray(r)?[r[0],r[1]]:[r,r],_=[l.image.width,l.image.height],x=Math.max(v.width,v.height);return B.useImperativeHandle(p,()=>g.current,[]),B.useLayoutEffect(()=>{g.current.geometry.parameters&&g.current.material.scale.set(y[0]*g.current.geometry.parameters.width,y[1]*g.current.geometry.parameters.height)},[]),B.createElement("mesh",Xt({ref:g,scale:Array.isArray(r)?[...r,1]:r},d),B.createElement("planeGeometry",{args:[1,1,t,t]}),B.createElement("imageMaterial",{color:e,map:l,zoom:i,grayscale:s,opacity:o,scale:y,imageBounds:_,resolution:x,radius:a,toneMapped:c,transparent:u,side:f,key:eL.key}),n)}),ote=B.forwardRef(({url:n,...e},t)=>{const r=i0(n);return B.createElement(i5,Xt({},e,{texture:r,ref:t}))}),ate=B.forwardRef(({url:n,...e},t)=>B.createElement(i5,Xt({},e,{ref:t}))),lte=B.forwardRef((n,e)=>{if(n.url)return B.createElement(ote,Xt({},n,{ref:e}));if(n.texture)return B.createElement(ate,Xt({},n,{ref:e}));throw new Error("<Image /> requires a url or texture")});let py=null,s5="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function o5(n,e,t){return r=>{t&&t(r),n&&(py||(py=new oee),py.setDecoderPath(typeof n=="string"?n:s5),r.setDRACOLoader(py)),e&&r.setMeshoptDecoder(typeof zS=="function"?zS():zS)}}function uf(n,e=!0,t=!0,r){return Co(oE,n,o5(e,t,r))}uf.preload=(n,e=!0,t=!0,r)=>Co.preload(oE,n,o5(e,t,r));uf.clear=n=>Co.clear(oE,n);uf.setDecoderPath=n=>{s5=n};function tc(n){return Co(aE,n)}tc.preload=n=>Co.preload(aE,n);tc.clear=n=>Co.clear(aE,n);const cte="modulepreload",ute=function(n){return"/"+n},tL={},fte=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=ute(s),s in tL)return;tL[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":cte,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var nL,rL;const dte=typeof window<"u"&&typeof((nL=window.document)==null?void 0:nL.createElement)=="function"&&typeof((rL=window.navigator)==null?void 0:rL.userAgent)=="string";let my=null;async function hte(n,e){if(dte&&n.pathname.endsWith(".m3u8")){var t;if((t=my)!==null&&t!==void 0||(my=await fte(()=>import("./hls-2c5740d1.js").then(r=>r.h),[])),my.default.isSupported())return new my.default({...e})}return null}function pte(n,{unsuspend:e="loadedmetadata",start:t=!0,crossOrigin:r="anonymous",muted:i=!0,loop:s=!0,hls:o={},...a}={}){const l=new URL(typeof n=="string"?n:"",window.location.href),c=B.useRef(null),u=B.useRef(null),f=sl(p=>p.gl),d=nE(()=>new Promise(async p=>{const g=Object.assign(document.createElement("video"),{src:typeof n=="string"&&n||void 0,srcObject:n instanceof MediaStream&&n||void 0,crossOrigin:r,loop:s,muted:i,...a});if(u.current=g,typeof n=="string"){const y=c.current=await hte(l,o);y?(y.attachMedia(g),y.on("hlsMediaAttached",()=>{y.loadSource(n)})):g.src=n}else n instanceof MediaStream&&(g.srcObject=n);const v=new MN(g);"colorSpace"in v?v.colorSpace=f.outputColorSpace:v.encoding=f.outputEncoding,g.addEventListener(e,()=>p(v))}),[n]);return B.useEffect(()=>(t&&d.image.play(),()=>{c.current&&(c.current.destroy(),c.current=null)}),[d,t]),d}function mte(n,e){const t=B.useRef(),[r]=B.useState(()=>e?e instanceof Rt?{current:e}:e:t),[i]=B.useState(()=>new ZN(void 0));B.useLayoutEffect(()=>{e&&(r.current=e instanceof Rt?e:e.current),i._root=r.current});const s=B.useRef({}),o=B.useMemo(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:n,actions:a,names:n.map(l=>l.name),mixer:i}},[n]);return hs((a,l)=>i.update(l)),B.useEffect(()=>{const a=r.current;return()=>{s.current={},i.stopAllAction(),Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[n]),o}var a5={exports:{}},gte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vte=gte,yte=vte;function l5(){}function c5(){}c5.resetWarningCache=l5;var _te=function(){function n(r,i,s,o,a,l){if(l!==yte){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:c5,resetWarningCache:l5};return t.PropTypes=t,t};a5.exports=_te();var xte=a5.exports;const an=Sh(xte);var wte=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class Ste extends ds{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${wte}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const iL=B.forwardRef(({speed:n=1,...e},t)=>{const[r]=B.useState(()=>new Ste);return hs(i=>r&&(r.time=i.clock.getElapsedTime()*n)),B.createElement("primitive",Xt({object:r,ref:t,attach:"material"},e))});class Ate extends fc{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._factor={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.factor=this._factor,e.vertexShader=`
      uniform float time;
      uniform float factor;
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`float theta = sin( time + position.y ) / 2.0 * factor;
        float c = cos( theta );
        float s = sin( theta );
        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );
        vec3 transformed = vec3( position ) * m;
        vNormal = vNormal * m;`)}get time(){return this._time.value}set time(e){this._time.value=e}get factor(){return this._factor.value}set factor(e){this._factor.value=e}}const bte=B.forwardRef(({speed:n=1,...e},t)=>{const[r]=B.useState(()=>new Ate);return hs(i=>r&&(r.time=i.clock.getElapsedTime()*n)),B.createElement("primitive",Xt({object:r,ref:t,attach:"material"},e))});function Mte(n,e){const t=n+"Geometry";return B.forwardRef(({args:r,children:i,...s},o)=>{const a=B.useRef(null);return B.useImperativeHandle(o,()=>a.current),B.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),B.createElement("mesh",Xt({ref:a},s),B.createElement(t,{attach:"geometry",args:r}),i)})}const Cte=Mte("sphere"),$S=B.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],autoInvalidate:o=!1,...a},l)=>{const c=B.useRef(null);B.useImperativeHandle(l,()=>c.current,[]);const u=B.useRef(Math.random()*1e4);return hs(f=>{var d,p;if(!e||t===0)return;o&&f.invalidate();const g=u.current+f.clock.getElapsedTime();c.current.rotation.x=Math.cos(g/4*t)/8*r,c.current.rotation.y=Math.sin(g/4*t)/8*r,c.current.rotation.z=Math.sin(g/4*t)/20*r;let v=Math.sin(g/4*t)/10;v=Ei.mapLinear(v,-.1,.1,(d=s==null?void 0:s[0])!==null&&d!==void 0?d:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),c.current.position.y=v*i,c.current.updateMatrix()}),B.createElement("group",a,B.createElement("group",{ref:c,matrixAutoUpdate:!1},n))}),cg=B.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),ix=B.createContext({}),cE=B.createContext(null),sx=typeof document<"u",sL=sx?B.useLayoutEffect:B.useEffect,u5=B.createContext({strict:!1});function Ete(n,e,t,r){const{visualElement:i}=B.useContext(ix),s=B.useContext(u5),o=B.useContext(cE),a=B.useContext(cg).reducedMotion,l=B.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return B.useInsertionEffect(()=>{c&&c.update(t,o)}),sL(()=>{c&&c.render()}),B.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?sL:B.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function Pd(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Tte(n,e,t){return B.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Pd(t)&&(t.current=r))},[e])}function ug(n){return typeof n=="string"||Array.isArray(n)}function ox(n){return typeof n=="object"&&typeof n.start=="function"}const uE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fE=["initial",...uE];function ax(n){return ox(n.animate)||fE.some(e=>ug(n[e]))}function f5(n){return!!(ax(n)||n.variants)}function Pte(n,e){if(ax(n)){const{initial:t,animate:r}=n;return{initial:t===!1||ug(t)?t:void 0,animate:ug(r)?r:void 0}}return n.inherit!==!1?e:{}}function Rte(n){const{initial:e,animate:t}=Pte(n,B.useContext(ix));return B.useMemo(()=>({initial:e,animate:t}),[oL(e),oL(t)])}function oL(n){return Array.isArray(n)?n.join(" "):n}const aL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fg={};for(const n in aL)fg[n]={isEnabled:e=>aL[n].some(t=>!!e[t])};function Dte(n){for(const e in n)fg[e]={...fg[e],...n[e]}}const d5=B.createContext({}),h5=B.createContext({}),Bte=Symbol.for("motionComponentSymbol");function p5({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&Dte(n);function s(a,l){let c;const u={...B.useContext(cg),...a,layoutId:Lte(a)},{isStatic:f}=u,d=Rte(a),p=r(a,f);if(!f&&sx){d.visualElement=Ete(i,p,u,e);const g=B.useContext(h5),v=B.useContext(u5).strict;d.visualElement&&(c=d.visualElement.loadFeatures(u,v,n,g))}return B.createElement(ix.Provider,{value:d},c&&d.visualElement?B.createElement(c,{visualElement:d.visualElement,...u}):null,t(i,a,Tte(p,d.visualElement,l),p,f,d.visualElement))}const o=B.forwardRef(s);return o[Bte]=i,o}function Lte({layoutId:n}){const e=B.useContext(d5).id;return e&&n!==void 0?e+"-"+n:n}function Ite(n){function e(r,i={}){return p5(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const kte=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dE(n){return typeof n!="string"||n.includes("-")?!1:!!(kte.indexOf(n)>-1||/[A-Z]/.test(n))}const U1={};function Fte(n){Object.assign(U1,n)}const s0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ff=new Set(s0);function m5(n,{layout:e,layoutId:t}){return ff.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!U1[n]||n==="opacity")}const Nn=n=>!!(n&&n.getVelocity),Ote={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nte=s0.length;function Ute(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<Nte;o++){const a=s0[o];if(n[a]!==void 0){const l=Ote[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const g5=n=>e=>typeof e=="string"&&e.startsWith(n),v5=g5("--"),SM=g5("var(--"),zte=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Gte=(n,e)=>e&&typeof n=="number"?e.transform(n):n,pc=(n,e,t)=>Math.min(Math.max(t,n),e),df={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},wm={...df,transform:n=>pc(0,1,n)},gy={...df,default:1},Sm=n=>Math.round(n*1e5)/1e5,lx=/(-)?([\d]*\.?[\d])+/g,y5=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Hte=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function o0(n){return typeof n=="string"}const a0=n=>({test:e=>o0(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Pl=a0("deg"),jo=a0("%"),pt=a0("px"),Vte=a0("vh"),Wte=a0("vw"),lL={...jo,parse:n=>jo.parse(n)/100,transform:n=>jo.transform(n*100)},cL={...df,transform:Math.round},_5={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,size:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,rotate:Pl,rotateX:Pl,rotateY:Pl,rotateZ:Pl,scale:gy,scaleX:gy,scaleY:gy,scaleZ:gy,skew:Pl,skewX:Pl,skewY:Pl,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:wm,originX:lL,originY:lL,originZ:pt,zIndex:cL,fillOpacity:wm,strokeOpacity:wm,numOctaves:cL};function hE(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,u=!0;for(const f in e){const d=e[f];if(v5(f)){s[f]=d;continue}const p=_5[f],g=Gte(d,p);if(ff.has(f)){if(l=!0,o[f]=g,!u)continue;d!==(p.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=g):i[f]=g}if(e.transform||(l||r?i.transform=Ute(n.transform,t,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:p=0}=a;i.transformOrigin=`${f} ${d} ${p}`}}const pE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function x5(n,e,t){for(const r in e)!Nn(e[r])&&!m5(r,t)&&(n[r]=e[r])}function jte({transformTemplate:n},e,t){return B.useMemo(()=>{const r=pE();return hE(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function $te(n,e,t){const r=n.style||{},i={};return x5(i,r,n),Object.assign(i,jte(n,e,t)),n.transformValues?n.transformValues(i):i}function Xte(n,e,t){const r={},i=$te(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const Jte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function z1(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||Jte.has(n)}let w5=n=>!z1(n);function S5(n){n&&(w5=e=>e.startsWith("on")?!z1(e):n(e))}try{S5(require("@emotion/is-prop-valid").default)}catch{}function A5(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(w5(i)||t===!0&&z1(i)||!e&&!z1(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function uL(n,e,t){return typeof n=="string"?n:pt.transform(e+t*n)}function Kte(n,e,t){const r=uL(e,n.x,n.width),i=uL(t,n.y,n.height);return`${r} ${i}`}const Yte={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qte={offset:"strokeDashoffset",array:"strokeDasharray"};function qte(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Yte:Qte;n[s.offset]=pt.transform(-r);const o=pt.transform(e),a=pt.transform(t);n[s.array]=`${o} ${a}`}function mE(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f,d){if(hE(n,c,u,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:g,dimensions:v}=n;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=Kte(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),r!==void 0&&(p.scale=r),o!==void 0&&qte(p,o,a,l,!1)}const b5=()=>({...pE(),attrs:{}}),gE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Zte(n,e,t,r){const i=B.useMemo(()=>{const s=b5();return mE(s,e,{enableHardwareAcceleration:!1},gE(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};x5(s,n.style,n),i.style={...s,...i.style}}return i}function ene(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(dE(t)?Zte:Xte)(r,s,o,t),u={...A5(r,typeof t=="string",n),...l,ref:i},{children:f}=r,d=B.useMemo(()=>Nn(f)?f.get():f,[f]);return B.createElement(t,{...u,children:d})}}const vE=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function M5(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const C5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function E5(n,e,t,r){M5(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(C5.has(i)?i:vE(i),e.attrs[i])}function yE(n,e){const{style:t}=n,r={};for(const i in t)(Nn(t[i])||e.style&&Nn(e.style[i])||m5(i,n))&&(r[i]=t[i]);return r}function T5(n,e){const t=yE(n,e);for(const r in n)if(Nn(n[r])||Nn(e[r])){const i=s0.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function _E(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function xE(n){const e=B.useRef(null);return e.current===null&&(e.current=n()),e.current}const G1=n=>Array.isArray(n),tne=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),nne=n=>G1(n)?n[n.length-1]||0:n;function Am(n){const e=Nn(n)?n.get():n;return tne(e)?e.toValue():e}function rne({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:ine(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const wE=n=>(e,t)=>{const r=B.useContext(ix),i=B.useContext(cE),s=()=>rne(n,e,r,i);return t?s():xE(s)};function ine(n,e,t,r){const i={},s=r(n,{});for(const d in s)i[d]=Am(s[d]);let{initial:o,animate:a}=n;const l=ax(n),c=f5(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const f=u?a:o;return f&&typeof f!="boolean"&&!ox(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const g=_E(n,p);if(!g)return;const{transitionEnd:v,transition:y,..._}=g;for(const x in _){let w=_[x];if(Array.isArray(w)){const A=u?w.length-1:0;w=w[A]}w!==null&&(i[x]=w)}for(const x in v)i[x]=v[x]}),i}const sne={useVisualState:wE({scrapeMotionValuesFromProps:T5,createRenderState:b5,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}mE(t,r,{enableHardwareAcceleration:!1},gE(e.tagName),n.transformTemplate),E5(e,t)}})},one={useVisualState:wE({scrapeMotionValuesFromProps:yE,createRenderState:pE})};function ane(n,{forwardMotionProps:e=!1},t,r){return{...dE(n)?sne:one,preloadedFeatures:t,useRender:ene(e),createVisualElement:r,Component:n}}function Pa(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const P5=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function cx(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const R5=n=>e=>P5(e)&&n(e,cx(e));function vo(n,e,t,r){return Pa(n,e,R5(t),r)}const lne=(n,e)=>t=>e(n(t)),Ia=(...n)=>n.reduce(lne);function D5(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const fL=D5("dragHorizontal"),dL=D5("dragVertical");function B5(n){let e=!1;if(n==="y")e=dL();else if(n==="x")e=fL();else{const t=fL(),r=dL();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function SE(){const n=B5(!0);return n?(n(),!1):!0}class Ec{constructor(e){this.isMounted=!1,this.node=e}update(){}}const Qn=n=>n;function cne(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,d=f?e:t;return c&&o.add(l),d.indexOf(l)===-1&&(d.push(l),f&&i&&(r=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const vy=["prepare","read","update","preRender","render","postRender"],une=40;function fne(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=vy.reduce((f,d)=>(f[d]=cne(()=>t=!0),f),{}),o=f=>s[f].process(i),a=f=>{t=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,une),1),i.timestamp=f,i.isProcessing=!0,vy.forEach(o),i.isProcessing=!1,t&&e&&(r=!1,n(a))},l=()=>{t=!0,r=!0,i.isProcessing||n(a)};return{schedule:vy.reduce((f,d)=>{const p=s[d];return f[d]=(g,v=!1,y=!1)=>(t||l(),p.schedule(g,v,y)),f},{}),cancel:f=>vy.forEach(d=>s[d].cancel(f)),state:i,steps:s}}const{schedule:Pn,cancel:Xa,state:Gr,steps:XS}=fne(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qn,!0);function hL(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||SE())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&Pn.update(()=>a[r](s,o))};return vo(n.current,t,i,{passive:!n.getProps()[r]})}class dne extends Ec{mount(){this.unmount=Ia(hL(this.node,!0),hL(this.node,!1))}unmount(){}}class hne extends Ec{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ia(Pa(this.node.current,"focus",()=>this.onFocus()),Pa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const L5=(n,e)=>e?n===e?!0:L5(n,e.parentElement):!1;function JS(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,cx(t))}class pne extends Ec{constructor(){super(...arguments),this.removeStartListeners=Qn,this.removeEndListeners=Qn,this.removeAccessibleListeners=Qn,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=vo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();Pn.update(()=>{L5(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=vo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ia(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||JS("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Pn.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Pa(this.node.current,"keyup",o),JS("down",(a,l)=>{this.startPress(a,l)})},t=Pa(this.node.current,"keydown",e),r=()=>{this.isPressing&&JS("cancel",(s,o)=>this.cancelPress(s,o))},i=Pa(this.node.current,"blur",r);this.removeAccessibleListeners=Ia(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Pn.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!SE()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Pn.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=vo(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Pa(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ia(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const AM=new WeakMap,KS=new WeakMap,mne=n=>{const e=AM.get(n.target);e&&e(n)},gne=n=>{n.forEach(mne)};function vne({root:n,...e}){const t=n||document;KS.has(t)||KS.set(t,{});const r=KS.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(gne,{root:n,...e})),r[i]}function yne(n,e,t){const r=vne(e);return AM.set(n,t),r.observe(n),()=>{AM.delete(n),r.unobserve(n)}}const _ne={some:0,all:1};class xne extends Ec{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:_ne[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return yne(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(wne(e,t))&&this.startObserver()}unmount(){}}function wne({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Sne={inView:{Feature:xne},tap:{Feature:pne},focus:{Feature:hne},hover:{Feature:dne}};function I5(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Ane(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function bne(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function ux(n,e,t){const r=n.getProps();return _E(r,e,t!==void 0?t:r.custom,Ane(n),bne(n))}const Mne="framerAppearId",Cne="data-"+vE(Mne);let Ene=Qn,fx=Qn;const ka=n=>n*1e3,$o=n=>n/1e3,Tne={current:!1},k5=n=>Array.isArray(n)&&typeof n[0]=="number";function F5(n){return!!(!n||typeof n=="string"&&O5[n]||k5(n)||Array.isArray(n)&&n.every(F5))}const Zp=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,O5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zp([0,.65,.55,1]),circOut:Zp([.55,0,1,.45]),backIn:Zp([.31,.01,.66,-.59]),backOut:Zp([.33,1.53,.69,.99])};function N5(n){if(n)return k5(n)?Zp(n):Array.isArray(n)?n.map(N5):O5[n]}function Pne(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=N5(a);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Rne(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const U5=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Dne=1e-7,Bne=12;function Lne(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=U5(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>Dne&&++a<Bne);return o}function l0(n,e,t,r){if(n===e&&t===r)return Qn;const i=s=>Lne(s,0,1,n,t);return s=>s===0||s===1?s:U5(i(s),e,r)}const Ine=l0(.42,0,1,1),kne=l0(0,0,.58,1),z5=l0(.42,0,.58,1),G5=n=>Array.isArray(n)&&typeof n[0]!="number",H5=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,V5=n=>e=>1-n(1-e),W5=n=>1-Math.sin(Math.acos(n)),AE=V5(W5),Fne=H5(AE),j5=l0(.33,1.53,.69,.99),bE=V5(j5),One=H5(bE),Nne=n=>(n*=2)<1?.5*bE(n):.5*(2-Math.pow(2,-10*(n-1))),Une={linear:Qn,easeIn:Ine,easeInOut:z5,easeOut:kne,circIn:W5,circInOut:Fne,circOut:AE,backIn:bE,backInOut:One,backOut:j5,anticipate:Nne},pL=n=>{if(Array.isArray(n)){fx(n.length===4);const[e,t,r,i]=n;return l0(e,t,r,i)}else if(typeof n=="string")return Une[n];return n},ME=(n,e)=>t=>!!(o0(t)&&Hte.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),$5=(n,e,t)=>r=>{if(!o0(r))return r;const[i,s,o,a]=r.match(lx);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},zne=n=>pc(0,255,n),YS={...df,transform:n=>Math.round(zne(n))},bu={test:ME("rgb","red"),parse:$5("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+YS.transform(n)+", "+YS.transform(e)+", "+YS.transform(t)+", "+Sm(wm.transform(r))+")"};function Gne(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const bM={test:ME("#"),parse:Gne,transform:bu.transform},Rd={test:ME("hsl","hue"),parse:$5("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+jo.transform(Sm(e))+", "+jo.transform(Sm(t))+", "+Sm(wm.transform(r))+")"},ui={test:n=>bu.test(n)||bM.test(n)||Rd.test(n),parse:n=>bu.test(n)?bu.parse(n):Rd.test(n)?Rd.parse(n):bM.parse(n),transform:n=>o0(n)?n:n.hasOwnProperty("red")?bu.transform(n):Rd.transform(n)},_n=(n,e,t)=>-t*n+t*e+n;function QS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Hne({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=QS(l,a,n+1/3),s=QS(l,a,n),o=QS(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const qS=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},Vne=[bM,bu,Rd],Wne=n=>Vne.find(e=>e.test(n));function mL(n){const e=Wne(n);let t=e.parse(n);return e===Rd&&(t=Hne(t)),t}const X5=(n,e)=>{const t=mL(n),r=mL(e),i={...t};return s=>(i.red=qS(t.red,r.red,s),i.green=qS(t.green,r.green,s),i.blue=qS(t.blue,r.blue,s),i.alpha=_n(t.alpha,r.alpha,s),bu.transform(i))};function jne(n){var e,t;return isNaN(n)&&o0(n)&&(((e=n.match(lx))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(y5))===null||t===void 0?void 0:t.length)||0)>0}const J5={regex:zte,countKey:"Vars",token:"${v}",parse:Qn},K5={regex:y5,countKey:"Colors",token:"${c}",parse:ui.parse},Y5={regex:lx,countKey:"Numbers",token:"${n}",parse:df.parse};function ZS(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function H1(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&ZS(t,J5),ZS(t,K5),ZS(t,Y5),t}function Q5(n){return H1(n).values}function q5(n){const{values:e,numColors:t,numVars:r,tokenised:i}=H1(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(J5.token,o[l]):l<r+t?a=a.replace(K5.token,ui.transform(o[l])):a=a.replace(Y5.token,Sm(o[l]));return a}}const $ne=n=>typeof n=="number"?0:n;function Xne(n){const e=Q5(n);return q5(n)(e.map($ne))}const mc={test:jne,parse:Q5,createTransformer:q5,getAnimatableNone:Xne},Z5=(n,e)=>t=>`${t>0?e:n}`;function ez(n,e){return typeof n=="number"?t=>_n(n,e,t):ui.test(n)?X5(n,e):n.startsWith("var(")?Z5(n,e):nz(n,e)}const tz=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>ez(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},Jne=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=ez(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},nz=(n,e)=>{const t=mc.createTransformer(e),r=H1(n),i=H1(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ia(tz(r.values,i.values),t):Z5(n,e)},dh=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},gL=(n,e)=>t=>_n(n,e,t);function Kne(n){return typeof n=="number"?gL:typeof n=="string"?ui.test(n)?X5:nz:Array.isArray(n)?tz:typeof n=="object"?Jne:gL}function Yne(n,e,t){const r=[],i=t||Kne(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Qn:e;a=Ia(l,a)}r.push(a)}return r}function rz(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(fx(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=Yne(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const f=dh(n[u],n[u+1],c);return o[u](f)};return t?c=>l(pc(n[0],n[s-1],c)):l}function iz(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=dh(0,e,r);n.push(_n(t,1,i))}}function sz(n){const e=[0];return iz(e,n.length-1),e}function Qne(n,e){return n.map(t=>t*e)}function qne(n,e){return n.map(()=>e||z5).splice(0,n.length-1)}function V1({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=G5(r)?r.map(pL):pL(r),s={done:!1,value:e[0]},o=Qne(t&&t.length===e.length?t:sz(e),n),a=rz(o,e,{ease:Array.isArray(i)?i:qne(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function oz(n,e){return e?n*(1e3/e):0}const Zne=5;function az(n,e,t){const r=Math.max(e-Zne,0);return oz(t-n(r),e-r)}const eA=.001,ere=.01,vL=10,tre=.05,nre=1;function rre({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;Ene(n<=ka(vL));let o=1-e;o=pc(tre,nre,o),n=pc(ere,vL,$o(n)),o<1?(i=c=>{const u=c*o,f=u*n,d=u-t,p=MM(c,o),g=Math.exp(-f);return eA-d/p*g},s=c=>{const f=c*o*n,d=f*t+t,p=Math.pow(o,2)*Math.pow(c,2)*n,g=Math.exp(-f),v=MM(Math.pow(c,2),o);return(-i(c)+eA>0?-1:1)*((d-p)*g)/v}):(i=c=>{const u=Math.exp(-c*n),f=(c-t)*n+1;return-eA+u*f},s=c=>{const u=Math.exp(-c*n),f=(t-c)*(n*n);return u*f});const a=5/n,l=sre(i,s,a);if(n=ka(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const ire=12;function sre(n,e,t){let r=t;for(let i=1;i<ire;i++)r=r-n(r)/e(r);return r}function MM(n,e){return n*Math.sqrt(1-e*e)}const ore=["duration","bounce"],are=["stiffness","damping","mass"];function yL(n,e){return e.some(t=>n[t]!==void 0)}function lre(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!yL(n,are)&&yL(n,ore)){const t=rre(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function CE({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:f,isResolvedFromDuration:d}=lre(r),p=u?-$o(u):0,g=l/(2*Math.sqrt(a*c)),v=s-i,y=$o(Math.sqrt(a/c)),_=Math.abs(v)<5;t||(t=_?.01:2),e||(e=_?.005:.5);let x;if(g<1){const w=MM(y,g);x=A=>{const C=Math.exp(-g*y*A);return s-C*((p+g*y*v)/w*Math.sin(w*A)+v*Math.cos(w*A))}}else if(g===1)x=w=>s-Math.exp(-y*w)*(v+(p+y*v)*w);else{const w=y*Math.sqrt(g*g-1);x=A=>{const C=Math.exp(-g*y*A),E=Math.min(w*A,300);return s-C*((p+g*y*v)*Math.sinh(E)+w*v*Math.cosh(E))/w}}return{calculatedDuration:d&&f||null,next:w=>{const A=x(w);if(d)o.done=w>=f;else{let C=p;w!==0&&(g<1?C=az(x,w,A):C=0);const E=Math.abs(C)<=t,P=Math.abs(s-A)<=e;o.done=E&&P}return o.value=o.done?s:A,o}}}function _L({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=n[0],d={done:!1,value:f},p=M=>a!==void 0&&M<a||l!==void 0&&M>l,g=M=>a===void 0?l:l===void 0||Math.abs(a-M)<Math.abs(l-M)?a:l;let v=t*e;const y=f+v,_=o===void 0?y:o(y);_!==y&&(v=_-f);const x=M=>-v*Math.exp(-M/r),w=M=>_+x(M),A=M=>{const T=x(M),D=w(M);d.done=Math.abs(T)<=c,d.value=d.done?_:D};let C,E;const P=M=>{p(d.value)&&(C=M,E=CE({keyframes:[d.value,g(d.value)],velocity:az(w,M,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:M=>{let T=!1;return!E&&C===void 0&&(T=!0,A(M),P(M)),C!==void 0&&M>C?E.next(M-C):(!T&&A(M),d)}}}const cre=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Pn.update(e,!0),stop:()=>Xa(e),now:()=>Gr.isProcessing?Gr.timestamp:performance.now()}},CM=2e4;function EM(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<CM;)e+=t,r=n.next(e);return e>=CM?1/0:e}const ure={decay:_L,inertia:_L,tween:V1,keyframes:V1,spring:CE};function W1({autoplay:n=!0,delay:e=0,driver:t=cre,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...d}){let p=1,g=!1,v,y;const _=()=>{y=new Promise(G=>{v=G})};_();let x;const w=ure[i]||V1;let A;w!==V1&&typeof r[0]!="number"&&(A=rz([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...d,keyframes:r});let E;a==="mirror"&&(E=w({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let P="idle",M=null,T=null,D=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=EM(C));const{calculatedDuration:F}=C;let L=1/0,N=1/0;F!==null&&(L=F+o,N=L*(s+1)-o);let k=0;const V=G=>{if(T===null)return;p>0&&(T=Math.min(T,G)),p<0&&(T=Math.min(G-N/p,T)),M!==null?k=M:k=Math.round(G-T)*p;const j=k-e*(p>=0?1:-1),Z=p>=0?j<0:j>N;k=Math.max(j,0),P==="finished"&&M===null&&(k=N);let q=k,re=C;if(s){const Re=k/L;let ge=Math.floor(Re),ve=Re%1;!ve&&Re>=1&&(ve=1),ve===1&&ge--,ge=Math.min(ge,s+1);const ne=!!(ge%2);ne&&(a==="reverse"?(ve=1-ve,o&&(ve-=o/L)):a==="mirror"&&(re=E));let oe=pc(0,1,ve);k>N&&(oe=a==="reverse"&&ne?1:0),q=oe*L}const Q=Z?{done:!1,value:r[0]}:re.next(q);A&&(Q.value=A(Q.value));let{done:ce}=Q;!Z&&F!==null&&(ce=p>=0?k>=N:k<=0);const de=M===null&&(P==="finished"||P==="running"&&ce);return f&&f(Q.value),de&&H(),Q},W=()=>{x&&x.stop(),x=void 0},K=()=>{P="idle",W(),v(),_(),T=D=null},H=()=>{P="finished",u&&u(),W(),v()},U=()=>{if(g)return;x||(x=t(V));const G=x.now();l&&l(),M!==null?T=G-M:(!T||P==="finished")&&(T=G),P==="finished"&&_(),D=T,M=null,P="running",x.start()};n&&U();const z={then(G,j){return y.then(G,j)},get time(){return $o(k)},set time(G){G=ka(G),k=G,M!==null||!x||p===0?M=G:T=x.now()-G/p},get duration(){const G=C.calculatedDuration===null?EM(C):C.calculatedDuration;return $o(G)},get speed(){return p},set speed(G){G===p||!x||(p=G,z.time=$o(k))},get state(){return P},play:U,pause:()=>{P="paused",M=k},stop:()=>{g=!0,P!=="idle"&&(P="idle",c&&c(),K())},cancel:()=>{D!==null&&V(D),K()},complete:()=>{P="finished"},sample:G=>(T=0,V(G))};return z}function fre(n){let e;return()=>(e===void 0&&(e=n()),e)}const dre=fre(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hre=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),yy=10,pre=2e4,mre=(n,e)=>e.type==="spring"||n==="backgroundColor"||!F5(e.ease);function gre(n,e,{onUpdate:t,onComplete:r,...i}){if(!(dre()&&hre.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(_=>{a=_})};c();let{keyframes:u,duration:f=300,ease:d,times:p}=i;if(mre(e,i)){const _=W1({...i,repeat:0,delay:0});let x={done:!1,value:u[0]};const w=[];let A=0;for(;!x.done&&A<pre;)x=_.sample(A),w.push(x.value),A+=yy;p=void 0,u=w,f=A-yy,d="linear"}const g=Pne(n.owner.current,e,u,{...i,duration:f,ease:d,times:p}),v=()=>g.cancel(),y=()=>{Pn.update(v),a(),c()};return g.onfinish=()=>{n.set(Rne(u,i)),r&&r(),y()},{then(_,x){return l.then(_,x)},get timeline(){return g.timeline},set timeline(_){g.timeline=_,g.onfinish=null},get time(){return $o(g.currentTime||0)},set time(_){g.currentTime=ka(_)},get speed(){return g.playbackRate},set speed(_){g.playbackRate=_},get duration(){return $o(f)},play:()=>{o||(g.play(),Xa(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:_}=g;if(_){const x=W1({...i,autoplay:!1});n.setWithVelocity(x.sample(_-yy).value,x.sample(_).value,yy)}y()},complete:()=>g.finish(),cancel:y}}function vre({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Qn,pause:Qn,stop:Qn,then:s=>(s(),Promise.resolve()),cancel:Qn,complete:Qn});return e?W1({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const yre={type:"spring",stiffness:500,damping:25,restSpeed:10},_re=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),xre={type:"keyframes",duration:.8},wre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sre=(n,{keyframes:e})=>e.length>2?xre:ff.has(n)?n.startsWith("scale")?_re(e[1]):yre:wre,TM=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mc.test(e)||e==="0")&&!e.startsWith("url(")),Are=new Set(["brightness","contrast","saturate","opacity"]);function bre(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(lx)||[];if(!r)return n;const i=t.replace(r,"");let s=Are.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const Mre=/([a-z-]*)\(.*?\)/g,PM={...mc,getAnimatableNone:n=>{const e=n.match(Mre);return e?e.map(bre).join(" "):n}},Cre={..._5,color:ui,backgroundColor:ui,outlineColor:ui,fill:ui,stroke:ui,borderColor:ui,borderTopColor:ui,borderRightColor:ui,borderBottomColor:ui,borderLeftColor:ui,filter:PM,WebkitFilter:PM},EE=n=>Cre[n];function lz(n,e){let t=EE(n);return t!==PM&&(t=mc),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const cz=n=>/^0[^.\s]+$/.test(n);function Ere(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||cz(n)}function Tre(n,e,t,r){const i=TM(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),Ere(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=lz(e,a)}return s}function Pre({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function uz(n,e){return n[e]||n.default||n}const TE=(n,e,t,r={})=>i=>{const s=uz(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-ka(o);const l=Tre(e,n,t,s),c=l[0],u=l[l.length-1],f=TM(n,c),d=TM(n,u);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Pre(s)||(p={...p,...Sre(n,p)}),p.duration&&(p.duration=ka(p.duration)),p.repeatDelay&&(p.repeatDelay=ka(p.repeatDelay)),!f||!d||Tne.current||s.type===!1)return vre(p);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=gre(e,n,p);if(g)return g}return W1(p)};function j1(n){return!!(Nn(n)&&n.add)}const Rre=n=>/^\-?\d*\.?\d+$/.test(n);function PE(n,e){n.indexOf(e)===-1&&n.push(e)}function dx(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class RE{constructor(){this.subscriptions=[]}add(e){return PE(this.subscriptions,e),()=>dx(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dre=n=>!isNaN(parseFloat(n));class Bre{constructor(e,t={}){this.version="10.13.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Gr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Pn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Pn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Dre(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new RE);const r=this.events[e].add(t);return e==="change"?()=>{r(),Pn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?oz(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qu(n,e){return new Bre(n,e)}const fz=n=>e=>e.test(n),Lre={test:n=>n==="auto",parse:n=>n},dz=[df,pt,jo,Pl,Wte,Vte,Lre],Gp=n=>dz.find(fz(n)),Ire=[...dz,ui,mc],kre=n=>Ire.find(fz(n));function Fre(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,qu(t))}function Ore(n,e){const t=ux(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=nne(s[o]);Fre(n,o,a)}}function hz(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(Rre(u)||cz(u))?u=parseFloat(u):!kre(u)&&mc.test(c)&&(u=lz(l,c)),n.addValue(l,qu(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function Nre(n,e){return e?(e[n]||e.default||e).from:void 0}function Ure(n,e,t){const r={};for(const i in n){const s=Nre(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function zre({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function DE(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const d=n.getValue(f),p=a[f];if(!d||p===void 0||u&&zre(u,f))continue;const g={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const y=n.getProps()[Cne];y&&(g.elapsed=window.HandoffAppearAnimations(y,f,d,Pn))}d.start(TE(f,d,p,n.shouldReduceMotion&&ff.has(f)?{type:!1}:g));const v=d.animation;j1(l)&&(l.add(f),v.then(()=>l.remove(f))),c.push(v)}return o&&Promise.all(c).then(()=>{o&&Ore(n,o)}),c}function RM(n,e,t={}){const r=ux(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(DE(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return Gre(n,e,c+l,u,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function Gre(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(Hre).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(RM(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Hre(n,e){return n.sortNodePosition(e)}function Vre(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>RM(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=RM(n,e,t);else{const i=typeof e=="function"?ux(n,e,t.custom):e;r=Promise.all(DE(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const Wre=[...uE].reverse(),jre=uE.length;function $re(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Vre(n,t,r)))}function Xre(n){let e=$re(n);const t=Kre();let r=!0;const i=(l,c)=>{const u=ux(n,c);if(u){const{transition:f,transitionEnd:d,...p}=u;l={...l,...p,...d}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),f=n.getVariantContext(!0)||{},d=[],p=new Set;let g={},v=1/0;for(let _=0;_<jre;_++){const x=Wre[_],w=t[x],A=u[x]!==void 0?u[x]:f[x],C=ug(A),E=x===c?w.isActive:null;E===!1&&(v=_);let P=A===f[x]&&A!==u[x]&&C;if(P&&r&&n.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...g},!w.isActive&&E===null||!A&&!w.prevProp||ox(A)||typeof A=="boolean")continue;const M=Jre(w.prevProp,A);let T=M||x===c&&w.isActive&&!P&&C||_>v&&C;const D=Array.isArray(A)?A:[A];let F=D.reduce(i,{});E===!1&&(F={});const{prevResolvedValues:L={}}=w,N={...L,...F},k=V=>{T=!0,p.delete(V),w.needsAnimating[V]=!0};for(const V in N){const W=F[V],K=L[V];g.hasOwnProperty(V)||(W!==K?G1(W)&&G1(K)?!I5(W,K)||M?k(V):w.protectedKeys[V]=!0:W!==void 0?k(V):p.add(V):W!==void 0&&p.has(V)?k(V):w.protectedKeys[V]=!0)}w.prevProp=A,w.prevResolvedValues=F,w.isActive&&(g={...g,...F}),r&&n.blockInitialAnimation&&(T=!1),T&&!P&&d.push(...D.map(V=>({animation:V,options:{type:x,...l}})))}if(p.size){const _={};p.forEach(x=>{const w=n.getBaseTarget(x);w!==void 0&&(_[x]=w)}),d.push({animation:_})}let y=!!d.length;return r&&u.initial===!1&&!n.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function a(l,c,u){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),t[l].isActive=c;const d=o(u,l);for(const p in t)t[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Jre(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!I5(e,n):!1}function nu(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kre(){return{animate:nu(!0),whileInView:nu(),whileHover:nu(),whileTap:nu(),whileDrag:nu(),whileFocus:nu(),exit:nu()}}class Yre extends Ec{constructor(e){super(e),e.animationState||(e.animationState=Xre(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ox(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Qre=0;class qre extends Ec{constructor(){super(...arguments),this.id=Qre++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pz={animation:{Feature:Yre},exit:{Feature:qre}},xL=(n,e)=>Math.abs(n-e);function Zre(n,e){const t=xL(n.x,e.x),r=xL(n.y,e.y);return Math.sqrt(t**2+r**2)}class mz{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=nA(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,f=Zre(c.offset,{x:0,y:0})>=3;if(!u&&!f)return;const{point:d}=c,{timestamp:p}=Gr;this.history.push({...d,timestamp:p});const{onStart:g,onMove:v}=this.handlers;u||(g&&g(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=tA(u,this.transformPagePoint),Pn.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:d}=this.handlers,p=nA(c.type==="pointercancel"?this.lastMoveEventInfo:tA(u,this.transformPagePoint),this.history);this.startEvent&&f&&f(c,p),d&&d(c,p)},!P5(e))return;this.handlers=t,this.transformPagePoint=r;const i=cx(e),s=tA(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Gr;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,nA(s,this.history)),this.removeListeners=Ia(vo(window,"pointermove",this.handlePointerMove),vo(window,"pointerup",this.handlePointerUp),vo(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xa(this.updatePoint)}}function tA(n,e){return e?{point:e(n.point)}:n}function wL(n,e){return{x:n.x-e.x,y:n.y-e.y}}function nA({point:n},e){return{point:n,delta:wL(n,gz(e)),offset:wL(n,eie(e)),velocity:tie(e,.1)}}function eie(n){return n[0]}function gz(n){return n[n.length-1]}function tie(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=gz(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>ka(e)));)t--;if(!r)return{x:0,y:0};const s=$o(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ls(n){return n.max-n.min}function DM(n,e=0,t=.01){return Math.abs(n-e)<=t}function SL(n,e,t,r=.5){n.origin=r,n.originPoint=_n(e.min,e.max,n.origin),n.scale=ls(t)/ls(e),(DM(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=_n(t.min,t.max,n.origin)-n.originPoint,(DM(n.translate)||isNaN(n.translate))&&(n.translate=0)}function bm(n,e,t,r){SL(n.x,e.x,t.x,r?r.originX:void 0),SL(n.y,e.y,t.y,r?r.originY:void 0)}function AL(n,e,t){n.min=t.min+e.min,n.max=n.min+ls(e)}function nie(n,e,t){AL(n.x,e.x,t.x),AL(n.y,e.y,t.y)}function bL(n,e,t){n.min=e.min-t.min,n.max=n.min+ls(e)}function Mm(n,e,t){bL(n.x,e.x,t.x),bL(n.y,e.y,t.y)}function rie(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?_n(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?_n(t,n,r.max):Math.min(n,t)),n}function ML(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function iie(n,{top:e,left:t,bottom:r,right:i}){return{x:ML(n.x,t,i),y:ML(n.y,e,r)}}function CL(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function sie(n,e){return{x:CL(n.x,e.x),y:CL(n.y,e.y)}}function oie(n,e){let t=.5;const r=ls(n),i=ls(e);return i>r?t=dh(e.min,e.max-r,n.min):r>i&&(t=dh(n.min,n.max-i,e.min)),pc(0,1,t)}function aie(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const BM=.35;function lie(n=BM){return n===!1?n=0:n===!0&&(n=BM),{x:EL(n,"left","right"),y:EL(n,"top","bottom")}}function EL(n,e,t){return{min:TL(n,e),max:TL(n,t)}}function TL(n,e){return typeof n=="number"?n:n[e]||0}const PL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dd=()=>({x:PL(),y:PL()}),RL=()=>({min:0,max:0}),jn=()=>({x:RL(),y:RL()});function Oo(n){return[n("x"),n("y")]}function vz({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function cie({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function uie(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function rA(n){return n===void 0||n===1}function LM({scale:n,scaleX:e,scaleY:t}){return!rA(n)||!rA(e)||!rA(t)}function lu(n){return LM(n)||yz(n)||n.z||n.rotate||n.rotateX||n.rotateY}function yz(n){return DL(n.x)||DL(n.y)}function DL(n){return n&&n!=="0%"}function $1(n,e,t){const r=n-t,i=e*r;return t+i}function BL(n,e,t,r,i){return i!==void 0&&(n=$1(n,i,r)),$1(n,t,r)+e}function IM(n,e=0,t=1,r,i){n.min=BL(n.min,e,t,r,i),n.max=BL(n.max,e,t,r,i)}function _z(n,{x:e,y:t}){IM(n.x,e.translate,e.scale,e.originPoint),IM(n.y,t.translate,t.scale,t.originPoint)}function fie(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Bd(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_z(n,o)),r&&lu(s.latestValues)&&Bd(n,s.latestValues))}e.x=LL(e.x),e.y=LL(e.y)}function LL(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Il(n,e){n.min=n.min+e,n.max=n.max+e}function IL(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=_n(n.min,n.max,s);IM(n,e[t],e[r],o,e.scale)}const die=["x","scaleX","originX"],hie=["y","scaleY","originY"];function Bd(n,e){IL(n.x,e,die),IL(n.y,e,hie)}function xz(n,e){return vz(uie(n.getBoundingClientRect(),e))}function pie(n,e,t){const r=xz(n,t),{scroll:i}=e;return i&&(Il(r.x,i.offset.x),Il(r.y,i.offset.y)),r}const mie=new WeakMap;class gie{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),t&&this.snapToCursor(cx(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:f,onDragStart:d}=this.getProps();if(u&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=B5(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oo(g=>{let v=this.getAxisMotionValue(g).get()||0;if(jo.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[g];_&&(v=ls(_)*(parseFloat(v)/100))}}this.originPoint[g]=v}),d&&Pn.update(()=>d(l,c),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:f,onDirectionLock:d,onDrag:p}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:g}=c;if(f&&this.currentDirection===null){this.currentDirection=vie(g),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",c.point,g),this.updateAxis("y",c.point,g),this.visualElement.render(),p&&p(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new mz(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Pn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!_y(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=rie(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Pd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=iie(r.layoutBox,e):this.constraints=!1,this.elastic=lie(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Oo(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=aie(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Pd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=pie(r,i.root,this.visualElement.getTransformPagePoint());let o=sie(i.layout.layoutBox,s);if(t){const a=t(cie(o));this.hasMutatedConstraints=!!a,a&&(o=vz(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Oo(u=>{if(!_y(u,t,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(TE(e,r,0,t))}stopAnimation(){Oo(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Oo(t=>{const{drag:r}=this.getProps();if(!_y(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-_n(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Pd(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Oo(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=oie({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Oo(o=>{if(!_y(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(_n(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;mie.set(this.visualElement,this);const e=this.visualElement.current,t=vo(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Pd(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Pa(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Oo(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=BM,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function _y(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function vie(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class yie extends Ec{constructor(e){super(e),this.removeGroupControls=Qn,this.removeListeners=Qn,this.controls=new gie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const kL=n=>(e,t)=>{n&&Pn.update(()=>n(e,t))};class _ie extends Ec{constructor(){super(...arguments),this.removePointerDownListener=Qn}onPointerDown(e){this.session=new mz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:kL(e),onStart:kL(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Pn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=vo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function xie(){const n=B.useContext(cE);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=B.useId();return B.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const t1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FL(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Hp={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(pt.test(n))n=parseFloat(n);else return n;const t=FL(n,e.target.x),r=FL(n,e.target.y);return`${t}% ${r}%`}},wie={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=mc.parse(n);if(i.length>5)return r;const s=mc.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=_n(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class Sie extends te.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Fte(Aie),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),t1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Pn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wz(n){const[e,t]=xie(),r=B.useContext(d5);return te.createElement(Sie,{...n,layoutGroup:r,switchLayoutGroup:B.useContext(h5),isPresent:e,safeToRemove:t})}const Aie={borderRadius:{...Hp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hp,borderTopRightRadius:Hp,borderBottomLeftRadius:Hp,borderBottomRightRadius:Hp,boxShadow:wie},Sz=["TopLeft","TopRight","BottomLeft","BottomRight"],bie=Sz.length,OL=n=>typeof n=="string"?parseFloat(n):n,NL=n=>typeof n=="number"||pt.test(n);function Mie(n,e,t,r,i,s){i?(n.opacity=_n(0,t.opacity!==void 0?t.opacity:1,Cie(r)),n.opacityExit=_n(e.opacity!==void 0?e.opacity:1,0,Eie(r))):s&&(n.opacity=_n(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<bie;o++){const a=`border${Sz[o]}Radius`;let l=UL(e,a),c=UL(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||NL(l)===NL(c)?(n[a]=Math.max(_n(OL(l),OL(c),r),0),(jo.test(c)||jo.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=_n(e.rotate||0,t.rotate||0,r))}function UL(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Cie=Az(0,.5,AE),Eie=Az(.5,.95,Qn);function Az(n,e,t){return r=>r<n?0:r>e?1:t(dh(n,e,r))}function zL(n,e){n.min=e.min,n.max=e.max}function Ts(n,e){zL(n.x,e.x),zL(n.y,e.y)}function GL(n,e,t,r,i){return n-=e,n=$1(n,1/t,r),i!==void 0&&(n=$1(n,1/i,r)),n}function Tie(n,e=0,t=1,r=.5,i,s=n,o=n){if(jo.test(e)&&(e=parseFloat(e),e=_n(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=_n(s.min,s.max,r);n===s&&(a-=e),n.min=GL(n.min,e,t,a,i),n.max=GL(n.max,e,t,a,i)}function HL(n,e,[t,r,i],s,o){Tie(n,e[t],e[r],e[i],e.scale,s,o)}const Pie=["x","scaleX","originX"],Rie=["y","scaleY","originY"];function VL(n,e,t,r){HL(n.x,e,Pie,t?t.x:void 0,r?r.x:void 0),HL(n.y,e,Rie,t?t.y:void 0,r?r.y:void 0)}function WL(n){return n.translate===0&&n.scale===1}function bz(n){return WL(n.x)&&WL(n.y)}function Die(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function Mz(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function jL(n){return ls(n.x)/ls(n.y)}class Bie{constructor(){this.members=[]}add(e){PE(this.members,e),e.scheduleRender()}remove(e){if(dx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $L(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Lie=(n,e)=>n.depth-e.depth;class Iie{constructor(){this.children=[],this.isDirty=!1}add(e){PE(this.children,e),this.isDirty=!0}remove(e){dx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lie),this.isDirty=!1,this.children.forEach(e)}}function kie(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Xa(r),n(s-e))};return Pn.read(r,!0),()=>Xa(r)}function Fie(n){window.MotionDebug&&window.MotionDebug.record(n)}function Cz(n){return n instanceof SVGElement&&n.tagName!=="svg"}function BE(n,e,t){const r=Nn(n)?n:qu(n);return r.start(TE("",r,e,t)),r.animation}const XL=["","X","Y","Z"],JL=1e3;let Oie=0;const cu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ez({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Oie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{cu.totalNodes=cu.resolvedTargetDeltas=cu.recalculatedProjection=0,this.nodes.forEach(zie),this.nodes.forEach(jie),this.nodes.forEach($ie),this.nodes.forEach(Gie),Fie(cu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Iie)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new RE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Cz(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const d=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=kie(d,250),t1.hasAnimatedSinceResize&&(t1.hasAnimatedSinceResize=!1,this.nodes.forEach(YL))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Qie,{onLayoutAnimationStart:y,onLayoutAnimationComplete:_}=u.getProps(),x=!this.targetLayout||!Mz(this.targetLayout,g)||p,w=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const A={...uz(v,"layout"),onPlay:y,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else d||YL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KL);return}this.isUpdating||this.nodes.forEach(Vie),this.isUpdating=!1,this.nodes.forEach(Wie),this.nodes.forEach(Nie),this.nodes.forEach(Uie),this.clearAllSnapshots();const a=performance.now();Gr.delta=pc(0,1e3/60,a-Gr.timestamp),Gr.timestamp=a,Gr.isProcessing=!0,XS.update.process(Gr),XS.preRender.process(Gr),XS.render.process(Gr),Gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Hie),this.sharedNodes.forEach(Jie)}scheduleUpdateProjection(){Pn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Pn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!bz(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||lu(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),qie(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return jn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Il(a.x,l.offset.x),Il(a.y,l.offset.y)),a}removeElementScroll(o){const a=jn();Ts(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){Ts(a,o);const{scroll:d}=this.root;d&&(Il(a.x,-d.offset.x),Il(a.y,-d.offset.y))}Il(a.x,u.offset.x),Il(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=jn();Ts(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Bd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),lu(u.latestValues)&&Bd(l,u.latestValues)}return lu(this.latestValues)&&Bd(l,this.latestValues),l}removeTransform(o){const a=jn();Ts(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!lu(c.latestValues))continue;LM(c.latestValues)&&c.updateSnapshot();const u=jn(),f=c.measurePageBox();Ts(u,f),VL(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return lu(this.latestValues)&&VL(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Gr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),Mm(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=jn(),this.targetWithTransforms=jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nie(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ts(this.target,this.layout.layoutBox),_z(this.target,this.targetDelta)):Ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),Mm(this.relativeTargetOrigin,this.target,p.target),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||LM(this.parent.latestValues)||yz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Ts(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;fie(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Dd(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Dd(),this.projectionDeltaWithTransform=Dd());const v=this.projectionTransform;bm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=$L(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==d||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),cu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Dd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=jn(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,y=this.getStack(),_=!y||y.members.length<=1,x=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(Yie));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const C=A/1e3;QL(f.x,o.x,C),QL(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mm(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Kie(this.relativeTarget,this.relativeTargetOrigin,d,C),w&&Die(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=jn()),Ts(w,this.relativeTarget)),v&&(this.animationValues=u,Mie(u,c,this.latestValues,C,x,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pn.update(()=>{t1.hasAnimatedSinceResize=!0,this.currentAnimation=BE(0,JL,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Tz(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||jn();const f=ls(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=ls(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Ts(a,l),Bd(a,u),bm(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Bie),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<XL.length;u++){const f="rotate"+XL[u];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Am(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Am(o.pointerEvents)||""),this.hasProjected&&!lu(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=$L(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in U1){if(d[v]===void 0)continue;const{correct:y,applyTo:_}=U1[v],x=c.transform==="none"?d[v]:y(d[v],f);if(_){const w=_.length;for(let A=0;A<w;A++)c[_[A]]=x}else c[v]=x}return this.options.layoutId&&(c.pointerEvents=f===this?Am(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(KL),this.root.sharedNodes.clear()}}}function Nie(n){n.updateLayout()}function Uie(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Oo(f=>{const d=o?t.measuredBox[f]:t.layoutBox[f],p=ls(d);d.min=r[f].min,d.max=d.min+p}):Tz(s,t.layoutBox,r)&&Oo(f=>{const d=o?t.measuredBox[f]:t.layoutBox[f],p=ls(r[f]);d.max=d.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+p)});const a=Dd();bm(a,r,t.layoutBox);const l=Dd();o?bm(l,n.applyTransform(i,!0),t.measuredBox):bm(l,r,t.layoutBox);const c=!bz(a);let u=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const g=jn();Mm(g,t.layoutBox,d.layoutBox);const v=jn();Mm(v,r,p.layoutBox),Mz(g,v)||(u=!0),f.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=g,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function zie(n){cu.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Gie(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Hie(n){n.clearSnapshot()}function KL(n){n.clearMeasurements()}function Vie(n){n.isLayoutDirty=!1}function Wie(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function YL(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function jie(n){n.resolveTargetDelta()}function $ie(n){n.calcProjection()}function Xie(n){n.resetRotation()}function Jie(n){n.removeLeadSnapshot()}function QL(n,e,t){n.translate=_n(e.translate,0,t),n.scale=_n(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function qL(n,e,t,r){n.min=_n(e.min,t.min,r),n.max=_n(e.max,t.max,r)}function Kie(n,e,t,r){qL(n.x,e.x,t.x,r),qL(n.y,e.y,t.y,r)}function Yie(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Qie={duration:.45,ease:[.4,0,.1,1]},ZL=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),eI=ZL("applewebkit/")&&!ZL("chrome/")?Math.round:Qn;function tI(n){n.min=eI(n.min),n.max=eI(n.max)}function qie(n){tI(n.x),tI(n.y)}function Tz(n,e,t){return n==="position"||n==="preserve-aspect"&&!DM(jL(e),jL(t),.2)}const Zie=Ez({attachResizeListener:(n,e)=>Pa(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iA={current:void 0},Pz=Ez({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!iA.current){const n=new Zie({});n.mount(window),n.setOptions({layoutScroll:!0}),iA.current=n}return iA.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),ese={pan:{Feature:_ie},drag:{Feature:yie,ProjectionNode:Pz,MeasureLayout:wz}},tse=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function nse(n){const e=tse.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function kM(n,e,t=1){const[r,i]=nse(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():SM(i)?kM(i,e,t+1):i}function rse(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!SM(s))return;const o=kM(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!SM(s))continue;const o=kM(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const ise=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Rz=n=>ise.has(n),sse=n=>Object.keys(n).some(Rz),nI=n=>n===df||n===pt,rI=(n,e)=>parseFloat(n.split(", ")[e]),iI=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return rI(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?rI(s[1],n):0}},ose=new Set(["x","y","z"]),ase=s0.filter(n=>!ose.has(n));function lse(n){const e=[];return ase.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const hh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:iI(4,13),y:iI(5,14)};hh.translateX=hh.x;hh.translateY=hh.y;const cse=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=hh[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=hh[c](l,s)}),n},use=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Rz);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],f=Gp(u);const d=e[l];let p;if(G1(d)){const g=d.length,v=d[0]===null?1:0;u=d[v],f=Gp(u);for(let y=v;y<g&&d[y]!==null;y++)p?fx(Gp(d[y])===p):p=Gp(d[y])}else p=Gp(d);if(f!==p)if(nI(f)&&nI(p)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&p===pt&&(e[l]=d.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(u===0||d===0)?u===0?c.set(p.transform(u)):e[l]=f.transform(d):(o||(s=lse(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=cse(e,n,a);return s.length&&s.forEach(([u,f])=>{n.getValue(u).set(f)}),n.render(),sx&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function fse(n,e,t,r){return sse(e)?use(n,e,t,r):{target:e,transitionEnd:r}}const dse=(n,e,t,r)=>{const i=rse(n,e,r);return e=i.target,r=i.transitionEnd,fse(n,e,t,r)},FM={current:null},Dz={current:!1};function hse(){if(Dz.current=!0,!!sx)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>FM.current=n.matches;n.addListener(e),e()}else FM.current=!1}function pse(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(Nn(s))n.addValue(i,s),j1(r)&&r.add(i);else if(Nn(o))n.addValue(i,qu(s,{owner:n})),j1(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,qu(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const dg=new WeakMap,Bz=Object.keys(fg),mse=Bz.length,sI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],gse=fE.length;class Lz{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Pn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=ax(t),this.isVariantNode=f5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const f in u){const d=u[f];a[f]!==void 0&&Nn(d)&&(d.set(a[f],!1),j1(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,dg.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),Dz.current||hse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:FM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dg.delete(this.current),this.projection&&this.projection.unmount(),Xa(this.notifyUpdate),Xa(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=ff.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Pn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<mse;l++){const c=Bz[l],{isEnabled:u,Feature:f,ProjectionNode:d,MeasureLayout:p}=fg[c];d&&(o=d),u(t)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(a=p))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:p}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&Pd(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<sI.length;r++){const i=sI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=pse(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<gse;r++){const i=fE[r],s=this.props[i];(ug(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=qu(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=_E(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Nn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new RE),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Iz extends Lz{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Ure(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){hz(this,r,o);const a=dse(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function vse(n){return window.getComputedStyle(n)}class kz extends Iz{readValueFromInstance(e,t){if(ff.has(t)){const r=EE(t);return r&&r.default||0}else{const r=vse(e),i=(v5(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return xz(e,t)}build(e,t,r,i){hE(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return yE(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){M5(e,t,r,i)}}class Fz extends Iz{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ff.has(t)){const r=EE(t);return r&&r.default||0}return t=C5.has(t)?t:vE(t),e.getAttribute(t)}measureInstanceViewportBox(){return jn()}scrapeMotionValuesFromProps(e,t){return T5(e,t)}build(e,t,r,i){mE(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){E5(e,t,r,i)}mount(e){this.isSVGTag=gE(e.tagName),super.mount(e)}}const yse=(n,e)=>dE(n)?new Fz(e,{enableHardwareAcceleration:!1}):new kz(e,{enableHardwareAcceleration:!0}),_se={layout:{ProjectionNode:Pz,MeasureLayout:wz}},xse={...pz,...Sne,...ese,..._se},Ol=Ite((n,e)=>ane(n,e,xse,yse));function wse({children:n,isValidProp:e,...t}){e&&S5(e),t={...B.useContext(cg),...t},t.isStatic=xE(()=>t.isStatic);const r=B.useMemo(()=>t,[JSON.stringify(t.transition),t.transformPagePoint,t.reducedMotion]);return B.createElement(cg.Provider,{value:r},n)}function hg(n){const e=xE(()=>qu(n)),{isStatic:t}=B.useContext(cg);if(t){const[,r]=B.useState(n);B.useEffect(()=>e.on("change",r),[])}return e}function Oz(n,e,t){var r;if(typeof n=="string"){let i=document;e&&(fx(!!e.current),i=e.current),t?((r=t[n])!==null&&r!==void 0||(t[n]=i.querySelectorAll(n)),n=t[n]):n=i.querySelectorAll(n)}else n instanceof Element&&(n=[n]);return Array.from(n||[])}class Nz{constructor(e){this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}get timeline(){return this.getAll("timeline")}set timeline(e){this.setAll("timeline",e)}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Sse(n){return typeof n=="object"&&!Array.isArray(n)}function Ase(n){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},t=Cz(n)?new Fz(e,{enableHardwareAcceleration:!1}):new kz(e,{enableHardwareAcceleration:!0});t.mount(n),dg.set(n,t)}function bse(n,e=100){const t=CE({keyframes:[0,e],...n}),r=Math.min(EM(t),CM);return{type:"keyframes",ease:i=>t.next(r*i).value/e,duration:$o(r)}}function oI(n,e,t,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?t:(i=r.get(e))!==null&&i!==void 0?i:n}const Mse=(n,e,t)=>{const r=e-n;return((t-n)%r+r)%r+n};function Cse(n,e){return G5(n)?n[Mse(0,n.length,e)]:n}function Ese(n,e,t){for(let r=0;r<n.length;r++){const i=n[r];i.at>e&&i.at<t&&(dx(n,i),r--)}}function Tse(n,e,t,r,i,s){Ese(n,i,s);for(let o=0;o<e.length;o++)n.push({value:e[o],at:_n(i,s,r[o]),easing:Cse(t,o)})}function Pse(n,e){return n.at===e.at?n.value===null?1:e.value===null?-1:0:n.at-e.at}const Rse="easeInOut";function Dse(n,{defaultTransition:e={},...t}={},r){const i=e.duration||.3,s=new Map,o=new Map,a={},l=new Map;let c=0,u=0,f=0;for(let d=0;d<n.length;d++){const p=n[d];if(typeof p=="string"){l.set(p,u);continue}else if(!Array.isArray(p)){l.set(p.name,oI(u,p.at,c,l));continue}let[g,v,y={}]=p;y.at!==void 0&&(u=oI(u,y.at,c,l));let _=0;const x=(w,A,C,E=0,P=0)=>{const M=Bse(w),{delay:T=0,times:D=sz(M),type:F="keyframes",...L}=A;let{ease:N=e.ease||"easeOut",duration:k}=A;const V=typeof T=="function"?T(E,P):T,W=M.length;if(W<=2&&F==="spring"){let z=100;if(W===2&&kse(M)){const Z=M[1]-M[0];z=Math.abs(Z)}const G={...L};k!==void 0&&(G.duration=ka(k));const j=bse(G,z);N=j.ease,k=j.duration}k??(k=i);const K=u+V,H=K+k;D.length===1&&D[0]===0&&(D[1]=1);const U=D.length-M.length;U>0&&iz(D,U),M.length===1&&M.unshift(null),Tse(C,M,N,D,K,H),_=Math.max(V+k,_),f=Math.max(H,f)};if(Nn(g)){const w=aI(g,o);x(v,y,lI("default",w))}else{const w=Oz(g,r,a),A=w.length;for(let C=0;C<A;C++){v=v,y=y;const E=w[C],P=aI(E,o);for(const M in v)x(v[M],Lse(y,M),lI(M,P),C,A)}c=u,u+=_}}return o.forEach((d,p)=>{for(const g in d){const v=d[g];v.sort(Pse);const y=[],_=[],x=[];for(let A=0;A<v.length;A++){const{at:C,value:E,easing:P}=v[A];y.push(E),_.push(dh(0,f,C)),x.push(P||"easeOut")}_[0]!==0&&(_.unshift(0),y.unshift(y[0]),x.unshift(Rse)),_[_.length-1]!==1&&(_.push(1),y.push(null)),s.has(p)||s.set(p,{keyframes:{},transition:{}});const w=s.get(p);w.keyframes[g]=y,w.transition[g]={...e,duration:f,ease:x,times:_,...t}}}),s}function aI(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function lI(n,e){return e[n]||(e[n]=[]),e[n]}function Bse(n){return Array.isArray(n)?n:[n]}function Lse(n,e){return n[e]?{...n,...n[e]}:{...n}}const Ise=n=>typeof n=="number",kse=n=>n.every(Ise);function Uz(n,e,t,r){const i=Oz(n,r),s=i.length,o=[];for(let a=0;a<s;a++){const l=i[a];dg.has(l)||Ase(l);const c=dg.get(l),u={...t};typeof u.delay=="function"&&(u.delay=u.delay(a,s)),o.push(...DE(c,{...e,transition:u},{}))}return new Nz(o)}const Fse=n=>Array.isArray(n)&&Array.isArray(n[0]);function Ose(n,e,t){const r=[];return Dse(n,e,t).forEach(({keyframes:s,transition:o},a)=>{let l;Nn(a)?l=BE(a,s.default,o.default):l=Uz(a,s,o),r.push(l)}),new Nz(r)}const Nse=n=>{function e(t,r,i){let s;return Fse(t)?s=Ose(t,r,n):Sse(r)?s=Uz(t,r,i,n):s=BE(t,r,i),n&&n.animations.push(s),s}return e},pg=Nse();function Use(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function zz(...n){return e=>n.forEach(t=>Use(t,e))}function Fh(...n){return B.useCallback(zz(...n),n)}const Gz=B.forwardRef((n,e)=>{const{children:t,...r}=n,i=B.Children.toArray(t),s=i.find(zse);if(s){const o=s.props.children,a=i.map(l=>l===s?B.Children.count(o)>1?B.Children.only(null):B.isValidElement(o)?o.props.children:null:l);return B.createElement(OM,Xt({},r,{ref:e}),B.isValidElement(o)?B.cloneElement(o,void 0,a):null)}return B.createElement(OM,Xt({},r,{ref:e}),t)});Gz.displayName="Slot";const OM=B.forwardRef((n,e)=>{const{children:t,...r}=n;return B.isValidElement(t)?B.cloneElement(t,{...Gse(r,t.props),ref:e?zz(e,t.ref):t.ref}):B.Children.count(t)>1?B.Children.only(null):null});OM.displayName="SlotClone";const Hz=({children:n})=>B.createElement(B.Fragment,null,n);function zse(n){return B.isValidElement(n)&&n.type===Hz}function Gse(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const Hse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],hf=Hse.reduce((n,e)=>{const t=B.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Gz:e;return B.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),B.createElement(a,Xt({},o,{ref:i}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function Vse(n,e){n&&Lg.flushSync(()=>n.dispatchEvent(e))}const Wse=B.forwardRef((n,e)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=n;return r?u4.createPortal(B.createElement(hf.div,Xt({},i,{ref:e})),r):null}),jse=Wse;var cI=Object.prototype.hasOwnProperty;function mg(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&mg(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(cI.call(n,t)&&++r&&!cI.call(e,t)||!(t in e)||!mg(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}var hx=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};hx.prototype._test=function(e){var t=this.fn;try{jd(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return jd(this.modifiers.slice(),t,this)(e)}catch{return!1}};hx.prototype._check=function(e){try{jd(this.modifiers.slice(),this.fn,this)(e)}catch{if(jd(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!jd(this.modifiers.slice(),this.fn,this)(e))throw null};hx.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){Wz(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function Vz(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function jd(n,e,t){if(n.length){var r=n.shift(),i=jd(n,e,t);return r.perform(i,t)}else return Vz(e)}function Wz(n,e,t){if(n.length){var r=n.shift(),i=Wz(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(Vz(e,"async")(s))}}var $se=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},LE=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),Yo=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};Yo.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new hx(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};Yo.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new $se(t,e.simple,e.async)),this};Yo.prototype._clone=function(){return new Yo(this.chain.slice(),this.nextRuleModifiers.slice())};Yo.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};Yo.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new LE(r,e,i))}}),t};Yo.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new LE(t,e,r)}})};Yo.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){jz(e,t.chain.slice(),r,i)})};function jz(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){jz(n,e,t,r)},function(s){r(new LE(i,n,s))})}else t(n)}var uI=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function Xse(n,e){return e===void 0&&(e=!1),{simple:function(t){return uI(t,e)||n.check(t)===void 0},async:function(t){return uI(t,e)||n.testAsync(t)}}}function Di(){return typeof Proxy<"u"?$z(new Yo):NM(new Yo)}var gg={};Di.extend=function(n){Object.assign(gg,n)};Di.clearCustomRules=function(){gg={}};function $z(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=$z(n._clone());if(r in X1)return i._applyModifier(X1[r],r);if(r in gg)return i._applyRule(gg[r],r);if(r in UM)return i._applyRule(UM[r],r)}})}function NM(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=NM(s._clone()),u=c._applyRule(i[o],o).apply(void 0,a);return u}}),s},t=e(UM,n),r=e(gg,t);return Object.keys(X1).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=NM(r._clone());return s._applyModifier(X1[i],i)}})}),r}var X1={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return xy(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(xy(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&xy(e).every(n)}},async:function(n){return function(e){return Promise.all(xy(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return fI(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return fI(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function fI(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function xy(n){return typeof n=="string"?n.split(""):n}var UM={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||Jse;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return sd("string")},boolean:function(){return sd("boolean")},undefined:function(){return sd("undefined")},null:function(){return sd("null")},array:function(){return sd("array")},object:function(){return sd("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return Kse(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:Xse};function sd(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function Jse(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function Kse(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var qt="colors",li="sizes",rt="space",Yse={gap:rt,gridGap:rt,columnGap:rt,gridColumnGap:rt,rowGap:rt,gridRowGap:rt,inset:rt,insetBlock:rt,insetBlockEnd:rt,insetBlockStart:rt,insetInline:rt,insetInlineEnd:rt,insetInlineStart:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,marginBlock:rt,marginBlockEnd:rt,marginBlockStart:rt,marginInline:rt,marginInlineEnd:rt,marginInlineStart:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,paddingBlock:rt,paddingBlockEnd:rt,paddingBlockStart:rt,paddingInline:rt,paddingInlineEnd:rt,paddingInlineStart:rt,top:rt,right:rt,bottom:rt,left:rt,scrollMargin:rt,scrollMarginTop:rt,scrollMarginRight:rt,scrollMarginBottom:rt,scrollMarginLeft:rt,scrollMarginX:rt,scrollMarginY:rt,scrollMarginBlock:rt,scrollMarginBlockEnd:rt,scrollMarginBlockStart:rt,scrollMarginInline:rt,scrollMarginInlineEnd:rt,scrollMarginInlineStart:rt,scrollPadding:rt,scrollPaddingTop:rt,scrollPaddingRight:rt,scrollPaddingBottom:rt,scrollPaddingLeft:rt,scrollPaddingX:rt,scrollPaddingY:rt,scrollPaddingBlock:rt,scrollPaddingBlockEnd:rt,scrollPaddingBlockStart:rt,scrollPaddingInline:rt,scrollPaddingInlineEnd:rt,scrollPaddingInlineStart:rt,fontSize:"fontSizes",background:qt,backgroundColor:qt,backgroundImage:qt,borderImage:qt,border:qt,borderBlock:qt,borderBlockEnd:qt,borderBlockStart:qt,borderBottom:qt,borderBottomColor:qt,borderColor:qt,borderInline:qt,borderInlineEnd:qt,borderInlineStart:qt,borderLeft:qt,borderLeftColor:qt,borderRight:qt,borderRightColor:qt,borderTop:qt,borderTopColor:qt,caretColor:qt,color:qt,columnRuleColor:qt,fill:qt,outline:qt,outlineColor:qt,stroke:qt,textDecorationColor:qt,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:li,minBlockSize:li,maxBlockSize:li,inlineSize:li,minInlineSize:li,maxInlineSize:li,width:li,minWidth:li,maxWidth:li,height:li,minHeight:li,maxHeight:li,flexBasis:li,gridTemplateColumns:li,gridTemplateRows:li,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Qse=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Oh=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,Qse))(e);return i in n?n[i]:n[i]=t(e,...r)}},Fu=Symbol.for("sxs.internal"),IE=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),dI=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:qse}=Object.prototype,zM=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Zse=/\s+(?![^()]*\))/,od=n=>e=>n(...typeof e=="string"?String(e).split(Zse):[e]),hI={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:od((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:od((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:od((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:od((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:od((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:od((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},sA=/([\d.]+)([^]*)/,eoe=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,toe=(n,e)=>n in noe&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${zM(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${zM(n)}:${r}fit-content`)+s):String(e),noe={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Ja=n=>n?n+"-":"",Xz=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Ja(e)+(a.includes("$")?"":Ja(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),roe=/\s*,\s*(?![^()]*\))/,ioe=Object.prototype.toString,Ld=(n,e,t,r,i)=>{let s,o,a;const l=(c,u,f)=>{let d,p;const g=v=>{for(d in v){const x=d.charCodeAt(0)===64,w=x&&Array.isArray(v[d])?v[d]:[v[d]];for(p of w){const A=/[A-Z]/.test(_=d)?_:_.replace(/-[^]/g,E=>E[1].toUpperCase()),C=typeof p=="object"&&p&&p.toString===ioe&&(!r.utils[A]||!u.length);if(A in r.utils&&!C){const E=r.utils[A];if(E!==o){o=E,g(E(p)),o=null;continue}}else if(A in hI){const E=hI[A];if(E!==a){a=E,g(E(p)),a=null;continue}}if(x&&(y=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(E,P,M,T,D,F)=>{const L=sA.test(P),N=.0625*(L?-1:1),[k,V]=L?[T,P]:[P,T];return"("+(M[0]==="="?"":M[0]===">"===L?"max-":"min-")+k+":"+(M[0]!=="="&&M.length===1?V.replace(sA,(W,K,H)=>Number(K)+N*(M===">"?1:-1)+H):V)+(D?") and ("+(D[0]===">"?"min-":"max-")+k+":"+(D.length===1?F.replace(sA,(W,K,H)=>Number(K)+N*(D===">"?-1:1)+H):F):"")+")"})),C){const E=x?f.concat(d):[...f],P=x?[...u]:eoe(u,d.split(roe));s!==void 0&&i(pI(...s)),s=void 0,l(p,P,E)}else s===void 0&&(s=[[],u,f]),d=x||d.charCodeAt(0)!==36?d:`--${Ja(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,p=C?p:typeof p=="number"?p&&A in soe?String(p)+"px":String(p):Xz(toe(A,p??""),r.prefix,r.themeMap[A]),s[0].push(`${x?`${d} `:`${zM(d)}:`}${p}`)}}var y,_};g(c),s!==void 0&&i(pI(...s)),s=void 0};l(n,e,t)},pI=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,soe={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},mI=n=>String.fromCharCode(n+(n>25?39:97)),Ou=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=mI(t%52)+r;return mI(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),em=["themed","global","styled","onevar","resonevar","allvar","inline"],ooe=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},aoe=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if(ooe(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const f=Object(c[l+1]);if(f.type!==4)continue;++l;const{cssText:d}=u;if(!d.startsWith("--sxs"))continue;const p=d.slice(14,-3).trim().split(/\s+/),g=em[p[0]];g&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[g]={group:f,index:l,cache:new Set(p)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,f){this.cssRules.splice(f,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=em.length-1;a>=0;--a){const l=em[a];if(!o[l]){const c=em[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}loe(o[l])}};return r(),e},loe=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},Vp=Symbol(),coe=Oh(),gI=(n,e)=>coe(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[Fu]){r.type==null&&(r.type=i[Fu].type);for(const s of i[Fu].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(uoe(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),foe(n,r,e)}),uoe=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${Ja(i.prefix)}c-${Ou(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const d in t)l[d]=String(t[d]);if(typeof n=="object"&&n)for(const d in n){u=l,f=d,qse.call(u,f)||(l[d]="undefined");const p=n[d];for(const g in p){const v={[d]:String(g)};String(g)==="undefined"&&c.push(d);const y=p[g],_=[v,y,!dI(y)];o.push(_)}}var u,f;if(typeof e=="object"&&e)for(const d of e){let{css:p,...g}=d;p=typeof p=="object"&&p||{};for(const y in g)g[y]=String(g[y]);const v=[g,p,!dI(p)];a.push(v)}return[s,r,o,a,l,c]},foe=(n,e,t)=>{const[r,i,s,o]=doe(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function d(){for(let p=0;p<d[Vp].length;p++){const[g,v]=d[Vp][p];f.rules[g].apply(v)}return d[Vp]=[],null}return d[Vp]=[],d.rules={},em.forEach(p=>d.rules[p]={apply:g=>d[Vp].push([p,g])}),d})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=f=>{f=typeof f=="object"&&f||hoe;const{css:d,...p}=f,g={};for(const _ in s)if(delete p[_],_ in f){let x=f[_];typeof x=="object"&&x?g[_]={"@initial":s[_],...x}:(x=String(x),g[_]=x!=="undefined"||o.has(_)?x:s[_])}else g[_]=s[_];const v=new Set([...i]);for(const[_,x,w,A]of e.composers){t.rules.styled.cache.has(_)||(t.rules.styled.cache.add(_),Ld(x,[`.${_}`],[],n,P=>{l.styled.apply(P)}));const C=vI(w,g,n.media),E=vI(A,g,n.media,!0);for(const P of C)if(P!==void 0)for(const[M,T,D]of P){const F=`${_}-${Ou(T)}-${M}`;v.add(F);const L=(D?t.rules.resonevar:t.rules.onevar).cache,N=D?l.resonevar:l.onevar;L.has(F)||(L.add(F),Ld(T,[`.${F}`],[],n,k=>{N.apply(k)}))}for(const P of E)if(P!==void 0)for(const[M,T]of P){const D=`${_}-${Ou(T)}-${M}`;v.add(D),t.rules.allvar.cache.has(D)||(t.rules.allvar.cache.add(D),Ld(T,[`.${D}`],[],n,F=>{l.allvar.apply(F)}))}}if(typeof d=="object"&&d){const _=`${r}-i${Ou(d)}-css`;v.add(_),t.rules.inline.cache.has(_)||(t.rules.inline.cache.add(_),Ld(d,[`.${_}`],[],n,x=>{l.inline.apply(x)}))}for(const _ of String(f.className||"").trim().split(/\s+/))_&&v.add(_);const y=p.className=[...v].join(" ");return{type:e.type,className:y,selector:c,props:p,toString:()=>y,deferredInjector:a}};return IE(u,{className:r,selector:c,[Fu]:e,toString:()=>(t.rules.styled.cache.has(r)||u(),r)})},doe=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},vI=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in s){const f=s[l];let d=e[l];if(d!==f){if(typeof d!="object"||!d)continue e;{let p,g,v=0;for(const y in d){if(f===String(d[y])){if(y!=="@initial"){const _=y.slice(1);(g=g||[]).push(_ in t?t[_]:y.replace(/^@media ?/,"")),u=!0}c+=v,p=!0}++v}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!p)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},hoe={},poe=Oh(),moe=(n,e)=>poe(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=Ou(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Ld(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return IE(r,{toString:r})}),goe=Oh(),voe=(n,e)=>goe(n,()=>t=>{const r=`${Ja(n.prefix)}k-${Ou(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Ld(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return IE(i,{get name(){return i()},toString:i})}),yoe=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Ja(this.prefix)+Ja(this.scale)+this.token}toString(){return this.computedValue}},_oe=Oh(),xoe=(n,e)=>_oe(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${Ja(n.prefix)}t-${Ou(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${Ja(n.prefix)}${l}-${c}`,f=Xz(String(r[l][c]),n.prefix,l);s[l][c]=new yoe(c,f,l,n.prefix),o.push(`${u}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),woe=Oh(),Soe=Oh(),Aoe=n=>{const e=(t=>{let r=!1;const i=woe(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...Yse},utils:typeof s.utils=="object"&&s.utils||{}},f=aoe(l),d={css:gI(u,f),globalCss:moe(u,f),keyframes:voe(u,f),createTheme:xoe(u,f),reset(){f.reset(),d.theme.toString()},theme:{},sheet:f,config:u,prefix:o,getCssText:f.toString,toString:f.toString};return String(d.theme=d.createTheme(c)),d});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>Soe(t,()=>{const i=gI(t,r);return(...s)=>{const o=i(...s),a=o[Fu].type,l=te.forwardRef((c,u)=>{const f=c&&c.as||a,{props:d,deferredInjector:p}=o(c);return delete d.as,d.ref=u,p?te.createElement(te.Fragment,null,te.createElement(f,d),te.createElement(p,null)):te.createElement(f,d)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Fu]=o[Fu],l}}))(e),e};function wa(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Jz(n,e=[]){let t=[];function r(s,o){const a=B.createContext(o),l=t.length;t=[...t,o];function c(f){const{scope:d,children:p,...g}=f,v=(d==null?void 0:d[n][l])||a,y=B.useMemo(()=>g,Object.values(g));return B.createElement(v.Provider,{value:y},p)}function u(f,d){const p=(d==null?void 0:d[n][l])||a,g=B.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>B.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return B.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,boe(i,...e)]}function boe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Nh(n){const e=B.useRef(n);return B.useEffect(()=>{e.current=n}),B.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function Moe(n,e=globalThis==null?void 0:globalThis.document){const t=Nh(n);B.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[t,e])}const GM="dismissableLayer.update",Coe="dismissableLayer.pointerDownOutside",Eoe="dismissableLayer.focusOutside";let yI;const Toe=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Poe=B.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=n,u=B.useContext(Toe),[f,d]=B.useState(null),p=(t=f==null?void 0:f.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,g]=B.useState({}),v=Fh(e,M=>d(M)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(_),w=f?y.indexOf(f):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=x,E=Roe(M=>{const T=M.target,D=[...u.branches].some(F=>F.contains(T));!C||D||(s==null||s(M),a==null||a(M),M.defaultPrevented||l==null||l())},p),P=Doe(M=>{const T=M.target;[...u.branches].some(F=>F.contains(T))||(o==null||o(M),a==null||a(M),M.defaultPrevented||l==null||l())},p);return Moe(M=>{w===u.layers.size-1&&(i==null||i(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},p),B.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(yI=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),_I(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=yI)}},[f,p,r,u]),B.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),_I())},[f,u]),B.useEffect(()=>{const M=()=>g({});return document.addEventListener(GM,M),()=>document.removeEventListener(GM,M)},[]),B.createElement(hf.div,Xt({},c,{ref:v,style:{pointerEvents:A?C?"auto":"none":void 0,...n.style},onFocusCapture:wa(n.onFocusCapture,P.onFocusCapture),onBlurCapture:wa(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:wa(n.onPointerDownCapture,E.onPointerDownCapture)}))});function Roe(n,e=globalThis==null?void 0:globalThis.document){const t=Nh(n),r=B.useRef(!1),i=B.useRef(()=>{});return B.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){Kz(Coe,t,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Doe(n,e=globalThis==null?void 0:globalThis.document){const t=Nh(n),r=B.useRef(!1);return B.useEffect(()=>{const i=s=>{s.target&&!r.current&&Kz(Eoe,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _I(){const n=new CustomEvent(GM);document.dispatchEvent(n)}function Kz(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Vse(i,s):i.dispatchEvent(s)}const ph=globalThis!=null&&globalThis.document?B.useLayoutEffect:()=>{},Boe=v9["useId".toString()]||(()=>{});let Loe=0;function Ioe(n){const[e,t]=B.useState(Boe());return ph(()=>{n||t(r=>r??String(Loe++))},[n]),n||(e?`radix-${e}`:"")}function Uh(n){return n.split("-")[1]}function kE(n){return n==="y"?"height":"width"}function Fa(n){return n.split("-")[0]}function pf(n){return["top","bottom"].includes(Fa(n))?"x":"y"}function xI(n,e,t){let{reference:r,floating:i}=n;const s=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,a=pf(e),l=kE(a),c=r[l]/2-i[l]/2,u=a==="x";let f;switch(Fa(e)){case"top":f={x:s,y:r.y-i.height};break;case"bottom":f={x:s,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:o};break;case"left":f={x:r.x-i.width,y:o};break;default:f={x:r.x,y:r.y}}switch(Uh(e)){case"start":f[a]-=c*(t&&u?-1:1);break;case"end":f[a]+=c*(t&&u?-1:1)}return f}const koe=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:f}=xI(c,r,l),d=r,p={},g=0;for(let v=0;v<a.length;v++){const{name:y,fn:_}=a[v],{x,y:w,data:A,reset:C}=await _({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:n,floating:e}});u=x??u,f=w??f,p={...p,[y]:{...p[y],...A}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):C.rects),{x:u,y:f}=xI(c,d,l)),v=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:p}};function Ka(n,e){return typeof n=="function"?n(e):n}function Yz(n){return typeof n!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(n):{top:n,right:n,bottom:n,left:n}}function J1(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function vg(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Ka(e,n),g=Yz(p),v=a[d?f==="floating"?"reference":"floating":f],y=J1(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(v)))==null||t?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=f==="floating"?{...o.floating,x:r,y:i}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(x))&&await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1},A=J1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_,offsetParent:x,strategy:l}):_);return{top:(y.top-A.top+g.top)/w.y,bottom:(A.bottom-y.bottom+g.bottom)/w.y,left:(y.left-A.left+g.left)/w.x,right:(A.right-y.right+g.right)/w.x}}const yg=Math.min,uu=Math.max;function HM(n,e,t){return uu(n,yg(e,t))}const wI=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a}=e,{element:l,padding:c=0}=Ka(n,e)||{};if(l==null)return{};const u=Yz(c),f={x:t,y:r},d=pf(i),p=kE(d),g=await o.getDimensions(l),v=d==="y",y=v?"top":"left",_=v?"bottom":"right",x=v?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[d]-f[d]-s.floating[p],A=f[d]-s.reference[d],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let E=C?C[x]:0;E&&await(o.isElement==null?void 0:o.isElement(C))||(E=a.floating[x]||s.floating[p]);const P=w/2-A/2,M=E/2-g[p]/2-1,T=yg(u[y],M),D=yg(u[_],M),F=T,L=E-g[p]-D,N=E/2-g[p]/2+P,k=HM(F,N,L),V=Uh(i)!=null&&N!=k&&s.reference[p]/2-(N<F?T:D)-g[p]/2<0?N<F?F-N:L-N:0;return{[d]:f[d]-V,data:{[d]:k,centerOffset:N-k+V}}}}),Qz=["top","right","bottom","left"];Qz.reduce((n,e)=>n.concat(e,e+"-start",e+"-end"),[]);const Foe={left:"right",right:"left",bottom:"top",top:"bottom"};function K1(n){return n.replace(/left|right|bottom|top/g,e=>Foe[e])}function Ooe(n,e,t){t===void 0&&(t=!1);const r=Uh(n),i=pf(n),s=kE(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=K1(o)),{main:o,cross:K1(o)}}const Noe={start:"end",end:"start"};function oA(n){return n.replace(/start|end/g,e=>Noe[e])}const Uoe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:l}=e,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=Ka(n,e),y=Fa(r),_=Fa(o)===o,x=await(a.isRTL==null?void 0:a.isRTL(l.floating)),w=f||(_||!g?[K1(o)]:function(F){const L=K1(F);return[oA(F),L,oA(L)]}(o));f||p==="none"||w.push(...function(F,L,N,k){const V=Uh(F);let W=function(K,H,U){const z=["left","right"],G=["right","left"],j=["top","bottom"],Z=["bottom","top"];switch(K){case"top":case"bottom":return U?H?G:z:H?z:G;case"left":case"right":return H?j:Z;default:return[]}}(Fa(F),N==="start",k);return V&&(W=W.map(K=>K+"-"+V),L&&(W=W.concat(W.map(oA)))),W}(o,g,p,x));const A=[o,...w],C=await vg(e,v),E=[];let P=((t=i.flip)==null?void 0:t.overflows)||[];if(c&&E.push(C[y]),u){const{main:F,cross:L}=Ooe(r,s,x);E.push(C[F],C[L])}if(P=[...P,{placement:r,overflows:E}],!E.every(F=>F<=0)){var M,T;const F=(((M=i.flip)==null?void 0:M.index)||0)+1,L=A[F];if(L)return{data:{index:F,overflows:P},reset:{placement:L}};let N=(T=P.filter(k=>k.overflows[0]<=0).sort((k,V)=>k.overflows[1]-V.overflows[1])[0])==null?void 0:T.placement;if(!N)switch(d){case"bestFit":{var D;const k=(D=P.map(V=>[V.placement,V.overflows.filter(W=>W>0).reduce((W,K)=>W+K,0)]).sort((V,W)=>V[1]-W[1])[0])==null?void 0:D[0];k&&(N=k);break}case"initialPlacement":N=o}if(r!==N)return{reset:{placement:N}}}return{}}}};function SI(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function AI(n){return Qz.some(e=>n[e]>=0)}const zoe=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ka(n,e);switch(r){case"referenceHidden":{const s=SI(await vg(e,{...i,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:AI(s)}}}case"escaped":{const s=SI(await vg(e,{...i,altBoundary:!0}),t.floating);return{data:{escapedOffsets:s,escaped:AI(s)}}}default:return{}}}}},Goe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:r}=e,i=await async function(s,o){const{placement:a,platform:l,elements:c}=s,u=await(l.isRTL==null?void 0:l.isRTL(c.floating)),f=Fa(a),d=Uh(a),p=pf(a)==="x",g=["left","top"].includes(f)?-1:1,v=u&&p?-1:1,y=Ka(o,s);let{mainAxis:_,crossAxis:x,alignmentAxis:w}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return d&&typeof w=="number"&&(x=d==="end"?-1*w:w),p?{x:x*v,y:_*g}:{x:_*g,y:x*v}}(e,n);return{x:t+i.x,y:r+i.y,data:i}}}};function qz(n){return n==="x"?"y":"x"}const Hoe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:_,y:x}=y;return{x:_,y:x}}},...l}=Ka(n,e),c={x:t,y:r},u=await vg(e,l),f=pf(Fa(i)),d=qz(f);let p=c[f],g=c[d];if(s){const y=f==="y"?"bottom":"right";p=HM(p+u[f==="y"?"top":"left"],p,p-u[y])}if(o){const y=d==="y"?"bottom":"right";g=HM(g+u[d==="y"?"top":"left"],g,g-u[y])}const v=a.fn({...e,[f]:p,[d]:g});return{...v,data:{x:v.x-t,y:v.y-r}}}}},Voe=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ka(n,e),u={x:t,y:r},f=pf(i),d=qz(f);let p=u[f],g=u[d];const v=Ka(a,e),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=f==="y"?"height":"width",A=s.reference[f]-s.floating[w]+y.mainAxis,C=s.reference[f]+s.reference[w]-y.mainAxis;p<A?p=A:p>C&&(p=C)}if(c){var _,x;const w=f==="y"?"width":"height",A=["top","left"].includes(Fa(i)),C=s.reference[d]-s.floating[w]+(A&&((_=o.offset)==null?void 0:_[d])||0)+(A?0:y.crossAxis),E=s.reference[d]+s.reference[w]+(A?0:((x=o.offset)==null?void 0:x[d])||0)-(A?y.crossAxis:0);g<C?g=C:g>E&&(g=E)}return{[f]:p,[d]:g}}}},Woe=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Ka(n,e),l=await vg(e,a),c=Fa(t),u=Uh(t),f=pf(t)==="x",{width:d,height:p}=r.floating;let g,v;c==="top"||c==="bottom"?(g=c,v=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=c,g=u==="end"?"top":"bottom");const y=p-l[g],_=d-l[v],x=!e.middlewareData.shift;let w=y,A=_;if(f){const E=d-l.left-l.right;A=u||x?yg(_,E):E}else{const E=p-l.top-l.bottom;w=u||x?yg(y,E):E}if(x&&!u){const E=uu(l.left,0),P=uu(l.right,0),M=uu(l.top,0),T=uu(l.bottom,0);f?A=d-2*(E!==0||P!==0?E+P:uu(l.left,l.right)):w=p-2*(M!==0||T!==0?M+T:uu(l.top,l.bottom))}await o({...e,availableWidth:A,availableHeight:w});const C=await i.getDimensions(s.floating);return d!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function rs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Qo(n){return rs(n).getComputedStyle(n)}function Zz(n){return n instanceof rs(n).Node}function gc(n){return Zz(n)?(n.nodeName||"").toLowerCase():"#document"}function So(n){return n instanceof HTMLElement||n instanceof rs(n).HTMLElement}function bI(n){return typeof ShadowRoot<"u"&&(n instanceof rs(n).ShadowRoot||n instanceof ShadowRoot)}function _g(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Qo(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function joe(n){return["table","td","th"].includes(gc(n))}function VM(n){const e=FE(),t=Qo(n);return t.transform!=="none"||t.perspective!=="none"||!!t.containerType&&t.containerType!=="normal"||!e&&!!t.backdropFilter&&t.backdropFilter!=="none"||!e&&!!t.filter&&t.filter!=="none"||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function FE(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function px(n){return["html","body","#document"].includes(gc(n))}const WM=Math.min,$d=Math.max,Y1=Math.round,wy=Math.floor,vc=n=>({x:n,y:n});function eG(n){const e=Qo(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=So(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Y1(t)!==s||Y1(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function Oa(n){return n instanceof Element||n instanceof rs(n).Element}function OE(n){return Oa(n)?n:n.contextElement}function Xd(n){const e=OE(n);if(!So(e))return vc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=eG(e);let o=(s?Y1(t.width):t.width)/r,a=(s?Y1(t.height):t.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}const $oe=vc(0);function tG(n){const e=rs(n);return FE()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:$oe}function Zu(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=OE(n);let o=vc(1);e&&(r?Oa(r)&&(o=Xd(r)):o=Xd(n));const a=function(d,p,g){return p===void 0&&(p=!1),!(!g||p&&g!==rs(d))&&p}(s,t,r)?tG(s):vc(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const d=rs(s),p=r&&Oa(r)?rs(r):r;let g=d.frameElement;for(;g&&r&&p!==d;){const v=Xd(g),y=g.getBoundingClientRect(),_=getComputedStyle(g),x=y.left+(g.clientLeft+parseFloat(_.paddingLeft))*v.x,w=y.top+(g.clientTop+parseFloat(_.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,f*=v.y,l+=x,c+=w,g=rs(g).frameElement}}return J1({width:u,height:f,x:l,y:c})}function mx(n){return Oa(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Na(n){var e;return(e=(Zz(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function nG(n){return Zu(Na(n)).left+mx(n).scrollLeft}function mh(n){if(gc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||bI(n)&&n.host||Na(n);return bI(e)?e.host:e}function rG(n){const e=mh(n);return px(e)?n.ownerDocument?n.ownerDocument.body:n.body:So(e)&&_g(e)?e:rG(e)}function Q1(n,e){var t;e===void 0&&(e=[]);const r=rG(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=rs(r);return i?e.concat(s,s.visualViewport||[],_g(r)?r:[]):e.concat(r,Q1(r))}function MI(n,e,t){let r;if(e==="viewport")r=function(i,s){const o=rs(i),a=Na(i),l=o.visualViewport;let c=a.clientWidth,u=a.clientHeight,f=0,d=0;if(l){c=l.width,u=l.height;const p=FE();(!p||p&&s==="fixed")&&(f=l.offsetLeft,d=l.offsetTop)}return{width:c,height:u,x:f,y:d}}(n,t);else if(e==="document")r=function(i){const s=Na(i),o=mx(i),a=i.ownerDocument.body,l=$d(s.scrollWidth,s.clientWidth,a.scrollWidth,a.clientWidth),c=$d(s.scrollHeight,s.clientHeight,a.scrollHeight,a.clientHeight);let u=-o.scrollLeft+nG(i);const f=-o.scrollTop;return Qo(a).direction==="rtl"&&(u+=$d(s.clientWidth,a.clientWidth)-l),{width:l,height:c,x:u,y:f}}(Na(n));else if(Oa(e))r=function(i,s){const o=Zu(i,!0,s==="fixed"),a=o.top+i.clientTop,l=o.left+i.clientLeft,c=So(i)?Xd(i):vc(1);return{width:i.clientWidth*c.x,height:i.clientHeight*c.y,x:l*c.x,y:a*c.y}}(e,t);else{const i=tG(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return J1(r)}function iG(n,e){const t=mh(n);return!(t===e||!Oa(t)||px(t))&&(Qo(t).position==="fixed"||iG(t,e))}function Xoe(n,e,t){const r=So(e),i=Na(e),s=t==="fixed",o=Zu(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=vc(0);if(r||!r&&!s)if((gc(e)!=="body"||_g(i))&&(a=mx(e)),So(e)){const c=Zu(e,!0,s,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=nG(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function CI(n,e){return So(n)&&Qo(n).position!=="fixed"?e?e(n):n.offsetParent:null}function EI(n,e){const t=rs(n);if(!So(n))return t;let r=CI(n,e);for(;r&&joe(r)&&Qo(r).position==="static";)r=CI(r,e);return r&&(gc(r)==="html"||gc(r)==="body"&&Qo(r).position==="static"&&!VM(r))?t:r||function(i){let s=mh(i);for(;So(s)&&!px(s);){if(VM(s))return s;s=mh(s)}return null}(n)||t}const Joe={convertOffsetParentRelativeRectToViewportRelativeRect:function(n){let{rect:e,offsetParent:t,strategy:r}=n;const i=So(t),s=Na(t);if(t===s)return e;let o={scrollLeft:0,scrollTop:0},a=vc(1);const l=vc(0);if((i||!i&&r!=="fixed")&&((gc(t)!=="body"||_g(s))&&(o=mx(t)),So(t))){const c=Zu(t);a=Xd(t),l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}},getDocumentElement:Na,getClippingRect:function(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?function(l,c){const u=c.get(l);if(u)return u;let f=Q1(l).filter(v=>Oa(v)&&gc(v)!=="body"),d=null;const p=Qo(l).position==="fixed";let g=p?mh(l):l;for(;Oa(g)&&!px(g);){const v=Qo(g),y=VM(g);y||v.position!=="fixed"||(d=null),(p?!y&&!d:!y&&v.position==="static"&&d&&["absolute","fixed"].includes(d.position)||_g(g)&&!y&&iG(l,g))?f=f.filter(_=>_!==g):d=v,g=mh(g)}return c.set(l,f),f}(e,this._c):[].concat(t),r],o=s[0],a=s.reduce((l,c)=>{const u=MI(e,c,i);return l.top=$d(u.top,l.top),l.right=WM(u.right,l.right),l.bottom=WM(u.bottom,l.bottom),l.left=$d(u.left,l.left),l},MI(e,o,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:EI,getElementRects:async function(n){let{reference:e,floating:t,strategy:r}=n;const i=this.getOffsetParent||EI,s=this.getDimensions;return{reference:Xoe(e,await i(t),r),floating:{x:0,y:0,...await s(t)}}},getClientRects:function(n){return Array.from(n.getClientRects())},getDimensions:function(n){return eG(n)},getScale:Xd,isElement:Oa,isRTL:function(n){return getComputedStyle(n).direction==="rtl"}};function Koe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=OE(n),u=i||s?[...c?Q1(c):[],...Q1(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",t,{passive:!0}),s&&y.addEventListener("resize",t)});const f=c&&a?function(y,_){let x,w=null;const A=Na(y);function C(){clearTimeout(x),w&&w.disconnect(),w=null}return function E(P,M){P===void 0&&(P=!1),M===void 0&&(M=1),C();const{left:T,top:D,width:F,height:L}=y.getBoundingClientRect();if(P||_(),!F||!L)return;const N={rootMargin:-wy(D)+"px "+-wy(A.clientWidth-(T+F))+"px "+-wy(A.clientHeight-(D+L))+"px "+-wy(T)+"px",threshold:$d(0,WM(1,M))||1};let k=!0;function V(W){const K=W[0].intersectionRatio;if(K!==M){if(!k)return E();K?E(!1,K):x=setTimeout(()=>{E(!1,1e-7)},100)}k=!1}try{w=new IntersectionObserver(V,{...N,root:A.ownerDocument})}catch{w=new IntersectionObserver(V,N)}w.observe(y)}(!0),C}(c,t):null;let d,p=-1,g=null;o&&(g=new ResizeObserver(y=>{let[_]=y;_&&_.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{g&&g.observe(e)})),t()}),c&&!l&&g.observe(c),g.observe(e));let v=l?Zu(n):null;return l&&function y(){const _=Zu(n);!v||_.x===v.x&&_.y===v.y&&_.width===v.width&&_.height===v.height||t(),v=_,d=requestAnimationFrame(y)}(),t(),()=>{u.forEach(y=>{i&&y.removeEventListener("scroll",t),s&&y.removeEventListener("resize",t)}),f&&f(),g&&g.disconnect(),g=null,l&&cancelAnimationFrame(d)}}const Yoe=(n,e,t)=>{const r=new Map,i={platform:Joe,...t},s={...i.platform,_c:r};return koe(n,e,{...i,platform:s})},Qoe=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?wI({element:r.current,padding:i}).fn(t):{}:r?wI({element:r,padding:i}).fn(t):{}}}};var n1=typeof document<"u"?B.useLayoutEffect:B.useEffect;function q1(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!q1(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!q1(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function sG(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function TI(n,e){const t=sG(n);return Math.round(e*t)/t}function PI(n){const e=B.useRef(n);return n1(()=>{e.current=n}),e}function qoe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,f]=B.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=B.useState(r);q1(d,r)||p(r);const[g,v]=B.useState(null),[y,_]=B.useState(null),x=B.useCallback(W=>{W!=E.current&&(E.current=W,v(W))},[v]),w=B.useCallback(W=>{W!==P.current&&(P.current=W,_(W))},[_]),A=s||g,C=o||y,E=B.useRef(null),P=B.useRef(null),M=B.useRef(u),T=PI(l),D=PI(i),F=B.useCallback(()=>{if(!E.current||!P.current)return;const W={placement:e,strategy:t,middleware:d};D.current&&(W.platform=D.current),Yoe(E.current,P.current,W).then(K=>{const H={...K,isPositioned:!0};L.current&&!q1(M.current,H)&&(M.current=H,Lg.flushSync(()=>{f(H)}))})},[d,e,t,D]);n1(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[c]);const L=B.useRef(!1);n1(()=>(L.current=!0,()=>{L.current=!1}),[]),n1(()=>{if(A&&(E.current=A),C&&(P.current=C),A&&C){if(T.current)return T.current(A,C,F);F()}},[A,C,F,T]);const N=B.useMemo(()=>({reference:E,floating:P,setReference:x,setFloating:w}),[x,w]),k=B.useMemo(()=>({reference:A,floating:C}),[A,C]),V=B.useMemo(()=>{const W={position:t,left:0,top:0};if(!k.floating)return W;const K=TI(k.floating,u.x),H=TI(k.floating,u.y);return a?{...W,transform:"translate("+K+"px, "+H+"px)",...sG(k.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:K,top:H}},[t,a,k.floating,u.x,u.y]);return B.useMemo(()=>({...u,update:F,refs:N,elements:k,floatingStyles:V}),[u,F,N,k,V])}const Zoe=B.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return B.createElement(hf.svg,Xt({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:B.createElement("polygon",{points:"0,0 30,0 15,10"}))}),eae=Zoe;function tae(n){const[e,t]=B.useState(void 0);return ph(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}const oG="Popper",[aG,lG]=Jz(oG),[nae,cG]=aG(oG),rae=n=>{const{__scopePopper:e,children:t}=n,[r,i]=B.useState(null);return B.createElement(nae,{scope:e,anchor:r,onAnchorChange:i},t)},iae="PopperAnchor",sae=B.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=cG(iae,t),o=B.useRef(null),a=Fh(e,o);return B.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:B.createElement(hf.div,Xt({},i,{ref:a}))}),uG="PopperContent",[oae,aae]=aG(uG),lae=B.forwardRef((n,e)=>{var t,r,i,s,o,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:d=0,align:p="center",alignOffset:g=0,arrowPadding:v=0,collisionBoundary:y=[],collisionPadding:_=0,sticky:x="partial",hideWhenDetached:w=!1,avoidCollisions:A=!0,onPlaced:C,...E}=n,P=cG(uG,u),[M,T]=B.useState(null),D=Fh(e,_e=>T(_e)),[F,L]=B.useState(null),N=tae(F),k=(t=N==null?void 0:N.width)!==null&&t!==void 0?t:0,V=(r=N==null?void 0:N.height)!==null&&r!==void 0?r:0,W=f+(p!=="center"?"-"+p:""),K=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},H=Array.isArray(y)?y:[y],U=H.length>0,z={padding:K,boundary:H.filter(dae),altBoundary:U},{refs:G,floatingStyles:j,placement:Z,isPositioned:q,middlewareData:re}=qoe({strategy:"fixed",placement:W,whileElementsMounted:Koe,elements:{reference:P.anchor},middleware:[Goe({mainAxis:d+V,alignmentAxis:g}),A&&Hoe({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?Voe():void 0,...z}),A&&Uoe({...z}),Woe({...z,apply:({elements:_e,rects:be,availableWidth:xe,availableHeight:Ne})=>{const{width:we,height:Ie}=be.reference,Ue=_e.floating.style;Ue.setProperty("--radix-popper-available-width",`${xe}px`),Ue.setProperty("--radix-popper-available-height",`${Ne}px`),Ue.setProperty("--radix-popper-anchor-width",`${we}px`),Ue.setProperty("--radix-popper-anchor-height",`${Ie}px`)}}),F&&Qoe({element:F,padding:v}),hae({arrowWidth:k,arrowHeight:V}),w&&zoe({strategy:"referenceHidden"})]}),[Q,ce]=fG(Z),de=Nh(C);ph(()=>{q&&(de==null||de())},[q,de]);const Re=(i=re.arrow)===null||i===void 0?void 0:i.x,ge=(s=re.arrow)===null||s===void 0?void 0:s.y,ve=((o=re.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[ne,oe]=B.useState();return ph(()=>{M&&oe(window.getComputedStyle(M).zIndex)},[M]),B.createElement("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:q?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(a=re.transformOrigin)===null||a===void 0?void 0:a.x,(l=re.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:n.dir},B.createElement(oae,{scope:u,placedSide:Q,onArrowChange:L,arrowX:Re,arrowY:ge,shouldHideArrow:ve},B.createElement(hf.div,Xt({"data-side":Q,"data-align":ce},E,{ref:D,style:{...E.style,animation:q?void 0:"none",opacity:(c=re.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))}),cae="PopperArrow",uae={top:"bottom",right:"left",bottom:"top",left:"right"},fae=B.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=aae(cae,r),o=uae[s.placedSide];return B.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},B.createElement(eae,Xt({},i,{ref:t,style:{...i.style,display:"block"}})))});function dae(n){return n!==null}const hae=n=>({name:"transformOrigin",options:n,fn(e){var t,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,f=((t=c.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,d=f?0:n.arrowWidth,p=f?0:n.arrowHeight,[g,v]=fG(a),y={start:"0%",center:"50%",end:"100%"}[v],_=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+d/2,x=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+p/2;let w="",A="";return g==="bottom"?(w=f?y:`${_}px`,A=`${-p}px`):g==="top"?(w=f?y:`${_}px`,A=`${l.floating.height+p}px`):g==="right"?(w=`${-p}px`,A=f?y:`${x}px`):g==="left"&&(w=`${l.floating.width+p}px`,A=f?y:`${x}px`),{data:{x:w,y:A}}}});function fG(n){const[e,t="center"]=n.split("-");return[e,t]}const pae=rae,mae=sae,gae=lae,vae=fae;function yae(n,e){return B.useReducer((t,r)=>{const i=e[t][r];return i??t},n)}const dG=n=>{const{present:e,children:t}=n,r=_ae(e),i=typeof t=="function"?t({present:r.isPresent}):B.Children.only(t),s=Fh(r.ref,i.ref);return typeof t=="function"||r.isPresent?B.cloneElement(i,{ref:s}):null};dG.displayName="Presence";function _ae(n){const[e,t]=B.useState(),r=B.useRef({}),i=B.useRef(n),s=B.useRef("none"),o=n?"mounted":"unmounted",[a,l]=yae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const c=Sy(r.current);s.current=a==="mounted"?c:"none"},[a]),ph(()=>{const c=r.current,u=i.current;if(u!==n){const d=s.current,p=Sy(c);n?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),ph(()=>{if(e){const c=f=>{const p=Sy(r.current).includes(f.animationName);f.target===e&&p&&Lg.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===e&&(s.current=Sy(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:B.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function Sy(n){return(n==null?void 0:n.animationName)||"none"}function xae({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=wae({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=Nh(t),l=B.useCallback(c=>{if(s){const f=typeof c=="function"?c(n):c;f!==n&&a(f)}else i(c)},[s,n,i,a]);return[o,l]}function wae({defaultProp:n,onChange:e}){const t=B.useState(n),[r]=t,i=B.useRef(r),s=Nh(e);return B.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}const Sae=B.forwardRef((n,e)=>B.createElement(hf.span,Xt({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),Aae=Sae,[gx,pme]=Jz("Tooltip",[lG]),vx=lG(),bae="TooltipProvider",jM="tooltip.open",[mme,NE]=gx(bae),UE="Tooltip",[Mae,yx]=gx(UE),Cae=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=NE(UE,n.__scopeTooltip),c=vx(e),[u,f]=B.useState(null),d=Ioe(),p=B.useRef(0),g=o??l.disableHoverableContent,v=a??l.delayDuration,y=B.useRef(!1),[_=!1,x]=xae({prop:r,defaultProp:i,onChange:P=>{P?(l.onOpen(),document.dispatchEvent(new CustomEvent(jM))):l.onClose(),s==null||s(P)}}),w=B.useMemo(()=>_?y.current?"delayed-open":"instant-open":"closed",[_]),A=B.useCallback(()=>{window.clearTimeout(p.current),y.current=!1,x(!0)},[x]),C=B.useCallback(()=>{window.clearTimeout(p.current),x(!1)},[x]),E=B.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,x(!0)},v)},[v,x]);return B.useEffect(()=>()=>window.clearTimeout(p.current),[]),B.createElement(pae,c,B.createElement(Mae,{scope:e,contentId:d,open:_,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:B.useCallback(()=>{l.isOpenDelayed?E():A()},[l.isOpenDelayed,E,A]),onTriggerLeave:B.useCallback(()=>{g?C():window.clearTimeout(p.current)},[C,g]),onOpen:A,onClose:C,disableHoverableContent:g},t))},RI="TooltipTrigger",Eae=B.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=yx(RI,t),s=NE(RI,t),o=vx(t),a=B.useRef(null),l=Fh(e,a,i.onTriggerChange),c=B.useRef(!1),u=B.useRef(!1),f=B.useCallback(()=>c.current=!1,[]);return B.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),B.createElement(mae,Xt({asChild:!0},o),B.createElement(hf.button,Xt({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:wa(n.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:wa(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:wa(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:wa(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:wa(n.onBlur,i.onClose),onClick:wa(n.onClick,i.onClose)})))}),Tae="TooltipPortal",[gme,Pae]=gx(Tae,{forceMount:void 0}),xg="TooltipContent",Rae=B.forwardRef((n,e)=>{const t=Pae(xg,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=yx(xg,n.__scopeTooltip);return B.createElement(dG,{present:r||o.open},o.disableHoverableContent?B.createElement(hG,Xt({side:i},s,{ref:e})):B.createElement(Dae,Xt({side:i},s,{ref:e})))}),Dae=B.forwardRef((n,e)=>{const t=yx(xg,n.__scopeTooltip),r=NE(xg,n.__scopeTooltip),i=B.useRef(null),s=Fh(e,i),[o,a]=B.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:f}=r,d=B.useCallback(()=>{a(null),f(!1)},[f]),p=B.useCallback((g,v)=>{const y=g.currentTarget,_={x:g.clientX,y:g.clientY},x=Fae(_,y.getBoundingClientRect()),w=Oae(_,x),A=Nae(v.getBoundingClientRect()),C=zae([...w,...A]);a(C),f(!0)},[f]);return B.useEffect(()=>()=>d(),[d]),B.useEffect(()=>{if(l&&u){const g=y=>p(y,u),v=y=>p(y,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[l,u,p,d]),B.useEffect(()=>{if(o){const g=v=>{const y=v.target,_={x:v.clientX,y:v.clientY},x=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),w=!Uae(_,o);x?d():w&&(d(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,d]),B.createElement(hG,Xt({},n,{ref:s}))}),[Bae,Lae]=gx(UE,{isInside:!1}),hG=B.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=yx(xg,t),c=vx(t),{onClose:u}=l;return B.useEffect(()=>(document.addEventListener(jM,u),()=>document.removeEventListener(jM,u)),[u]),B.useEffect(()=>{if(l.trigger){const f=d=>{const p=d.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),B.createElement(Poe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u},B.createElement(gae,Xt({"data-state":l.stateAttribute},c,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),B.createElement(Hz,null,r),B.createElement(Bae,{scope:t,isInside:!0},B.createElement(Aae,{id:l.contentId,role:"tooltip"},i||r))))}),Iae="TooltipArrow",kae=B.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=vx(t);return Lae(Iae,t).isInside?null:B.createElement(vae,Xt({},i,r,{ref:e}))});function Fae(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Oae(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function Nae(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function Uae(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function zae(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),Gae(e)}function Gae(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const Hae=Cae,Vae=Eae,Wae=Rae,jae=kae;function $ae(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Zt(n,e){if(n==null)return{};var t=$ae(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let An;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(An||(An={}));const Xae={[An.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[An.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[An.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[An.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[An.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[An.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[An.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[An.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[An.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[An.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[An.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function pG(n,e,...t){const[r,...i]=Xae[e](...t);console[n]("LEVA: "+r,...i)}const ba=pG.bind(null,"warn"),Jae=pG.bind(null,"log"),Kae=["value"],Yae=["schema"],Qae=["value"],mG=[],ef={};function DI(n){let{value:e}=n,t=Zt(n,Kae);for(let r of mG){const i=r(e,t);if(i)return i}}function ol(n,e){let{schema:t}=e,r=Zt(e,Yae);if(n in ef){ba(An.ALREADY_REGISTERED_TYPE,n);return}mG.push((i,s)=>t(i,s)&&n),ef[n]=r}function aA(n,e,t,r){const{normalize:i}=ef[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=Zt(e,Qae);return{value:s,settings:o}}function qae(n,e,t,r,i,s){const{sanitize:o}=ef[n];return o?o(e,t,r,i,s):e}function BI(n,e,t){const{format:r}=ef[n];return r?r(e,t):e}function Zae(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function mt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(t),!0).forEach(function(r){Zae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const yc=(n,e,t)=>n>t?t:n<e?e:n,ele=n=>{if(n===""||typeof n=="number")return n;try{const e=Rl(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},tle=Math.log(10);function II(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/tle)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const Z1=(n,e,t)=>t===e?0:(yc(n,e,t)-e)/(t-e),e_=(n,e,t)=>n*(t-e)+e,nle=()=>"_"+Math.random().toString(36).substr(2,9),kI=/\(([0-9+\-*/^ .]+)\)/,FI=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,OI=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,NI=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,UI=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,zI=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Rl(n){if(isNaN(Number(n)))if(kI.test(n)){const e=n.replace(kI,(t,r)=>String(Rl(r)));return Rl(e)}else if(FI.test(n)){const e=n.replace(FI,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return Rl(e)}else if(OI.test(n)){const e=n.replace(OI,(t,r,i)=>String(Number(r)*Number(i)));return Rl(e)}else if(NI.test(n)){const e=n.replace(NI,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return Rl(e)}else if(UI.test(n)){const e=n.replace(UI,(t,r,i)=>String(Number(r)+Number(i)));return Rl(e)}else if(zI.test(n)){const e=n.replace(zI,(t,r,i)=>String(Number(r)-Number(i)));return Rl(e)}else return Number(n);return Number(n)}function rle(n,e){return e.reduce((t,r)=>(n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function ile(n,e){const t=mt({},n);return e.forEach(r=>r in n&&delete t[r]),t}function sle(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function gG(n){return Object.prototype.toString.call(n)==="[object Object]"}const ole=n=>gG(n)&&Object.keys(n).length===0;let yo;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(yo||(yo={}));let Ao;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Ao||(Ao={}));const ale=["type","__customInput"],lle=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],cle=["type"];function vG(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:mt({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:C,__customInput:E}=n,P=Zt(n,ale);return vG(E,e,P,C)}const{render:o,label:a,optional:l,order:c=0,disabled:u,hint:f,onChange:d,onEditStart:p,onEditEnd:g,transient:v}=n,y=Zt(n,lle),_=mt({render:o,key:e,label:a??e,hint:f,transient:v??!!d,onEditStart:p,onEditEnd:g,disabled:u,optional:l,order:c},t);let{type:x}=y,w=Zt(y,cle);if(x=r??x,x in yo)return{type:x,input:w,options:_};let A;return r&&gG(w)&&"value"in w?A=w.value:A=ole(w)?void 0:w,{type:x,input:A,options:mt(mt({},_),{},{onChange:d,optional:(i=_.optional)!==null&&i!==void 0?i:!1,disabled:(s=_.disabled)!==null&&s!==void 0?s:!1})}}function ule(n,e,t,r){const i=vG(n,e),{type:s,input:o,options:a}=i;if(s)return s in yo?i:{type:s,input:aA(s,o,t,r),options:a};let l=DI(o);return l?{type:l,input:aA(l,o,t,r),options:a}:(l=DI({value:o}),l?{type:l,input:aA(l,{value:o},t,r),options:a}:!1)}function GI(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=yG({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const fle=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function yG({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=qae(n,o,t,e,i,s)}catch(l){throw new fle(`The value \`${r}\` did not result in a correct value.`,e,l)}return mg(a,e)?e:a}const _G=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},xG=n=>n.shiftKey?5:n.altKey?1/5:1;function dle(n,e){const t=console.error;console.error=()=>{},u4.render(n,e),console.error=t}const hle=["value"],ple=["min","max"],mle=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},wG=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=yc(i,e,t);return r?s+r:s},gle=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},SG=n=>{let{value:e}=n,t=Zt(n,hle);const{min:r=-1/0,max:i=1/0}=t,s=Zt(t,ple);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=yc(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?II(l)*10:II(o);l=l||c/10;const u=Math.round(yc(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:mt({initialValue:o,step:l,pad:u,min:r,max:i,suffix:a},s)}},AG=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var bG=Object.freeze({__proto__:null,schema:mle,sanitize:wG,format:gle,normalize:SG,sanitizeStep:AG});function zn(){return zn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zn.apply(this,arguments)}const MG=B.createContext({});function Yr(){return B.useContext(MG)}const zE=B.createContext(null),CG=B.createContext(null),EG=B.createContext(null);function c0(){return B.useContext(CG)}function vle(){return B.useContext(EG)}const TG=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function Ay(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const Wp={$inputStyle:()=>n=>Ay(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>Ay(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>Ay(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>Ay(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:dt,css:vme,createTheme:yle,globalCss:_le,keyframes:yme}=Aoe({prefix:"leva",theme:TG(),utils:mt(mt({},Wp),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Wp.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Wp.$focusStyle()(n)}),$hover:n=>({"&:hover":Wp.$hoverStyle()(n)}),$active:n=>({"&:active":Wp.$activeStyle()(n)})})}),xle=_le({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function wle(n){const e=TG();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=yle(e);return{theme:e,className:t.className}}function Ua(n,e){const{theme:t}=B.useContext(zE);if(!(n in t)||!(e in t[n]))return ba(An.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const PG=dt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),RG=dt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${PG}`]:{paddingLeft:0}}),Sle=dt(RG,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),Ale=dt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),ble=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Mle=["onUpdate"];function GE(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=n,u=Zt(n,ble);const{id:f,emitOnEditStart:d,emitOnEditEnd:p,disabled:g}=Yr(),v=a||f,y=B.useRef(null),_=c>0,x=_?"textarea":"input",w=B.useCallback(E=>P=>{const M=P.currentTarget.value;E(M)},[]);te.useEffect(()=>{const E=y.current,P=w(M=>{r(M),p()});return E==null||E.addEventListener("blur",P),()=>E==null?void 0:E.removeEventListener("blur",P)},[w,r,p]);const A=B.useCallback(E=>{E.key==="Enter"&&w(r)(E)},[w,r]),C=Object.assign({as:x},_?{rows:c}:{},u);return te.createElement(Ale,{textArea:_},e&&typeof e=="string"?te.createElement(RG,null,e):e,te.createElement(PG,zn({levaType:o,ref:y,id:v,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:w(i),onFocus:()=>d(),onKeyPress:A,onKeyDown:s,disabled:g},C)))}function Cle(n){let{onUpdate:e}=n,t=Zt(n,Mle);const r=B.useCallback(s=>e(ele(s)),[e]),i=B.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return te.createElement(GE,zn({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const t_=dt("div",{}),$M=dt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Ele=dt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${$M}::after`]:{opacity:.6},[`${t_}:hover > & + ${$M}::after`]:{opacity:.6},[`${t_}:hover > & > svg`]:{opacity:1}}),DG=dt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${t_}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),BG=dt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${DG} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),LG=dt(BG,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Tle=dt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Ple=dt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),XM=dt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),Rle=dt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${XM}`]:{pointerEvents:"auto"}}}}}),IG=dt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Dle=dt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Ble=dt(jae,{fill:"$toolTipBackground"});function HE({children:n}){const{className:e}=B.useContext(zE);return te.createElement(jse,{className:e},n)}const Lle=["align"];function Ile(){const{id:n,disable:e,disabled:t}=Yr();return te.createElement(te.Fragment,null,te.createElement(Ple,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),te.createElement("label",{htmlFor:n+"__disable"}))}function kle(n){const{id:e,optional:t,hint:r}=Yr(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return te.createElement(te.Fragment,null,t&&te.createElement(Ile,null),r!==void 0?te.createElement(Hae,null,te.createElement(Vae,{asChild:!0},te.createElement(XM,zn({},i,n))),te.createElement(Wae,{side:"top",sideOffset:2},te.createElement(Dle,null,r,te.createElement(Ble,null)))):te.createElement(XM,zn({},i,s,n)))}function Eo(n){let{align:e}=n,t=Zt(n,Lle);const{value:r,label:i,key:s,disabled:o}=Yr(),{hideCopyButton:a}=vle(),l=!a&&s!==void 0,[c,u]=B.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{ba(An.CLIPBOARD_ERROR,{[s]:r})}};return te.createElement(Tle,{align:e,onPointerLeave:()=>u(!1)},te.createElement(kle,t),l&&!o&&te.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),te.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):te.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),te.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Fle=["toggled"],Ole=dt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function VE(n){let{toggled:e}=n,t=Zt(n,Fle);return te.createElement(Ole,zn({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),te.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const Nle=["input"];function qs(n){let{input:e}=n,t=Zt(n,Nle);return e?te.createElement(LG,t):te.createElement(BG,t)}function kG({value:n,type:e,settings:t,setValue:r}){const[i,s]=B.useState(BI(e,n,t)),o=B.useRef(n),a=B.useRef(t);a.current=t;const l=B.useCallback(u=>s(BI(e,u,a.current)),[e]),c=B.useCallback(u=>{try{r(u)}catch(f){const{type:d,previousValue:p}=f;if(d!=="LEVA_ERROR")throw f;l(p)}},[l,r]);return B.useEffect(()=>{mg(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:c}}function u0(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=Yr();return dq(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function Ule(n){const e=B.useRef(null),t=B.useRef(null),r=B.useRef(!1);return B.useEffect(()=>{const i=_G(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),B.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function FG(){const n=B.useRef(null),e=B.useRef({x:0,y:0}),t=B.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const zle=["__refCount"],lA=(n,e)=>{if(!n[e])return null;const t=n[e];return Zt(t,zle)};function Gle(n){const e=c0(),[t,r]=B.useState(lA(e.getData(),n)),i=B.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=B.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),o=B.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),a=B.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=B.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return B.useEffect(()=>{r(lA(e.getData(),n));const c=e.useStore.subscribe(u=>lA(u.data,n),r,{equalityFn:r0});return()=>c()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const Hle=dt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),OG=dt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),JM=dt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),NG=dt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),UG=dt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Vle({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=B.useRef(null),a=B.useRef(null),l=B.useRef(0),c=Ua("sizes","scrubberWidth"),u=u0(({event:d,first:p,xy:[g],movement:[v],memo:y})=>{if(p){const{width:x,left:w}=o.current.getBoundingClientRect();l.current=x-parseFloat(c),y=(d==null?void 0:d.target)===a.current?n:e_((g-w)/x,e,t)}const _=y+e_(v/l.current,0,t-e);return r(AG(_,{step:i,initialValue:s})),y}),f=Z1(n,e,t);return te.createElement(NG,zn({ref:o},u()),te.createElement(OG,null,te.createElement(UG,{style:{left:0,right:`${(1-f)*100}%`}})),te.createElement(JM,{ref:a,style:{left:`calc(${f} * (100% - ${c}))`}}))}const Wle=te.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=B.useState(!1),o=u0(({active:a,delta:[l],event:c,memo:u=0})=>(s(a),u+=l/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*t*xG(c)),u=0),u));return te.createElement(Sle,zn({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function zG({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&te.createElement(Wle,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return te.createElement(Cle,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function jle(){const n=Yr(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return te.createElement(qs,{input:!0},te.createElement(Eo,null,e),te.createElement(Hle,{hasRange:l},l&&te.createElement(Vle,zn({value:parseFloat(t),onDrag:r},i)),te.createElement(zG,zn({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:$le}=bG,Xle=Zt(bG,["sanitizeStep"]);var Jle=mt({component:jle},Xle);const Kle=(n,e)=>Di().schema({options:Di().passesAnyOf(Di().object(),Di().array())}).test(e),Yle=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},Qle=(n,{values:e})=>e.indexOf(n),qle=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var Zle=Object.freeze({__proto__:null,schema:Kle,sanitize:Yle,format:Qle,normalize:qle});const ece=dt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),KM=dt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),tce=dt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${KM}:focus + &`]:{$focusStyle:""},[`${KM}:hover + &`]:{$hoverStyle:""}});function nce({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=B.useRef();return e===a[n]&&(l.current=o[n]),te.createElement(ece,null,te.createElement(KM,{id:r,value:n,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,u)=>te.createElement("option",{key:c,value:u},c))),te.createElement(tce,null,l.current),te.createElement(VE,{toggled:!0}))}function rce(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=Yr();return te.createElement(qs,{input:!0},te.createElement(Eo,null,n),te.createElement(nce,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var ice=mt({component:rce},Zle);const sce=n=>Di().string().test(n),oce=n=>{if(typeof n!="string")throw Error("Invalid string");return n},ace=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var lce=Object.freeze({__proto__:null,schema:sce,sanitize:oce,normalize:ace});const cce=["displayValue","onUpdate","onChange","editable"],uce=dt("div",{whiteSpace:"pre-wrap"});function fce(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=Zt(n,cce);return i?te.createElement(GE,zn({value:e,onUpdate:t,onChange:r},s)):te.createElement(uce,null,e)}function dce(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=Yr();return te.createElement(qs,{input:!0},te.createElement(Eo,null,n),te.createElement(fce,zn({displayValue:t,onUpdate:r,onChange:i},e)))}var hce=mt({component:dce},lce);const pce=n=>Di().boolean().test(n),mce=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var gce=Object.freeze({__proto__:null,schema:pce,sanitize:mce});const vce=dt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function yce({value:n,onUpdate:e,id:t,disabled:r}){return te.createElement(vce,null,te.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),te.createElement("label",{htmlFor:t},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function _ce(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=Yr();return te.createElement(qs,{input:!0},te.createElement(Eo,null,n),te.createElement(yce,{value:e,onUpdate:t,id:i,disabled:r}))}var xce=mt({component:_ce},gce);const wce=["locked"];function Sce({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=B.useRef(n[t]);o.current=n[t];const a=B.useCallback(c=>i({[t]:yG({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,t]),l=kG({type:"NUMBER",value:n[t],settings:r,setValue:a});return te.createElement(zG,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const Ace=dt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function bce(n){let{locked:e}=n,t=Zt(n,wce);return te.createElement("svg",zn({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?te.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):te.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function WE({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=Yr(),{lock:o,locked:a}=t;return te.createElement(Ace,{withLock:o},o&&te.createElement(bce,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,c)=>te.createElement(Sce,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const GG=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=SG(mt({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},Mce=["lock"],Cce=["value"];function Ece(n){const e=Di().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function Tce(n){return Array.isArray(n)?"array":"object"}function Cm(n,e,t){return Tce(n)===e?n:e==="array"?Object.values(n):sle(n,t)}const Pce=(n,e,t)=>{const r=Cm(n,"object",e.keys);for(let o in r)r[o]=wG(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=Cm(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],u=c!==0?l/c:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*u}else s=mt(mt({},o),r)}return Cm(s,e.format,e.keys)},Rce=(n,e)=>Cm(n,"object",e.keys),Dce=n=>!!n&&("step"in n||"min"in n||"max"in n);function Bce(n,e,t=[]){const{lock:r=!1}=e,i=Zt(e,Mce),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=Cm(n,"object",o),l=Dce(i)?o.reduce((u,f)=>Object.assign(u,{[f]:i}),{}):i,c=GG(a,l);return{value:s==="array"?n:a,settings:mt(mt({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function HG(n){return{schema:Ece(n.length),normalize:e=>{let{value:t}=e,r=Zt(e,Cce);return Bce(t,r,n)},format:(e,t)=>Rce(e,t),sanitize:(e,t,r)=>Pce(e,t,r)}}var Lce={grad:.9,turn:360,rad:360/(2*Math.PI)},ga=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},wr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Hs=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},VG=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},HI=function(n){return{r:Hs(n.r,0,255),g:Hs(n.g,0,255),b:Hs(n.b,0,255),a:Hs(n.a)}},cA=function(n){return{r:wr(n.r),g:wr(n.g),b:wr(n.b),a:wr(n.a,3)}},Ice=/^#([0-9a-f]{3,8})$/i,by=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},WG=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},jG=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},VI=function(n){return{h:VG(n.h),s:Hs(n.s,0,100),l:Hs(n.l,0,100),a:Hs(n.a)}},WI=function(n){return{h:wr(n.h),s:wr(n.s),l:wr(n.l),a:wr(n.a,3)}},jI=function(n){return jG((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},Em=function(n){return{h:(e=WG(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},kce=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Fce=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Oce=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Nce=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,YM={string:[[function(n){var e=Ice.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?wr(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?wr(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=Oce.exec(n)||Nce.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:HI({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=kce.exec(n)||Fce.exec(n);if(!e)return null;var t,r,i=VI({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(Lce[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return jI(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return ga(e)&&ga(t)&&ga(r)?HI({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!ga(e)||!ga(t)||!ga(r))return null;var o=VI({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return jI(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!ga(e)||!ga(t)||!ga(r))return null;var o=function(a){return{h:VG(a.h),s:Hs(a.s,0,100),v:Hs(a.v,0,100),a:Hs(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return jG(o)},"hsv"]]},$I=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},$G=function(n){return typeof n=="string"?$I(n.trim(),YM.string):typeof n=="object"&&n!==null?$I(n,YM.object):[null,void 0]},Uce=function(n){return $G(n)[1]},uA=function(n,e){var t=Em(n);return{h:t.h,s:Hs(t.s+100*e,0,100),l:t.l,a:t.a}},fA=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},XI=function(n,e){var t=Em(n);return{h:t.h,s:t.s,l:Hs(t.l+100*e,0,100),a:t.a}},QM=function(){function n(e){this.parsed=$G(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return wr(fA(this.rgba),2)},n.prototype.isDark=function(){return fA(this.rgba)<.5},n.prototype.isLight=function(){return fA(this.rgba)>=.5},n.prototype.toHex=function(){return e=cA(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?by(wr(255*s)):"","#"+by(t)+by(r)+by(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return cA(this.rgba)},n.prototype.toRgbString=function(){return e=cA(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return WI(Em(this.rgba))},n.prototype.toHslString=function(){return e=WI(Em(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=WG(this.rgba),{h:wr(e.h),s:wr(e.s),v:wr(e.v),a:wr(e.a,3)};var e},n.prototype.invert=function(){return di({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),di(uA(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),di(uA(this.rgba,-e))},n.prototype.grayscale=function(){return di(uA(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),di(XI(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),di(XI(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?di({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):wr(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Em(this.rgba);return typeof e=="number"?di({h:e,s:t.s,l:t.l,a:t.a}):wr(t.h)},n.prototype.isEqual=function(e){return this.toHex()===di(e).toHex()},n}(),di=function(n){return n instanceof QM?n:new QM(n)},JI=[],zce=function(n){n.forEach(function(e){JI.indexOf(e)<0&&(e(QM,YM),JI.push(e))})};function Gce(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),f=1/0,d="black";if(!s.length)for(var p in t)s[p]=new n(t[p]).toRgb();for(var g in t){var v=(a=u,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<f&&(f=v,d=g)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function zh(){return(zh=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function jE(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function qM(n){var e=B.useRef(n),t=B.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var gh=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},Tm=function(n){return"touches"in n},ZM=function(n){return n&&n.ownerDocument.defaultView||self},KI=function(n,e,t){var r=n.getBoundingClientRect(),i=Tm(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:gh((i.pageX-(r.left+ZM(n).pageXOffset))/r.width),top:gh((i.pageY-(r.top+ZM(n).pageYOffset))/r.height)}},YI=function(n){!Tm(n)&&n.preventDefault()},$E=te.memo(function(n){var e=n.onMove,t=n.onKey,r=jE(n,["onMove","onKey"]),i=B.useRef(null),s=qM(e),o=qM(t),a=B.useRef(null),l=B.useRef(!1),c=B.useMemo(function(){var p=function(y){YI(y),(Tm(y)?y.touches.length>0:y.buttons>0)&&i.current?s(KI(i.current,y,a.current)):v(!1)},g=function(){return v(!1)};function v(y){var _=l.current,x=ZM(i.current),w=y?x.addEventListener:x.removeEventListener;w(_?"touchmove":"mousemove",p),w(_?"touchend":"mouseup",g)}return[function(y){var _=y.nativeEvent,x=i.current;if(x&&(YI(_),!function(A,C){return C&&!Tm(A)}(_,l.current)&&x)){if(Tm(_)){l.current=!0;var w=_.changedTouches||[];w.length&&(a.current=w[0].identifier)}x.focus(),s(KI(x,_,a.current)),v(!0)}},function(y){var _=y.which||y.keyCode;_<37||_>40||(y.preventDefault(),o({left:_===39?.05:_===37?-.05:0,top:_===40?.05:_===38?-.05:0}))},v]},[o,s]),u=c[0],f=c[1],d=c[2];return B.useEffect(function(){return d},[d]),te.createElement("div",zh({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),f0=function(n){return n.filter(Boolean).join(" ")},XE=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=f0(["react-colorful__pointer",n.className]);return te.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},te.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},hi=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},XG=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:hi(n.h),s:hi(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:hi(i/2),a:hi(r,2)}},e2=function(n){var e=XG(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},dA=function(n){var e=XG(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},JG=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:hi(255*[r,a,o,o,l,r][c]),g:hi(255*[l,r,r,a,o,o][c]),b:hi(255*[o,o,l,r,r,a][c]),a:hi(i,2)}},KG=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:hi(60*(a<0?a+6:a)),s:hi(s?o/s*100:0),v:hi(s/255*100),a:i}},YG=te.memo(function(n){var e=n.hue,t=n.onChange,r=f0(["react-colorful__hue",n.className]);return te.createElement("div",{className:r},te.createElement($E,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:gh(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":hi(e),"aria-valuemax":"360","aria-valuemin":"0"},te.createElement(XE,{className:"react-colorful__hue-pointer",left:e/360,color:e2({h:e,s:100,v:100,a:1})})))}),QG=te.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:e2({h:e.h,s:100,v:100,a:1})};return te.createElement("div",{className:"react-colorful__saturation",style:r},te.createElement($E,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:gh(e.s+100*i.left,0,100),v:gh(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+hi(e.s)+"%, Brightness "+hi(e.v)+"%"},te.createElement(XE,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:e2(e)})))}),JE=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function qG(n,e,t){var r=qM(t),i=B.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=B.useRef({color:e,hsva:s});B.useEffect(function(){if(!n.equal(e,a.current.color)){var c=n.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,n]),B.useEffect(function(){var c;JE(s,a.current.hsva)||n.equal(c=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,n,r]);var l=B.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[s,l]}var Hce=typeof window<"u"?B.useLayoutEffect:B.useEffect,Vce=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},QI=new Map,ZG=function(n){Hce(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!QI.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,QI.set(e,t);var r=Vce();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},Wce=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=jE(n,["className","colorModel","color","onChange"]),a=B.useRef(null);ZG(a);var l=qG(t,i,s),c=l[0],u=l[1],f=f0(["react-colorful",e]);return te.createElement("div",zh({},o,{ref:a,className:f}),te.createElement(QG,{hsva:c,onChange:u}),te.createElement(YG,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},jce=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+dA(Object.assign({},t,{a:0}))+", "+dA(Object.assign({},t,{a:1}))+")"},s=f0(["react-colorful__alpha",e]),o=hi(100*t.a);return te.createElement("div",{className:s},te.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),te.createElement($E,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:gh(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},te.createElement(XE,{className:"react-colorful__alpha-pointer",left:t.a,color:dA(t)})))},$ce=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=jE(n,["className","colorModel","color","onChange"]),a=B.useRef(null);ZG(a);var l=qG(t,i,s),c=l[0],u=l[1],f=f0(["react-colorful",e]);return te.createElement("div",zh({},o,{ref:a,className:f}),te.createElement(QG,{hsva:c,onChange:u}),te.createElement(YG,{hue:c.h,onChange:u}),te.createElement(jce,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},Xce={defaultColor:{r:0,g:0,b:0,a:1},toHsva:KG,fromHsva:JG,equal:JE},Jce=function(n){return te.createElement($ce,zh({},n,{colorModel:Xce}))},Kce={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return KG({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=JG(n)).r,g:e.g,b:e.b};var e},equal:JE},Yce=function(n){return te.createElement(Wce,zh({},n,{colorModel:Kce}))};function Qce(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Gh(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function Hh(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function qce(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Zce(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(qce(arguments[e]));return n}var eue=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function d0(n,e){var t=tue(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function tue(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=eue.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var nue=[".DS_Store","Thumbs.db"];function rue(n){return Gh(this,void 0,void 0,function(){return Hh(this,function(e){return n_(n)&&iue(n)?[2,lue(n.dataTransfer,n.type)]:sue(n)?[2,oue(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,aue(n)]:[2,[]]})})}function iue(n){return n_(n.dataTransfer)}function sue(n){return n_(n)&&n_(n.target)}function n_(n){return typeof n=="object"&&n!==null}function oue(n){return t2(n.target.files).map(function(e){return d0(e)})}function aue(n){return Gh(this,void 0,void 0,function(){var e;return Hh(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return d0(r)})]}})})}function lue(n,e){return Gh(this,void 0,void 0,function(){var t,r;return Hh(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=t2(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(cue))]):[3,2];case 1:return r=i.sent(),[2,qI(e6(r))];case 2:return[2,qI(t2(n.files).map(function(s){return d0(s)}))]}})})}function qI(n){return n.filter(function(e){return nue.indexOf(e.name)===-1})}function t2(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function cue(n){if(typeof n.webkitGetAsEntry!="function")return ZI(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?t6(e):ZI(n)}function e6(n){return n.reduce(function(e,t){return Zce(e,Array.isArray(t)?e6(t):[t])},[])}function ZI(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=d0(e);return Promise.resolve(t)}function uue(n){return Gh(this,void 0,void 0,function(){return Hh(this,function(e){return[2,n.isDirectory?t6(n):fue(n)]})})}function t6(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Gh(o,void 0,void 0,function(){var l,c,u;return Hh(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),t(l),[3,4];case 3:return c=f.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(uue)),i.push(u),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function fue(n){return Gh(this,void 0,void 0,function(){return Hh(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=d0(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var due=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function ek(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function tk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(t),!0).forEach(function(r){n6(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ek(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function n6(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nk(n,e){return gue(n)||mue(n,e)||pue(n,e)||hue()}function hue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pue(n,e){if(n){if(typeof n=="string")return rk(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rk(n,e)}}function rk(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function mue(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function gue(n){if(Array.isArray(n))return n}var vue="file-invalid-type",yue="file-too-large",_ue="file-too-small",xue="too-many-files",wue=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:vue,message:"File type must be ".concat(t)}},ik=function(e){return{code:yue,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},sk=function(e){return{code:_ue,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Sue={code:xue,message:"Too many files"};function r6(n,e){var t=n.type==="application/x-moz-file"||due(n,e);return[t,t?null:wue(e)]}function i6(n,e,t){if(jp(n.size))if(jp(e)&&jp(t)){if(n.size>t)return[!1,ik(t)];if(n.size<e)return[!1,sk(e)]}else{if(jp(e)&&n.size<e)return[!1,sk(e)];if(jp(t)&&n.size>t)return[!1,ik(t)]}return[!0,null]}function jp(n){return n!=null}function Aue(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=r6(a,t),c=nk(l,1),u=c[0],f=i6(a,r,i),d=nk(f,1),p=d[0];return u&&p})}function r_(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function My(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function ok(n){n.preventDefault()}function bue(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Mue(n){return n.indexOf("Edge/")!==-1}function Cue(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return bue(n)||Mue(n)}function ko(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!r_(r)&&a&&a.apply(void 0,[r].concat(s)),r_(r)})}}function Eue(){return"showOpenFilePicker"in window}function Tue(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return tk(tk({},e),{},n6({},t,[]))},{}):{}}]}function Pue(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Rue(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var Due=["children"],Bue=["open"],Lue=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Iue=["refKey","onChange","onClick"];function kue(n){return Nue(n)||Oue(n)||s6(n)||Fue()}function Fue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oue(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Nue(n){if(Array.isArray(n))return n2(n)}function hA(n,e){return Gue(n)||zue(n,e)||s6(n,e)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s6(n,e){if(n){if(typeof n=="string")return n2(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n2(n,e)}}function n2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function zue(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Gue(n){if(Array.isArray(n))return n}function ak(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Sn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(t),!0).forEach(function(r){r2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ak(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function r2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i_(n,e){if(n==null)return{};var t=Hue(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Hue(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var KE=B.forwardRef(function(n,e){var t=n.children,r=i_(n,Due),i=a6(r),s=i.open,o=i_(i,Bue);return B.useImperativeHandle(e,function(){return{open:s}},[s]),te.createElement(B.Fragment,null,t(Sn(Sn({},o),{},{open:s})))});KE.displayName="Dropzone";var o6={disabled:!1,getFilesFromEvent:rue,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};KE.defaultProps=o6;KE.propTypes={children:an.func,accept:an.oneOfType([an.string,an.arrayOf(an.string)]),multiple:an.bool,preventDropOnDocument:an.bool,noClick:an.bool,noKeyboard:an.bool,noDrag:an.bool,noDragEventsBubbling:an.bool,minSize:an.number,maxSize:an.number,maxFiles:an.number,disabled:an.bool,getFilesFromEvent:an.func,onFileDialogCancel:an.func,onFileDialogOpen:an.func,useFsAccessApi:an.bool,onDragEnter:an.func,onDragLeave:an.func,onDragOver:an.func,onDrop:an.func,onDropAccepted:an.func,onDropRejected:an.func,validator:an.func};var i2={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function a6(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Sn(Sn({},o6),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,d=e.onDrop,p=e.onDropAccepted,g=e.onDropRejected,v=e.onFileDialogCancel,y=e.onFileDialogOpen,_=e.useFsAccessApi,x=e.preventDropOnDocument,w=e.noClick,A=e.noKeyboard,C=e.noDrag,E=e.noDragEventsBubbling,P=e.validator,M=B.useMemo(function(){return typeof y=="function"?y:lk},[y]),T=B.useMemo(function(){return typeof v=="function"?v:lk},[v]),D=B.useRef(null),F=B.useRef(null),L=B.useReducer(Vue,i2),N=hA(L,2),k=N[0],V=N[1],W=k.isFocused,K=k.isFileDialogActive,H=k.draggedFiles,U=B.useRef(typeof window<"u"&&window.isSecureContext&&_&&Eue()),z=function(){!U.current&&K&&setTimeout(function(){if(F.current){var ee=F.current.files;ee.length||(V({type:"closeDialog"}),T())}},300)};B.useEffect(function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}},[F,K,T,U]);var G=B.useRef([]),j=function(ee){D.current&&D.current.contains(ee.target)||(ee.preventDefault(),G.current=[])};B.useEffect(function(){return x&&(document.addEventListener("dragover",ok,!1),document.addEventListener("drop",j,!1)),function(){x&&(document.removeEventListener("dragover",ok),document.removeEventListener("drop",j))}},[D,x]);var Z=B.useCallback(function(O){O.preventDefault(),O.persist(),xe(O),G.current=[].concat(kue(G.current),[O.target]),My(O)&&Promise.resolve(i(O)).then(function(ee){r_(O)&&!E||(V({draggedFiles:ee,isDragActive:!0,type:"setDraggedFiles"}),c&&c(O))})},[i,c,E]),q=B.useCallback(function(O){O.preventDefault(),O.persist(),xe(O);var ee=My(O);if(ee&&O.dataTransfer)try{O.dataTransfer.dropEffect="copy"}catch{}return ee&&f&&f(O),!1},[f,E]),re=B.useCallback(function(O){O.preventDefault(),O.persist(),xe(O);var ee=G.current.filter(function(Ce){return D.current&&D.current.contains(Ce)}),ae=ee.indexOf(O.target);ae!==-1&&ee.splice(ae,1),G.current=ee,!(ee.length>0)&&(V({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),My(O)&&u&&u(O))},[D,u,E]),Q=B.useCallback(function(O,ee){var ae=[],Ce=[];O.forEach(function(ye){var Fe=r6(ye,t),Ee=hA(Fe,2),pe=Ee[0],je=Ee[1],Xe=i6(ye,o,s),Oe=hA(Xe,2),ze=Oe[0],ke=Oe[1],it=P?P(ye):null;if(pe&&ze&&!it)ae.push(ye);else{var at=[je,ke];it&&(at=at.concat(it)),Ce.push({file:ye,errors:at.filter(function(It){return It})})}}),(!a&&ae.length>1||a&&l>=1&&ae.length>l)&&(ae.forEach(function(ye){Ce.push({file:ye,errors:[Sue]})}),ae.splice(0)),V({acceptedFiles:ae,fileRejections:Ce,type:"setFiles"}),d&&d(ae,Ce,ee),Ce.length>0&&g&&g(Ce,ee),ae.length>0&&p&&p(ae,ee)},[V,a,t,o,s,l,d,p,g,P]),ce=B.useCallback(function(O){O.preventDefault(),O.persist(),xe(O),G.current=[],My(O)&&Promise.resolve(i(O)).then(function(ee){r_(O)&&!E||Q(ee,O)}),V({type:"reset"})},[i,Q,E]),de=B.useCallback(function(){if(U.current){V({type:"openDialog"}),M();var O={multiple:a,types:Tue(t)};window.showOpenFilePicker(O).then(function(ee){return i(ee)}).then(function(ee){Q(ee,null),V({type:"closeDialog"})}).catch(function(ee){Pue(ee)?(T(ee),V({type:"closeDialog"})):Rue(ee)&&(U.current=!1,F.current&&(F.current.value=null,F.current.click()))});return}F.current&&(V({type:"openDialog"}),M(),F.current.value=null,F.current.click())},[V,M,T,_,Q,t,a]),Re=B.useCallback(function(O){!D.current||!D.current.isEqualNode(O.target)||(O.key===" "||O.key==="Enter"||O.keyCode===32||O.keyCode===13)&&(O.preventDefault(),de())},[D,de]),ge=B.useCallback(function(){V({type:"focus"})},[]),ve=B.useCallback(function(){V({type:"blur"})},[]),ne=B.useCallback(function(){w||(Cue()?setTimeout(de,0):de())},[w,de]),oe=function(ee){return r?null:ee},_e=function(ee){return A?null:oe(ee)},be=function(ee){return C?null:oe(ee)},xe=function(ee){E&&ee.stopPropagation()},Ne=B.useMemo(function(){return function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=O.refKey,ae=ee===void 0?"ref":ee,Ce=O.role,ye=O.onKeyDown,Fe=O.onFocus,Ee=O.onBlur,pe=O.onClick,je=O.onDragEnter,Xe=O.onDragOver,Oe=O.onDragLeave,ze=O.onDrop,ke=i_(O,Lue);return Sn(Sn(r2({onKeyDown:_e(ko(ye,Re)),onFocus:_e(ko(Fe,ge)),onBlur:_e(ko(Ee,ve)),onClick:oe(ko(pe,ne)),onDragEnter:be(ko(je,Z)),onDragOver:be(ko(Xe,q)),onDragLeave:be(ko(Oe,re)),onDrop:be(ko(ze,ce)),role:typeof Ce=="string"&&Ce!==""?Ce:"button"},ae,D),!r&&!A?{tabIndex:0}:{}),ke)}},[D,Re,ge,ve,ne,Z,q,re,ce,A,C,r]),we=B.useCallback(function(O){O.stopPropagation()},[]),Ie=B.useMemo(function(){return function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=O.refKey,ae=ee===void 0?"ref":ee,Ce=O.onChange,ye=O.onClick,Fe=i_(O,Iue),Ee=r2({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:oe(ko(Ce,ce)),onClick:oe(ko(ye,we)),tabIndex:-1},ae,F);return Sn(Sn({},Ee),Fe)}},[F,t,a,ce,r]),Ue=H.length,Ae=Ue>0&&Aue({files:H,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),X=Ue>0&&!Ae;return Sn(Sn({},k),{},{isDragAccept:Ae,isDragReject:X,isFocused:W&&!r,getRootProps:Ne,getInputProps:Ie,rootRef:D,inputRef:F,open:oe(de)})}function Vue(n,e){switch(e.type){case"focus":return Sn(Sn({},n),{},{isFocused:!0});case"blur":return Sn(Sn({},n),{},{isFocused:!1});case"openDialog":return Sn(Sn({},i2),{},{isFileDialogActive:!0});case"closeDialog":return Sn(Sn({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return Sn(Sn({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return Sn(Sn({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Sn({},i2);default:return n}}function lk(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Wue=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var jue=Wue;function ck(n){return jue(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var l6=function(e){var t,r;return!(ck(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,ck(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var $ue=l6,YE=function(e){return $ue(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Xue=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},Jue=YE,Kue=Xue;function c6(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];s2(i)&&Kue(i,Yue,n)}return n}function Yue(n,e){if(Que(e)){var t=this[e];s2(n)&&s2(t)?c6(t,n):this[e]=n}}function s2(n){return Jue(n)&&!Array.isArray(n)}function Que(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var que=c6;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Zue=function(n,e,t,r,i){if(!efe(n)||!e)return n;if(e=Cy(e),t&&(e+="."+Cy(t)),r&&(e+="."+Cy(r)),i&&(e+="."+Cy(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function efe(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Cy(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var tfe=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];t.call(o,c)&&(r[c]=o[c])}return r},nfe=YE,rfe=tfe,ife=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");uk(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];ofe(t)&&(t=afe(t)),uk(t)&&(sfe(n,t),rfe(n,t))}return n};function sfe(n,e){for(var t in e)lfe(e,t)&&(n[t]=e[t])}function ofe(n){return n&&typeof n=="string"}function afe(n){var e={};for(var t in n)e[t]=n[t];return e}function uk(n){return n&&typeof n=="object"||nfe(n)}function lfe(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var cfe=ife,ufe=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=cfe({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,u=n.length,f=-1,d;function p(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<u;){var g=n[f],v=n[f+1],y={val:g,idx:f,arr:l,str:n};if(o.push(y),g==="\\"){y.val=dfe(r,n,f)===!0?g+v:v,y.escaped=!0,typeof t=="function"&&t(y),l[l.length-1]+=y.val,f++;continue}if(s&&s[g]){a.push(g);var _=p(),x=f+1;if(n.indexOf(_,x+1)!==-1)for(;a.length&&x<u;){var w=n[++x];if(w==="\\"){w++;continue}if(i.indexOf(w)!==-1){x=o2(n,w,x+1);continue}if(_=p(),a.length&&n.indexOf(_,x+1)===-1)break;if(s[w]){a.push(w);continue}_===w&&a.pop()}if(d=x,d===-1){l[l.length-1]+=g;continue}g=n.slice(f,d+1),y.val=g,y.idx=f=d}if(i.indexOf(g)!==-1){if(d=o2(n,g,f+1),d===-1){l[l.length-1]+=g;continue}ffe(g,r)===!0?g=n.slice(f,d+1):g=n.slice(f+1,d),y.val=g,y.idx=f=d}if(typeof t=="function"&&(t(y,o),g=y.val,f=y.idx),y.val===c&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function o2(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?o2(n,e,i+1):i}function ffe(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function dfe(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var hfe=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},fk=hfe,pfe=function(e){fk(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];fk(i)&&mfe(e,i)}return e};function mfe(n,e){for(var t in e)gfe(e,t)&&(n[t]=e[t])}function gfe(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var vfe=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var yfe=ufe,_fe=pfe,dk=l6,hk=vfe,xfe=function(n,e,t){if(!hk(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=yfe(e,{sep:".",brackets:!0}).filter(wfe),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){hk(o[a])||(o[a]={}),o=o[a];continue}dk(o[a])&&dk(t)?o[a]=_fe({},o[a],t):o[a]=t}return n};function wfe(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var pA=YE,pk=que,Sfe=Zue,mk=xfe,Afe=function(e,t,r){if(!pA(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return pk.apply(null,arguments);if(typeof r=="string")return mk(e,t,r),e;var i=Sfe(e,t);return pA(r)&&pA(i)&&(r=pk({},i,r)),mk(e,t,r),e};const bfe=Sh(Afe),QE=(...n)=>n.filter(Boolean).join(".");function Mfe(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function Cfe(n,e){return Object.entries(rle(n,e)).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})}function Efe(n,e){const t=B.useRef();return(e?mg:r0)(n,t.current)||(t.current=n),t.current}function u6(n,e){return B.useMemo(n,Efe(e,!0))}function Tfe(n){const e=B.useRef(null),t=B.useRef(null),r=B.useRef(!0);return B.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),B.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const Pfe=n=>{const[e,t]=B.useState(n.getVisiblePaths());return B.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:r0});return()=>r()},[n]),e};function Rfe(n,e,t){return n.useStore(i=>{const s=mt(mt({},t),i.data);return Cfe(s,e)},r0)}function f6(n=3){const e=B.useRef(null),t=B.useRef(null),[r,i]=B.useState(!1),s=B.useCallback(()=>i(!0),[]),o=B.useCallback(()=>i(!1),[]);return B.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=t.current.getBoundingClientRect(),f=a+u>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",f==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}zce([Gce]);const Dfe={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Di.extend({color:()=>n=>di(n).isValid()});const Bfe=n=>Di().color().test(n);function d6(n,{format:e,hasAlpha:t,isString:r}){const i=Dfe[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?ile(s,["a"]):s}const h6=(n,e)=>{const t=di(n);if(!t.isValid())throw Error("Invalid color");return d6(t,e)},Lfe=(n,e)=>d6(di(n),mt(mt({},e),{},{isString:!0,format:"hex"})),Ife=({value:n})=>{const e=Uce(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:h6(n,i),settings:i}};var kfe=Object.freeze({__proto__:null,schema:Bfe,sanitize:h6,format:Lfe,normalize:Ife});const Ffe=dt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Ofe=dt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Nfe=dt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function gk(n,e){return e!=="rgb"?di(n).toRgb():n}function Ufe({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Yr(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:u,show:f,hide:d}=f6(),p=B.useRef(0),[g,v]=B.useState(()=>gk(n,o)),y=a?Jce:Yce,_=()=>{v(gk(n,o)),f(),i()},x=()=>{d(),s(),window.clearTimeout(p.current)},w=()=>{p.current=window.setTimeout(x,500)};return B.useEffect(()=>()=>window.clearTimeout(p.current),[]),te.createElement(te.Fragment,null,te.createElement(Ffe,{ref:l,active:u,onClick:()=>_(),style:{color:e}}),u&&te.createElement(HE,null,te.createElement(IG,{onPointerUp:x}),te.createElement(Nfe,{ref:c,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:A=>A.buttons===0&&w()},te.createElement(y,{color:g,onChange:r}))))}function zfe(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=Yr();return te.createElement(qs,{input:!0},te.createElement(Eo,null,t),te.createElement(Ofe,null,te.createElement(Ufe,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),te.createElement(GE,{value:e,onChange:r,onUpdate:i})))}var Gfe=mt({component:zfe},kfe);function Hfe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Yr();return te.createElement(qs,{input:!0},te.createElement(Eo,null,n),te.createElement(WE,{value:e,settings:r,onUpdate:t}))}var Vfe=mt({component:Hfe},HG(["x","y","z"]));const Wfe=dt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),jfe=dt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function $fe({value:n,settings:e,onUpdate:t}){const r=B.useRef(),i=B.useRef(0),s=B.useRef(0),o=B.useRef(1),[a,l]=B.useState(!1),[c,u]=B.useState(!1),[f,d]=FG(),p=B.useRef(null),g=B.useRef(null);B.useLayoutEffect(()=>{if(a){const{top:L,left:N,width:k,height:V}=p.current.getBoundingClientRect();g.current.style.left=N+k/2+"px",g.current.style.top=L+V/2+"px"}},[a]);const{keys:[v,y],joystick:_}=e,x=_==="invertY"?1:-1,{[v]:{step:w},[y]:{step:A}}=e,C=Ua("sizes","joystickWidth"),E=Ua("sizes","joystickHeight"),P=parseFloat(C)*.8/2,M=parseFloat(E)*.8/2,T=B.useCallback(()=>{r.current||(u(!0),i.current&&d({x:i.current*P}),s.current&&d({y:s.current*-M}),r.current=window.setInterval(()=>{t(L=>{const N=w*i.current*o.current,k=x*A*s.current*o.current;return Array.isArray(L)?{[v]:L[0]+N,[y]:L[1]+k}:{[v]:L[v]+N,[y]:L[y]+k}})},16))},[P,M,t,d,w,A,v,y,x]),D=B.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);B.useEffect(()=>{function L(N){o.current=xG(N)}return window.addEventListener("keydown",L),window.addEventListener("keyup",L),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",L),window.removeEventListener("keyup",L)}},[]);const F=u0(({first:L,active:N,delta:[k,V],movement:[W,K]})=>{L&&l(!0);const H=yc(W,-P,P),U=yc(K,-M,M);i.current=Math.abs(W)>Math.abs(H)?Math.sign(W-H):0,s.current=Math.abs(K)>Math.abs(U)?Math.sign(U-K):0;let z=n[v],G=n[y];N?(i.current||(z+=k*w*o.current,d({x:H})),s.current||(G-=x*V*A*o.current,d({y:U})),i.current||s.current?T():D(),t({[v]:z,[y]:G})):(l(!1),i.current=0,s.current=0,d({x:0,y:0}),D())});return te.createElement(Wfe,zn({ref:p},F()),a&&te.createElement(HE,null,te.createElement(jfe,{ref:g,isOutOfBounds:c},te.createElement("div",null),te.createElement("span",{ref:f}))))}const Xfe=dt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Jfe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Yr();return te.createElement(qs,{input:!0},te.createElement(Eo,null,n),te.createElement(Xfe,{withJoystick:!!r.joystick},r.joystick&&te.createElement($fe,{value:e,settings:r,onUpdate:t}),te.createElement(WE,{value:e,settings:r,onUpdate:t})))}const Kfe=["joystick"],p6=HG(["x","y"]),Yfe=n=>{let{joystick:e=!0}=n,t=Zt(n,Kfe);const{value:r,settings:i}=p6.normalize(t);return{value:r,settings:mt(mt({},i),{},{joystick:e})}};var Qfe=mt(mt({component:Jfe},p6),{},{normalize:Yfe});const qfe=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |File].")}},Zfe=(n,e)=>typeof e=="object"&&"image"in e,ede=({image:n})=>({value:n});var tde=Object.freeze({__proto__:null,sanitize:qfe,schema:Zfe,normalize:ede});const nde=dt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),rde=dt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),ide=dt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),sde=dt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),ode=dt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),ade=dt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function lde(){const{label:n,value:e,onUpdate:t,disabled:r}=Yr(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=f6(),c=B.useCallback(g=>{g.length&&t(g[0])},[t]),u=B.useCallback(g=>{g.stopPropagation(),t(void 0)},[t]),{getRootProps:f,getInputProps:d,isDragAccept:p}=a6({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return te.createElement(qs,{input:!0},te.createElement(Eo,null,n),te.createElement(nde,null,te.createElement(ide,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&te.createElement(HE,null,te.createElement(IG,{onPointerUp:l,style:{cursor:"pointer"}}),te.createElement(sde,{ref:s,style:{backgroundImage:`url(${e})`}})),te.createElement(rde,f({isDragAccept:p}),te.createElement("input",d()),te.createElement(ode,null,p?"drop image":"click or drop")),te.createElement(ade,{onClick:u,disabled:!e})))}var cde=mt({component:lde},tde);const vk=Di().number(),ude=(n,e)=>Di().array().length(2).every.number().test(n)&&Di().schema({min:vk,max:vk}).test(e),s_=n=>({min:n[0],max:n[1]}),m6=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?s_(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=mt(mt({},s),i);return[yc(Number(o),e,Math.max(e,a)),yc(Number(a),Math.min(t,o),t)]},fde=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=GG(s_(n),{min:r,max:r}),s=[e,t],o=mt(mt({},i),{},{bounds:s});return{value:m6(s_(n),o,n),settings:o}};var dde=Object.freeze({__proto__:null,schema:ude,format:s_,sanitize:m6,normalize:fde});const hde=["value","bounds","onDrag"],pde=["bounds"],mde=dt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function gde(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=Zt(n,hde);const o=B.useRef(null),a=B.useRef(null),l=B.useRef(null),c=B.useRef(0),u=Ua("sizes","scrubberWidth"),f=u0(({event:g,first:v,xy:[y],movement:[_],memo:x={}})=>{if(v){const{width:A,left:C}=o.current.getBoundingClientRect();c.current=A-parseFloat(u);const E=(g==null?void 0:g.target)===a.current||(g==null?void 0:g.target)===l.current;x.pos=e_((y-C)/A,t,r);const P=Math.abs(x.pos-e.min)-Math.abs(x.pos-e.max);x.key=P<0||P===0&&x.pos<=e.min?"min":"max",E&&(x.pos=e[x.key])}const w=x.pos+e_(_/c.current,0,r-t);return i({[x.key]:$le(w,s[x.key])}),x}),d=`calc(${Z1(e.min,t,r)} * (100% - ${u} - 8px) + 4px)`,p=`calc(${1-Z1(e.max,t,r)} * (100% - ${u} - 8px) + 4px)`;return te.createElement(NG,zn({ref:o},f()),te.createElement(OG,null,te.createElement(UG,{style:{left:d,right:p}})),te.createElement(JM,{position:"left",ref:a,style:{left:d}}),te.createElement(JM,{position:"right",ref:l,style:{right:p}}))}function vde(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Yr(),i=Zt(r,pde);return te.createElement(te.Fragment,null,te.createElement(qs,{input:!0},te.createElement(Eo,null,n),te.createElement(mde,null,te.createElement(gde,zn({value:e},r,{onDrag:t})),te.createElement(WE,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var yde=mt({component:vde},dde);const _de=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},xde=["type","value"],wde=["onChange","transient","onEditStart","onEditEnd"],Sde=function(){const e=tE(jq(()=>({data:{}}))),t=_de();this.storeId=nle(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([u,f])=>{f.render&&a.some(d=>d.indexOf(u)===0)&&!f.render(this.get)&&l.push(u+".")});const c=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&l.every(f=>u.indexOf(f)===-1)&&(!o[u].render||o[u].render(this.get))&&c.push(u)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const u=l[c];u.__refCount--,u.__refCount===0&&u.type in yo&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{let d=c[u];if(d){const{type:p,value:g}=f,v=Zt(f,xde);p!==d.type?ba(An.INPUT_TYPE_OVERRIDE,p):((d.__refCount===0||a)&&Object.assign(d,v),d.__refCount++)}else c[u]=mt(mt({},f),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const u=c.data;return GI(u[o],a,o,this,l),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=mt(mt({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{try{GI(c[u],f,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{ba(An.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,mt(mt({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,mt(mt({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([u,f])=>{if(u==="")return ba(An.EMPTY_KEY);let d=QE(a,u);if(f.type===yo.FOLDER){const p=s(f.schema,d,l);Object.assign(c,p),d in r||(r[d]=f.settings)}else if(u in l)ba(An.DUPLICATE_KEYS,u,d,l[u].path);else{const p=ule(f,u,d,c);if(p){const{type:g,options:v,input:y}=p,{onChange:_,transient:x,onEditStart:w,onEditEnd:A}=v,C=Zt(v,wde);c[d]=mt(mt(mt({type:g},C),y),{},{fromPanel:!0}),l[u]={path:d,onChange:_,transient:x,onEditStart:w,onEditEnd:A}}else ba(An.UNKNOWN_INPUT,d,f)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},g6=new Sde,Ade={collapsed:!1};function bde(n,e){return{type:yo.FOLDER,schema:n,settings:mt(mt({},Ade),e)}}const yk=n=>"__levaInput"in n,Mde=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=Mfe(i);(!r||s.toLowerCase().indexOf(r)>-1)&&bfe(t,o,{[s]:{__levaInput:!0,path:i}})}),t},Cde=["type","label","path","valueKey","value","settings","setValue","disabled"];function Ede(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,c=Zt(n,Cde);const{displayValue:u,onChange:f,onUpdate:d}=kG({type:e,value:s,settings:o,setValue:a}),p=ef[e].component;return p?te.createElement(MG.Provider,{value:mt({key:i,path:r,id:""+r,label:t,displayValue:u,value:s,onChange:f,onUpdate:d,settings:o,setValue:a,disabled:l},c)},te.createElement(Rle,{disabled:l},te.createElement(p,null))):(ba(An.NO_COMPONENT_FOR_TYPE,e,r),null)}const Tde=dt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Pde({onClick:n,settings:e,label:t}){const r=c0();return te.createElement(qs,null,te.createElement(Tde,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const Rde=dt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Dde=dt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Bde=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function Lde(n){const{label:e,opts:t}=Bde(n),r=c0();return te.createElement(qs,{input:!!e},e&&te.createElement(Eo,null,e),te.createElement(Rde,null,Object.entries(t).map(([i,s])=>te.createElement(Dde,{key:i,onClick:()=>s(r.get)},i))))}const Ide=dt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),v6=100;function kde(n,e){n.push(e),n.length>v6&&n.shift()}const Fde=B.forwardRef(function({initialValue:n},e){const t=Ua("colors","highlight3"),r=Ua("colors","elevation2"),i=Ua("colors","highlight1"),[s,o]=B.useMemo(()=>[di(i).alpha(.4).toRgbString(),di(i).alpha(.1).toRgbString()],[i]),a=B.useRef([n]),l=B.useRef(n),c=B.useRef(n),u=B.useRef(),f=B.useCallback((g,v)=>{if(!g)return;const{width:y,height:_}=g,x=new Path2D,w=y/v6,A=_*.05;for(let P=0;P<a.current.length;P++){const M=Z1(a.current[P],l.current,c.current),T=w*P,D=_-M*(_-A*2)-A;x.lineTo(T,D)}v.clearRect(0,0,y,_);const C=new Path2D(x);C.lineTo(w*(a.current.length+1),_),C.lineTo(0,_),C.lineTo(0,0);const E=v.createLinearGradient(0,0,0,_);E.addColorStop(0,s),E.addColorStop(1,o),v.fillStyle=E,v.fill(C),v.strokeStyle=r,v.lineJoin="round",v.lineWidth=14,v.stroke(x),v.strokeStyle=t,v.lineWidth=2,v.stroke(x)},[t,r,s,o]),[d,p]=Ule(f);return B.useImperativeHandle(e,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(c.current===void 0||g>c.current)&&(c.current=g),kde(a.current,g),u.current=requestAnimationFrame(()=>f(d.current,p.current))}}),[d,p,f]),B.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),te.createElement(Ide,{ref:d})}),_k=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),Ode=B.forwardRef(function({initialValue:n},e){const[t,r]=B.useState(_k(n));return B.useImperativeHandle(e,()=>({frame:i=>r(_k(i))}),[]),te.createElement("div",null,t)});function xk(n){return typeof n=="function"?n():n.current}function Nde({label:n,objectOrFn:e,settings:t}){const r=B.useRef(),i=B.useRef(xk(e));return B.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(xk(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),te.createElement(qs,{input:!0},te.createElement(Eo,{align:"top"},n),t.graph?te.createElement(Fde,{ref:r,initialValue:i.current}):te.createElement(Ode,{ref:r,initialValue:i.current}))}const Ude=["type","label","key"],zde={[yo.BUTTON]:Pde,[yo.BUTTON_GROUP]:Lde,[yo.MONITOR]:Nde},Gde=te.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=Gle(n);if(!e)return null;const{type:l,label:c,key:u}=e,f=Zt(e,Ude);if(l in yo){const d=zde[l];return te.createElement(d,zn({label:c,path:n},f))}return l in ef?te.createElement(Ede,zn({key:s+n,type:l,label:c,storeId:s,path:n,valueKey:u,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(Jae(An.UNSUPPORTED_INPUT,l,n),null)});function Hde({toggle:n,toggled:e,name:t}){return te.createElement(Ele,{onClick:()=>n()},te.createElement(VE,{toggled:e}),te.createElement("div",null,t))}const Vde=({name:n,path:e,tree:t})=>{const r=c0(),i=QE(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=B.useState(!s),c=B.useRef(null),u=Ua("colors","folderWidgetColor"),f=Ua("colors","folderTextColor");return B.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),c.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,u,f]),te.createElement(t_,{ref:c},te.createElement(Hde,{name:n,toggled:a,toggle:()=>l(d=>!d)}),te.createElement(y6,{parent:i,tree:t,toggled:a}))},y6=te.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Tfe(s),l=c0(),c=([f,d])=>{var p;return(yk(d)?(p=l.getInput(d.path))===null||p===void 0?void 0:p.order:l.getFolderSettings(QE(r,f)).order)||0},u=Object.entries(i).sort((f,d)=>c(f)-c(d));return te.createElement($M,{ref:o,isRoot:n,fill:e,flat:t},te.createElement(DG,{ref:a,isRoot:n,toggled:s},u.map(([f,d])=>yk(d)?te.createElement(Gde,{key:d.path,valueKey:d.valueKey,path:d.path}):te.createElement(Vde,{key:f,name:f,path:r,tree:d}))))}),Wde=dt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${LG}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),_6=40,o_=dt("i",{$flexCenter:"",width:_6,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),jde=dt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),$de=dt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${o_}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Xde=dt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Jde=dt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:_6}}}}),Kde=te.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=B.useState(""),s=B.useMemo(()=>_G(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return B.useEffect(()=>{s(r)},[r,s]),te.createElement(te.Fragment,null,te.createElement(Xde,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),te.createElement(o_,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Yde({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[u,f]=B.useState(!1),d=B.useRef(null);B.useEffect(()=>{var g,v;u?(g=d.current)===null||g===void 0||g.focus():(v=d.current)===null||v===void 0||v.blur()},[u]);const p=u0(({offset:[g,v],first:y,last:_})=>{e({x:g,y:v}),y&&t({x:g,y:v}),_&&r({x:g,y:v})},{filterTaps:!0,from:({offset:[g,v]})=>[(c==null?void 0:c.x)||g,(c==null?void 0:c.y)||v]});return B.useEffect(()=>{const g=v=>{v.key==="L"&&v.shiftKey&&v.metaKey&&f(y=>!y)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),te.createElement(te.Fragment,null,te.createElement(jde,{mode:a?"drag":void 0},te.createElement(o_,{active:!s,onClick:()=>i()},te.createElement(VE,{toggled:s,width:12,height:8})),te.createElement(Jde,zn({},a?p():{},{drag:a,filterEnabled:l}),o===void 0&&a?te.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},te.createElement("circle",{cx:"2",cy:"2",r:"2"}),te.createElement("circle",{cx:"14",cy:"2",r:"2"}),te.createElement("circle",{cx:"26",cy:"2",r:"2"}),te.createElement("circle",{cx:"2",cy:"12",r:"2"}),te.createElement("circle",{cx:"14",cy:"12",r:"2"}),te.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&te.createElement(o_,{active:u,onClick:()=>f(g=>!g)},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},te.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),te.createElement($de,{toggled:u},te.createElement(Kde,{ref:d,setFilter:n,toggle:i})))}const Qde=["store","hidden","theme","collapsed"];function qde(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,s=Zt(n,Qde);const o=u6(()=>wle(r),[r]),[a,l]=B.useState(!i),c=typeof i=="object"?!i.collapsed:a,u=B.useMemo(()=>typeof i=="object"?f=>{typeof f=="function"?i.onChange(!f(!i.collapsed)):i.onChange(!f)}:l,[i]);return!e||t?null:te.createElement(zE.Provider,{value:o},te.createElement(Zde,zn({store:e},s,{toggled:c,setToggle:u,rootClass:o.className})))}const Zde=te.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,f;const d=Pfe(n),[p,g]=B.useState(""),v=B.useMemo(()=>Mde(d,p),[d,p]),[y,_]=FG(),x=i||d.length>0,w=typeof o=="object"&&o.title||void 0,A=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,C=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,E=typeof o=="object"&&o.position||void 0,P=typeof o=="object"&&o.onDrag||void 0,M=typeof o=="object"&&o.onDragStart||void 0,T=typeof o=="object"&&o.onDragEnd||void 0;return te.useEffect(()=>{_({x:E==null?void 0:E.x,y:E==null?void 0:E.y})},[E,_]),xle(),te.createElement(EG.Provider,{value:{hideCopyButton:a}},te.createElement(Wde,{ref:y,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:x?"block":"none"}},o&&te.createElement(Yde,{onDrag:D=>{_(D),P==null||P(D)},onDragStart:D=>M==null?void 0:M(D),onDragEnd:D=>T==null?void 0:T(D),setFilter:g,toggle:D=>c(F=>D??!F),toggled:l,title:w,drag:A,filterEnabled:C,from:E}),x&&te.createElement(CG.Provider,{value:n},te.createElement(y6,{isRoot:!0,fill:t,flat:r,tree:v,toggled:l}))))}),ehe=["isRoot"];let a_=!1,Mu=null;function x6(n){let{isRoot:e=!1}=n,t=Zt(n,ehe);return B.useEffect(()=>(a_=!0,!e&&Mu&&(Mu.remove(),Mu=null),()=>{e||(a_=!1)}),[e]),te.createElement(qde,zn({store:g6},t))}function the(n){B.useEffect(()=>{n&&!a_&&(Mu||(Mu=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Mu),dle(te.createElement(x6,{isRoot:!0}),Mu))),a_=!0)},[n])}function nhe(n,e,t,r,i){let s,o,a,l,c;return typeof n=="string"?(o=n,s=e,Array.isArray(t)?c=t:t&&("store"in t?(l=t,c=r):(a=t,Array.isArray(r)?c=r:(l=r,c=i)))):(s=n,Array.isArray(e)?c=e:(l=e,c=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:c||[]}}function rhe(n,e,t,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:c}=nhe(n,e,t,r,i),u=typeof o=="function",f=B.useRef(!1),d=B.useRef(!0),p=u6(()=>{f.current=!0;const F=typeof o=="function"?o():o;return s?{[s]:bde(F,a)}:F},c),g=!(l!=null&&l.store);the(g);const[v]=B.useState(()=>(l==null?void 0:l.store)||g6),[y,_]=B.useMemo(()=>v.getDataFromSchema(p),[v,p]),[x,w,A,C,E]=B.useMemo(()=>{const F=[],L=[],N={},k={},V={};return Object.values(_).forEach(({path:W,onChange:K,onEditStart:H,onEditEnd:U,transient:z})=>{F.push(W),K?(N[W]=K,z||L.push(W)):L.push(W),H&&(k[W]=H),U&&(V[W]=U)}),[F,L,N,k,V]},[_]),P=B.useMemo(()=>v.orderPaths(x),[x,v]),M=Rfe(v,w,y),T=B.useCallback(F=>{const L=Object.entries(F).reduce((N,[k,V])=>Object.assign(N,{[_[k].path]:V}),{});v.set(L,!1)},[v,_]),D=B.useCallback(F=>v.get(_[F].path),[v,_]);return B.useEffect(()=>{const F=!d.current&&f.current;return v.addData(y,F),d.current=!1,f.current=!1,()=>v.disposePaths(P)},[v,P,y]),B.useEffect(()=>{const F=[];return Object.entries(A).forEach(([L,N])=>{N(v.get(L),L,mt({initial:!0,get:v.get},v.getInput(L)));const k=v.useStore.subscribe(V=>{const W=V.data[L];return[W.disabled?void 0:W.value,W]},([V,W])=>N(V,L,mt({initial:!1,get:v.get},W)),{equalityFn:r0});F.push(k)}),()=>F.forEach(L=>L())},[v,A]),B.useEffect(()=>{const F=[];return Object.entries(C).forEach(([L,N])=>F.push(v.subscribeToEditStart(L,N))),Object.entries(E).forEach(([L,N])=>F.push(v.subscribeToEditEnd(L,N))),()=>F.forEach(L=>L())},[C,E,v]),u?[M,T,D]:M}ol(Ao.SELECT,ice);ol(Ao.IMAGE,cde);ol(Ao.NUMBER,Jle);ol(Ao.COLOR,Gfe);ol(Ao.STRING,hce);ol(Ao.BOOLEAN,xce);ol(Ao.INTERVAL,yde);ol(Ao.VECTOR3D,Vfe);ol(Ao.VECTOR2D,Qfe);const wk=.08;let Sk=-10,Ak=-10,Ey=0,Ty=0;const ihe=()=>{const n=B.useRef(),[e,t]=B.useState(!1),r=()=>{let i=Sk-Ey,s=Ak-Ty;Ey=Ey+i*wk,Ty=Ty+s*wk,n.current.style.left=`${Ey}px`,n.current.style.top=`${Ty}px`,requestAnimationFrame(r)};return B.useEffect(()=>{const i=document.addEventListener("mousemove",function(o){Sk=o.pageX,Ak=o.pageY}),s=requestAnimationFrame(r);return()=>{document.removeEventListener("mousemove",i),cancelAnimationFrame(s)}},[]),B.useEffect(()=>{const i=document.addEventListener("mouseover",function(s){s.target.tagName.toLowerCase()==="button"||s.target.parentElement.tagName.toLowerCase()==="button"||s.target.tagName.toLowerCase()==="input"||s.target.tagName.toLowerCase()==="textarea"?t(!0):t(!1)});return()=>{document.removeEventListener("mouseover",i)}},[]),Pe(y_,{children:Pe("div",{className:`invisible md:visible  z-50 fixed -translate-x-1/2 -translate-y-1/2 rounded-full pointer-events-none transition-transform
        ${e?"bg-transparent border-2 border-indigo-900 w-5 h-5":"bg-indigo-500 w-3 h-3"}`,ref:n})})};function she(n,{whileHover:e,onHoverStart:t,onHoverEnd:r,onPointerOver:i,onPointerOut:s},o){return n||!o||!(e||t||r)?{}:{onPointerOver:l=>{var c;(c=o.animationState)===null||c===void 0||c.setActive("whileHover",!0),i&&i(l)},onPointerOut:l=>{var c;(c=o.animationState)===null||c===void 0||c.setActive("whileHover",!1),s&&s(l)}}}function ohe(n,{whileTap:e,onTapStart:t,onTap:r,onTapCancel:i,onPointerDown:s},o){const a=r||t||i||e,l=B.useRef(!1),c=B.useRef(null);if(n||!o||!a)return{};function u(){var g;(g=c.current)===null||g===void 0||g.call(c),c.current=null}function f(){var g;return u(),l.current=!1,(g=o.animationState)===null||g===void 0||g.setActive("whileTap",!1),!SE()}function d(g,v){f()&&(r==null||r(g,v))}function p(g,v){f()&&(i==null||i(g,v))}return{onPointerDown:R5((g,v)=>{var y;if(u(),l.current)return;l.current=!0;const _={passive:!(t||r||i||s)};c.current=Ia(vo(window,"pointerup",d,_),vo(window,"pointercancel",p,_)),(y=o.animationState)===null||y===void 0||y.setActive("whileTap",!0),s==null||s(g),t==null||t(g,v)})}}const ahe=(n,e,t,r,i,s)=>{const o=lhe(e);return B.createElement(n,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ref:t},A5(e,!1,!1)),o),{onUpdate:e.onInstanceUpdate}),she(i,e,s)),ohe(i,e,s)))};function lhe(n){return B.useMemo(()=>{const e={};for(const t in n){const r=n[t];Nn(r)?e[t]=r.get():Array.isArray(r)&&r.includes(Nn)&&(e[t]=r.map(Am))}return e},[])}const w6=(n,e)=>t=>(r,i)=>{r[n]===void 0&&(r[n]=new $(e)),r[n].setComponent(t,i)},che=(n,e)=>t=>(r,i)=>{r[n]===void 0&&(r[n]=new ns(e));const s=r[n];s[t]=i},bk=n=>(e,t)=>{e[n]===void 0&&(e[n]=new He(t)),e[n].set(t)},mA=w6("scale",1),gA=w6("position",0),vA=che("rotation",0),Mk={x:gA(0),y:gA(1),z:gA(2),scale:(n,e)=>{n.scale===void 0&&(n.scale=new $(1)),n.scale.set(e,e,e)},scaleX:mA(0),scaleY:mA(1),scaleZ:mA(2),rotateX:vA("x"),rotateY:vA("y"),rotateZ:vA("z"),color:bk("color"),specular:bk("specular")};function uhe(n,e,t){Mk[e]?Mk[e](n,t[e]):(e==="opacity"&&!n.transparent&&(n.transparent=!0),n[e]=t[e])}const qE=(n,e)=>t=>r=>{const i=r[n];return i?i[t]:e},yA=qE("position",0),Py=qE("scale",1),_A=qE("rotation",0),Ck={x:yA("x"),y:yA("y"),z:yA("z"),scale:Py("x"),scaleX:Py("x"),scaleY:Py("y"),scaleZ:Py("z"),rotateX:_A("x"),rotateY:_A("y"),rotateZ:_A("z")};function fhe(n){if(n!==void 0)return n instanceof He?n.getStyle():n}function dhe(n,e){return Ck[e]?Ck[e](n):fhe(n[e])||0}const hhe=["x","y","z"],Ek={"position-x":"x","position-y":"y","position-z":"z","rotation-x":"rotateX","rotation-y":"rotateY","rotation-z":"rotateZ","scale-x":"scaleX","scale-y":"scaleY","scale-z":"scaleZ"},S6=(n,e)=>{const t={};for(const r in n){const i=n[r];if(Nn(i)||Nn(e[r]))t[Ek[r]||r]=i;else if(Array.isArray(i))for(let s=0;s<i.length;s++){const o=i[s];if(Nn(o)||Array.isArray(e[r])&&Nn(e[r][s])){const a=Ek[r+"-"+hhe[s]];t[a]=o}}}return t},phe=()=>({});class mhe extends Lz{constructor(){super(...arguments),this.type="three"}readValueFromInstance(e,t){return dhe(e,t)}getBaseTargetFromProps(){}sortInstanceNodePosition(e,t){return e.id-t.id}makeTargetAnimatableFromInstance(e){var{transition:t,transitionEnd:r}=e,i=Qce(e,["transition","transitionEnd"]);return hz(this,i,{}),Object.assign(Object.assign({},i),{transition:t,transitionEnd:r})}removeValueFromRenderState(){}measureInstanceViewportBox(){return jn()}scrapeMotionValuesFromProps(e,t){return S6(e,t)}build(e,t){for(const r in t)e[r]=t[r]}renderInstance(e,t){for(const r in t)uhe(e,r,t)}}const ghe=(n,e)=>new mhe(e,{}),vhe=wE({scrapeMotionValuesFromProps:S6,createRenderState:phe}),yhe=Object.assign({},pz);function Tk(n){return p5({Component:n,preloadedFeatures:yhe,useRender:ahe,useVisualState:vhe,createVisualElement:ghe})}const xA=new Map,Is=new Proxy(Tk,{get:(n,e)=>(!xA.has(e)&&xA.set(e,Tk(e)),xA.get(e))}),a2={type:"spring",mass:5,stiffness:500,damping:55,restDelta:1e-4};function _he(n){const{animation:e,wireframe:t}=n,{headFollow:r,cursorFollow:i}=rhe({headFollow:!1,cursorFollow:!1}),s=B.useRef(),{nodes:o,materials:a}=uf("models/64bec4233e25313d23fedde3.glb"),{animations:l}=tc("animations/Typing.fbx"),{animations:c}=tc("animations/Standing Idle.fbx"),{animations:u}=tc("animations/Falling Idle.fbx");l[0].name="Typing",c[0].name="Standing",u[0].name="Falling";const{actions:f}=mte([l[0],c[0],u[0]],s);return hs(d=>{if(r&&s.current.getObjectByName("Head").lookAt(d.camera.position),i){const p=new $(d.mouse.x,d.mouse.y,1);s.current.getObjectByName("Spine2").lookAt(p)}}),B.useEffect(()=>(f[e].reset().fadeIn(.5).play(),()=>{f[e].reset().fadeOut(.5)}),[e]),B.useEffect(()=>{Object.values(a).forEach(d=>{d.wireframe=t})},[t]),Pe("group",{...n,ref:s,dispose:null,children:Nt("group",{children:[Pe("primitive",{object:o.Hips}),Pe("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Body.geometry,material:a.Wolf3D_Body,skeleton:o.Wolf3D_Body.skeleton}),Pe("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Outfit_Bottom.geometry,material:a.Wolf3D_Outfit_Bottom,skeleton:o.Wolf3D_Outfit_Bottom.skeleton}),Pe("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Outfit_Footwear.geometry,material:a.Wolf3D_Outfit_Footwear,skeleton:o.Wolf3D_Outfit_Footwear.skeleton}),Pe("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Outfit_Top.geometry,material:a.Wolf3D_Outfit_Top,skeleton:o.Wolf3D_Outfit_Top.skeleton}),Pe("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Hair.geometry,material:a.Wolf3D_Hair,skeleton:o.Wolf3D_Hair.skeleton}),Pe("skinnedMesh",{frustumCulled:!1,name:"EyeLeft",geometry:o.EyeLeft.geometry,material:a.Wolf3D_Eye,skeleton:o.EyeLeft.skeleton,morphTargetDictionary:o.EyeLeft.morphTargetDictionary,morphTargetInfluences:o.EyeLeft.morphTargetInfluences}),Pe("skinnedMesh",{frustumCulled:!1,name:"EyeRight",geometry:o.EyeRight.geometry,material:a.Wolf3D_Eye,skeleton:o.EyeRight.skeleton,morphTargetDictionary:o.EyeRight.morphTargetDictionary,morphTargetInfluences:o.EyeRight.morphTargetInfluences}),Pe("skinnedMesh",{frustumCulled:!1,name:"Wolf3D_Head",geometry:o.Wolf3D_Head.geometry,material:a.Wolf3D_Skin,skeleton:o.Wolf3D_Head.skeleton,morphTargetDictionary:o.Wolf3D_Head.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Head.morphTargetInfluences}),Pe("skinnedMesh",{frustumCulled:!1,name:"Wolf3D_Teeth",geometry:o.Wolf3D_Teeth.geometry,material:a.Wolf3D_Teeth,skeleton:o.Wolf3D_Teeth.skeleton,morphTargetDictionary:o.Wolf3D_Teeth.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Teeth.morphTargetInfluences})]})})}uf.preload("models/64bec4233e25313d23fedde3.glb");tc.preload("animations/Typing.fbx");tc.preload("animations/Standing Idle.fbx");tc.preload("animations/Falling Idle.fbx");function _a(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function A6(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var os={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},vh={duration:.5,overwrite:!1,delay:0},ZE,$r,Fn,Vs=1e8,sn=1/Vs,l2=Math.PI*2,xhe=l2/4,whe=0,b6=Math.sqrt,She=Math.cos,Ahe=Math.sin,Ar=function(e){return typeof e=="string"},Un=function(e){return typeof e=="function"},Ya=function(e){return typeof e=="number"},eT=function(e){return typeof e>"u"},qo=function(e){return typeof e=="object"},ki=function(e){return e!==!1},tT=function(){return typeof window<"u"},Ry=function(e){return Un(e)||Ar(e)},M6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Xr=Array.isArray,c2=/(?:-?\.?\d|\.)+/gi,C6=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Id=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,wA=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,E6=/[+-]=-?[.\d]+/,T6=/[^,'"\[\]\s]+/gi,bhe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Mn,Bs,u2,nT,cs={},l_={},P6,R6=function(e){return(l_=tf(e,cs))&&Ui},rT=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},c_=function(e,t){return!t&&console.warn(e)},D6=function(e,t){return e&&(cs[e]=t)&&l_&&(l_[e]=t)||cs},wg=function(){return 0},Mhe={suppressEvents:!0,isStart:!0,kill:!1},r1={suppressEvents:!0,kill:!1},Che={suppressEvents:!0},iT={},nc=[],f2={},B6,Zi={},SA={},Pk=30,i1=[],sT="",oT=function(e){var t=e[0],r,i;if(qo(t)||Un(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=i1.length;i--&&!i1[i].targetTest(t););r=i1[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new n8(e[i],r)))||e.splice(i,1);return e},Nu=function(e){return e._gsap||oT(Ws(e))[0]._gsap},L6=function(e,t,r){return(r=e[t])&&Un(r)?e[t]():eT(r)&&e.getAttribute&&e.getAttribute(t)||r},Fi=function(e,t){return(e=e.split(",")).forEach(t)||e},Xn=function(e){return Math.round(e*1e5)/1e5||0},Pr=function(e){return Math.round(e*1e7)/1e7||0},Jd=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},Ehe=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},u_=function(){var e=nc.length,t=nc.slice(0),r,i;for(f2={},nc.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},I6=function(e,t,r,i){nc.length&&!$r&&u_(),e.render(t,r,i||$r&&t<0&&(e._initted||e._startAt)),nc.length&&!$r&&u_()},k6=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(T6).length<2?t:Ar(e)?e.trim():e},F6=function(e){return e},Ys=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},The=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},tf=function(e,t){for(var r in t)e[r]=t[r];return e},Rk=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=qo(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},f_=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},Pm=function(e){var t=e.parent||Mn,r=e.keyframes?The(Xr(e.keyframes)):Ys;if(ki(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},Phe=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},O6=function(e,t,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},_x=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},_c=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Uu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Rhe=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},d2=function(e,t,r,i){return e._startAt&&($r?e._startAt.revert(r1):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},Dhe=function n(e){return!e||e._ts&&n(e.parent)},Dk=function(e){return e._repeat?yh(e._tTime,e=e.duration()+e._rDelay)*e:0},yh=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},d_=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},xx=function(e){return e._end=Pr(e._start+(e._tDur/Math.abs(e._ts||e._rts||sn)||0))},wx=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Pr(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),xx(e),r._dirty||Uu(r,e)),e},N6=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=d_(e.rawTime(),t),(!t._dur||h0(0,t.totalDuration(),r)-t._tTime>sn)&&t.render(r,!0)),Uu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-sn}},zo=function(e,t,r,i){return t.parent&&_c(t),t._start=Pr((Ya(r)?r:r||e!==Mn?Rs(e,r,t):e._time)+t._delay),t._end=Pr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),O6(e,t,"_first","_last",e._sort?"_start":0),h2(t)||(e._recent=t),i||N6(e,t),e._ts<0&&wx(e,e._tTime),e},U6=function(e,t){return(cs.ScrollTrigger||rT("scrollTrigger",t))&&cs.ScrollTrigger.create(t,e)},z6=function(e,t,r,i,s){if(lT(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!$r&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&B6!==es.frame)return nc.push(e),e._lazy=[s,i],1},Bhe=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},h2=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Lhe=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&Bhe(e)&&!(!e._initted&&h2(e))||(e._ts<0||e._dp._ts<0)&&!h2(e))?0:1,a=e._rDelay,l=0,c,u,f;if(a&&e._repeat&&(l=h0(0,e._tDur,t),u=yh(l,a),e._yoyo&&u&1&&(o=1-o),u!==yh(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||$r||i||e._zTime===sn||!t&&e._zTime){if(!e._initted&&z6(e,t,i,r,l))return;for(f=e._zTime,e._zTime=t||(r?sn:0),r||(r=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&d2(e,t,r,!0),e._onUpdate&&!r&&js(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&js(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&_c(e,1),!r&&!$r&&(js(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Ihe=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},_h=function(e,t,r,i){var s=e._repeat,o=Pr(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Pr(o*(s+1)+e._rDelay*s):o,a>0&&!i&&wx(e,e._tTime=e._tDur*a),e.parent&&xx(e),r||Uu(e.parent,e),e},Bk=function(e){return e instanceof Ti?Uu(e):_h(e,e._dur)},khe={_start:0,endTime:wg,totalDuration:wg},Rs=function n(e,t,r){var i=e.labels,s=e._recent||khe,o=e.duration()>=Vs?s.endTime(!1):e._dur,a,l,c;return Ar(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&r&&(l=l/100*(Xr(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},Rm=function(e,t,r){var i=Ya(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=ki(l.vars.inherit)&&l.parent;o.immediateRender=ki(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new tr(t[0],o,t[s+1])},Tc=function(e,t){return e||e===0?t(e):t},h0=function(e,t,r){return r<e?e:r>t?t:r},Vr=function(e,t){return!Ar(e)||!(t=bhe.exec(e))?"":t[1]},Fhe=function(e,t,r){return Tc(r,function(i){return h0(e,t,i)})},p2=[].slice,G6=function(e,t){return e&&qo(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&qo(e[0]))&&!e.nodeType&&e!==Bs},Ohe=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Ar(i)&&!t||G6(i,1)?(s=r).push.apply(s,Ws(i)):r.push(i)})||r},Ws=function(e,t,r){return Fn&&!t&&Fn.selector?Fn.selector(e):Ar(e)&&!r&&(u2||!xh())?p2.call((t||nT).querySelectorAll(e),0):Xr(e)?Ohe(e,r):G6(e)?p2.call(e,0):e?[e]:[]},m2=function(e){return e=Ws(e)[0]||c_("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Ws(t,r.querySelectorAll?r:r===e?c_("Invalid scope")||nT.createElement("div"):e)}},H6=function(e){return e.sort(function(){return .5-Math.random()})},V6=function(e){if(Un(e))return e;var t=qo(e)?e:{each:e},r=zu(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,u=i,f=i;return Ar(i)?u=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],f=i[1]),function(d,p,g){var v=(g||t).length,y=o[v],_,x,w,A,C,E,P,M,T;if(!y){if(T=t.grid==="auto"?0:(t.grid||[1,Vs])[1],!T){for(P=-Vs;P<(P=g[T++].getBoundingClientRect().left)&&T<v;);T--}for(y=o[v]=[],_=l?Math.min(T,v)*u-.5:i%T,x=T===Vs?0:l?v*f/T-.5:i/T|0,P=0,M=Vs,E=0;E<v;E++)w=E%T-_,A=x-(E/T|0),y[E]=C=c?Math.abs(c==="y"?A:w):b6(w*w+A*A),C>P&&(P=C),C<M&&(M=C);i==="random"&&H6(y),y.max=P-M,y.min=M,y.v=v=(parseFloat(t.amount)||parseFloat(t.each)*(T>v?v-1:c?c==="y"?v/T:T:Math.max(T,v/T))||0)*(i==="edges"?-1:1),y.b=v<0?s-v:s,y.u=Vr(t.amount||t.each)||0,r=r&&v<0?Z6(r):r}return v=(y[d]-y.min)/y.max||0,Pr(y.b+(r?r(v):v)*y.v)+y.u}},g2=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Pr(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(Ya(r)?0:Vr(r))}},W6=function(e,t){var r=Xr(e),i,s;return!r&&qo(e)&&(i=r=e.radius||Vs,e.values?(e=Ws(e.values),(s=!Ya(e[0]))&&(i*=i)):e=g2(e.increment)),Tc(t,r?Un(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Vs,u=0,f=e.length,d,p;f--;)s?(d=e[f].x-a,p=e[f].y-l,d=d*d+p*p):d=Math.abs(e[f]-a),d<c&&(c=d,u=f);return u=!i||c<=i?e[u]:o,s||u===o||Ya(o)?u:u+Vr(o)}:g2(e))},j6=function(e,t,r,i){return Tc(Xr(e)?!t:r===!0?!!(r=0):!i,function(){return Xr(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},Nhe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},Uhe=function(e,t){return function(r){return e(parseFloat(r))+(t||Vr(r))}},zhe=function(e,t,r){return X6(e,t,0,1,r)},$6=function(e,t,r){return Tc(r,function(i){return e[~~t(i)]})},Ghe=function n(e,t,r){var i=t-e;return Xr(e)?$6(e,n(0,e.length),t):Tc(r,function(s){return(i+(s-e)%i)%i+e})},Hhe=function n(e,t,r){var i=t-e,s=i*2;return Xr(e)?$6(e,n(0,e.length-1),t):Tc(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Sg=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?T6:c2),r+=e.substr(t,i-t)+j6(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},X6=function(e,t,r,i,s){var o=t-e,a=i-r;return Tc(s,function(l){return r+((l-e)/o*a||0)})},Vhe=function n(e,t,r,i){var s=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!s){var o=Ar(e),a={},l,c,u,f,d;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(Xr(e)&&!Xr(t)){for(u=[],f=e.length,d=f-2,c=1;c<f;c++)u.push(n(e[c-1],e[c]));f--,s=function(g){g*=f;var v=Math.min(d,~~g);return u[v](g-v)},r=t}else i||(e=tf(Xr(e)?[]:{},e));if(!u){for(l in t)aT.call(a,e,l,"get",t[l]);s=function(g){return fT(g,a)||(o?e.p:e)}}}return Tc(r,s)},Lk=function(e,t,r){var i=e.labels,s=Vs,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},js=function(e,t,r){var i=e.vars,s=i[t],o=Fn,a=e._ctx,l,c,u;if(s)return l=i[t+"Params"],c=i.callbackScope||e,r&&nc.length&&u_(),a&&(Fn=a),u=l?s.apply(c,l):s.call(c),Fn=o,u},tm=function(e){return _c(e),e.scrollTrigger&&e.scrollTrigger.kill(!!$r),e.progress()<1&&js(e,"onInterrupt"),e},kd,J6=[],K6=function(e){if(tT()&&e){e=!e.name&&e.default||e;var t=e.name,r=Un(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:wg,render:fT,add:aT,kill:spe,modifier:ipe,rawVars:0},o={targetTest:0,get:0,getSetter:uT,aliases:{},register:0};if(xh(),e!==i){if(Zi[t])return;Ys(i,Ys(f_(e,s),o)),tf(i.prototype,tf(s,f_(e,o))),Zi[i.prop=t]=i,e.targetTest&&(i1.push(i),iT[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}D6(t,i),e.register&&e.register(Ui,i,Oi)}else e&&J6.push(e)},nn=255,nm={aqua:[0,nn,nn],lime:[0,nn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,nn],navy:[0,0,128],white:[nn,nn,nn],olive:[128,128,0],yellow:[nn,nn,0],orange:[nn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[nn,0,0],pink:[nn,192,203],cyan:[0,nn,nn],transparent:[nn,nn,nn,0]},AA=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*nn+.5|0},Y6=function(e,t,r){var i=e?Ya(e)?[e>>16,e>>8&nn,e&nn]:0:nm.black,s,o,a,l,c,u,f,d,p,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),nm[e])i=nm[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&nn,i&nn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&nn,e&nn]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(c2),!t)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=AA(l+1/3,s,o),i[1]=AA(l,s,o),i[2]=AA(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(C6),r&&i.length<4&&(i[3]=1),i}else i=e.match(c2)||nm.transparent;i=i.map(Number)}return t&&!g&&(s=i[0]/nn,o=i[1]/nn,a=i[2]/nn,f=Math.max(s,o,a),d=Math.min(s,o,a),u=(f+d)/2,f===d?l=c=0:(p=f-d,c=u>.5?p/(2-f-d):p/(f+d),l=f===s?(o-a)/p+(o<a?6:0):f===o?(a-s)/p+2:(s-o)/p+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},Q6=function(e){var t=[],r=[],i=-1;return e.split(rc).forEach(function(s){var o=s.match(Id)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},Ik=function(e,t,r){var i="",s=(e+i).match(rc),o=t?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return e;if(s=s.map(function(d){return(d=Y6(d,t,1))&&o+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(u=Q6(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(rc,"1").split(Id),f=c.length-1;a<f;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(rc),f=c.length-1;a<f;a++)i+=c[a]+s[a];return i+c[f]},rc=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in nm)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),Whe=/hsl[a]?\(/,q6=function(e){var t=e.join(" "),r;if(rc.lastIndex=0,rc.test(t))return r=Whe.test(t),e[1]=Ik(e[1],r),e[0]=Ik(e[0],r,Q6(e[1])),!0},Ag,es=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,c,u,f,d,p,g=function v(y){var _=n()-i,x=y===!0,w,A,C,E;if(_>e&&(r+=_-t),i+=_,C=i-r,w=C-o,(w>0||x)&&(E=++f.frame,d=C-f.time*1e3,f.time=C=C/1e3,o+=w+(w>=s?4:s-w),A=1),x||(l=c(v)),A)for(p=0;p<a.length;p++)a[p](C,d,E,y)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(y){return d/(1e3/(y||60))},wake:function(){P6&&(!u2&&tT()&&(Bs=u2=window,nT=Bs.document||{},cs.gsap=Ui,(Bs.gsapVersions||(Bs.gsapVersions=[])).push(Ui.version),R6(l_||Bs.GreenSockGlobals||!Bs.gsap&&Bs||{}),u=Bs.requestAnimationFrame,J6.forEach(K6)),l&&f.sleep(),c=u||function(y){return setTimeout(y,o-f.time*1e3+1|0)},Ag=1,g(2))},sleep:function(){(u?Bs.cancelAnimationFrame:clearTimeout)(l),Ag=0,c=wg},lagSmoothing:function(y,_){e=y||1/0,t=Math.min(_||33,e)},fps:function(y){s=1e3/(y||240),o=f.time*1e3+s},add:function(y,_,x){var w=_?function(A,C,E,P){y(A,C,E,P),f.remove(w)}:y;return f.remove(y),a[x?"unshift":"push"](w),xh(),w},remove:function(y,_){~(_=a.indexOf(y))&&a.splice(_,1)&&p>=_&&p--},_listeners:a},f}(),xh=function(){return!Ag&&es.wake()},Gt={},jhe=/^[\d.\-M][\d.\-,\s]/,$he=/["']/g,Xhe=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace($he,"").trim():+c,i=l.substr(a+1).trim();return t},Jhe=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},Khe=function(e){var t=(e+"").split("("),r=Gt[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Xhe(t[1])]:Jhe(e).split(",").map(k6)):Gt._CE&&jhe.test(e)?Gt._CE("",e):r},Z6=function(e){return function(t){return 1-e(1-t)}},e8=function n(e,t){for(var r=e._first,i;r;)r instanceof Ti?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},zu=function(e,t){return e&&(Un(e)?e:Gt[e]||Khe(e))||t},mf=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return Fi(e,function(a){Gt[a]=cs[a]=s,Gt[o=a.toLowerCase()]=r;for(var l in s)Gt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Gt[a+"."+l]=s[l]}),s},t8=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},bA=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/l2*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*Ahe((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:t8(a);return s=l2/s,l.config=function(c,u){return n(e,c,u)},l},MA=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:t8(r);return i.config=function(s){return n(e,s)},i};Fi("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;mf(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Gt.Linear.easeNone=Gt.none=Gt.Linear.easeIn;mf("Elastic",bA("in"),bA("out"),bA());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};mf("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);mf("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});mf("Circ",function(n){return-(b6(1-n*n)-1)});mf("Sine",function(n){return n===1?1:-She(n*xhe)+1});mf("Back",MA("in"),MA("out"),MA());Gt.SteppedEase=Gt.steps=cs.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-sn;return function(a){return((i*h0(0,o,a)|0)+s)*r}}};vh.ease=Gt["quad.out"];Fi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return sT+=n+","+n+"Params,"});var n8=function(e,t){this.id=whe++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:L6,this.set=t?t.getSetter:uT},bg=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,_h(this,+t.duration,1,1),this.data=t.data,Fn&&(this._ctx=Fn,Fn.data.push(this)),Ag||es.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,_h(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(xh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(wx(this,r),!s._dp||s.parent||N6(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&zo(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===sn||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),I6(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Dk(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Dk(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?yh(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-sn?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?d_(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-sn?0:this._rts,this.totalTime(h0(-Math.abs(this._delay),this._tDur,i),!0),xx(this),Rhe(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(xh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==sn&&(this._tTime-=sn)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&zo(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(ki(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?d_(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Che);var i=$r;return $r=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),$r=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Bk(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Bk(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Rs(this,r),ki(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,ki(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-sn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-sn,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-sn)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Un(r)?r:F6,a=function(){var c=i.then;i.then=null,Un(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){tm(this)},n}();Ys(bg.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-sn,_prom:0,_ps:!1,_rts:1});var Ti=function(n){A6(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=ki(r.sortChildren),Mn&&zo(r.parent||Mn,_a(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&U6(_a(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return Rm(0,arguments,this),this},t.from=function(i,s,o){return Rm(1,arguments,this),this},t.fromTo=function(i,s,o,a){return Rm(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,Pm(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new tr(i,s,Rs(this,o),1),this},t.call=function(i,s,o){return zo(this,tr.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new tr(i,o,Rs(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,Pm(o).immediateRender=ki(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},t.staggerFromTo=function(i,s,o,a,l,c,u,f){return a.startAt=o,Pm(a).immediateRender=ki(a.immediateRender),this.staggerTo(i,s,a,l,c,u,f)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:Pr(i),f=this._zTime<0!=i<0&&(this._initted||!c),d,p,g,v,y,_,x,w,A,C,E,P;if(this!==Mn&&u>l&&i>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),d=u,A=this._start,w=this._ts,_=!w,f&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(E=this._yoyo,y=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(y*100+i,s,o);if(d=Pr(u%y),u===l?(v=this._repeat,d=c):(v=~~(u/y),v&&v===u/y&&(d=c,v--),d>c&&(d=c)),C=yh(this._tTime,y),!a&&this._tTime&&C!==v&&this._tTime-C*y-this._dur<=0&&(C=v),E&&v&1&&(d=c-d,P=1),v!==C&&!this._lock){var M=E&&C&1,T=M===(E&&v&1);if(v<C&&(M=!M),a=M?0:u%c?c:u,this._lock=1,this.render(a||(P?0:Pr(v*y)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&js(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,T&&(this._lock=2,a=M?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;e8(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=Ihe(this,Pr(a),Pr(d)),x&&(u-=d-(d=x._start))),this._tTime=u,this._time=d,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&d&&!s&&!v&&(js(this,"onStart"),this._tTime!==u))return this;if(d>=a&&i>=0)for(p=this._first;p;){if(g=p._next,(p._act||d>=p._start)&&p._ts&&x!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(d-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(d-p._start)*p._ts,s,o),d!==this._time||!this._ts&&!_){x=0,g&&(u+=this._zTime=-sn);break}}p=g}else{p=this._last;for(var D=i<0?i:d;p;){if(g=p._prev,(p._act||D<=p._end)&&p._ts&&x!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(D-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(D-p._start)*p._ts,s,o||$r&&(p._initted||p._startAt)),d!==this._time||!this._ts&&!_){x=0,g&&(u+=this._zTime=D?-sn:sn);break}}p=g}}if(x&&!s&&(this.pause(),x.render(d>=a?0:-sn)._zTime=d>=a?1:-1,this._ts))return this._start=A,xx(this),this.render(i,s,o);this._onUpdate&&!s&&js(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(A===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&_c(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(js(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Ya(s)||(s=Rs(this,s,i)),!(i instanceof bg)){if(Xr(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Ar(i))return this.addLabel(i,s);if(Un(i))i=tr.delayedCall(0,i);else return this}return this!==i?zo(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Vs);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof tr?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Ar(i)?this.removeLabel(i):Un(i)?this.killTweensOf(i):(_x(this,i),i===this._recent&&(this._recent=this._last),Uu(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Pr(es.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Rs(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=tr.delayedCall(0,s||wg,o);return a.data="isPause",this._hasPause=1,zo(this,a,Rs(this,i))},t.removePause=function(i){var s=this._first;for(i=Rs(this,i);s;)s._start===i&&s.data==="isPause"&&_c(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Vl!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=Ws(i),l=this._first,c=Ya(s),u;l;)l instanceof tr?Ehe(l._targets,a)&&(c?(!Vl||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Rs(o,i),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,d=l.immediateRender,p,g=tr.to(o,Ys({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||sn,onStart:function(){if(o.pause(),!p){var y=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==y&&_h(g,y,0,1).render(g._time,!0,!0),p=1}u&&u.apply(g,f||[])}},s));return d?g.render(0):g},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Ys({startAt:{time:Rs(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),Lk(this,Rs(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),Lk(this,Rs(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+sn)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return Uu(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Uu(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=Vs,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,zo(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;_h(o,o===Mn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Mn._ts&&(I6(Mn,d_(i,Mn)),B6=es.frame),es.frame>=Pk){Pk+=os.autoSleep||120;var s=Mn._first;if((!s||!s._ts)&&os.autoSleep&&es._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||es.sleep()}}},e}(bg);Ys(Ti.prototype,{_lock:0,_hasPause:0,_forcing:0});var Yhe=function(e,t,r,i,s,o,a){var l=new Oi(this._pt,e,t,0,1,l8,null,s),c=0,u=0,f,d,p,g,v,y,_,x;for(l.b=r,l.e=i,r+="",i+="",(_=~i.indexOf("random("))&&(i=Sg(i)),o&&(x=[r,i],o(x,e,t),r=x[0],i=x[1]),d=r.match(wA)||[];f=wA.exec(i);)g=f[0],v=i.substring(c,f.index),p?p=(p+1)%5:v.substr(-5)==="rgba("&&(p=1),g!==d[u++]&&(y=parseFloat(d[u-1])||0,l._pt={_next:l._pt,p:v||u===1?v:",",s:y,c:g.charAt(1)==="="?Jd(y,g)-y:parseFloat(g)-y,m:p&&p<4?Math.round:0},c=wA.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(E6.test(i)||_)&&(l.e=0),this._pt=l,l},aT=function(e,t,r,i,s,o,a,l,c,u){Un(i)&&(i=i(s||0,e,o));var f=e[t],d=r!=="get"?r:Un(f)?c?e[t.indexOf("set")||!Un(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():f,p=Un(f)?c?tpe:o8:cT,g;if(Ar(i)&&(~i.indexOf("random(")&&(i=Sg(i)),i.charAt(1)==="="&&(g=Jd(d,i)+(Vr(d)||0),(g||g===0)&&(i=g))),!u||d!==i||v2)return!isNaN(d*i)&&i!==""?(g=new Oi(this._pt,e,t,+d||0,i-(d||0),typeof f=="boolean"?rpe:a8,0,p),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!f&&!(t in e)&&rT(t,i),Yhe.call(this,e,t,d,i,p,l||os.stringFilter,c))},Qhe=function(e,t,r,i,s){if(Un(e)&&(e=Dm(e,s,t,r,i)),!qo(e)||e.style&&e.nodeType||Xr(e)||M6(e))return Ar(e)?Dm(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=Dm(e[a],s,t,r,i);return o},r8=function(e,t,r,i,s,o){var a,l,c,u;if(Zi[e]&&(a=new Zi[e]).init(s,a.rawVars?t[e]:Qhe(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new Oi(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==kd))for(c=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Vl,v2,lT=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.onUpdateParams,f=i.callbackScope,d=i.runBackwards,p=i.yoyoEase,g=i.keyframes,v=i.autoRevert,y=e._dur,_=e._startAt,x=e._targets,w=e.parent,A=w&&w.data==="nested"?w.vars.targets:x,C=e._overwrite==="auto"&&!ZE,E=e.timeline,P,M,T,D,F,L,N,k,V,W,K,H,U;if(E&&(!g||!s)&&(s="none"),e._ease=zu(s,vh.ease),e._yEase=p?Z6(zu(p===!0?s:p,vh.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!E&&!!i.runBackwards,!E||g&&!i.stagger){if(k=x[0]?Nu(x[0]).harness:0,H=k&&i[k.prop],P=f_(i,iT),_&&(_._zTime<0&&_.progress(1),t<0&&d&&a&&!v?_.render(-1,!0):_.revert(d&&y?r1:Mhe),_._lazy=0),o){if(_c(e._startAt=tr.set(x,Ys({data:"isStart",overwrite:!1,parent:w,immediateRender:!0,lazy:!_&&ki(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:u,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&($r||!a&&!v)&&e._startAt.revert(r1),a&&y&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(d&&y&&!_){if(t&&(a=!1),T=Ys({overwrite:!1,data:"isFromStart",lazy:a&&!_&&ki(l),immediateRender:a,stagger:0,parent:w},P),H&&(T[k.prop]=H),_c(e._startAt=tr.set(x,T)),e._startAt._dp=0,e._startAt._sat=e,t<0&&($r?e._startAt.revert(r1):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,sn,sn);else if(!t)return}for(e._pt=e._ptCache=0,l=y&&ki(l)||l&&!y,M=0;M<x.length;M++){if(F=x[M],N=F._gsap||oT(x)[M]._gsap,e._ptLookup[M]=W={},f2[N.id]&&nc.length&&u_(),K=A===x?M:A.indexOf(F),k&&(V=new k).init(F,H||P,e,K,A)!==!1&&(e._pt=D=new Oi(e._pt,F,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(z){W[z]=D}),V.priority&&(L=1)),!k||H)for(T in P)Zi[T]&&(V=r8(T,P,e,K,F,A))?V.priority&&(L=1):W[T]=D=aT.call(e,F,T,"get",P[T],K,A,0,i.stringFilter);e._op&&e._op[M]&&e.kill(F,e._op[M]),C&&e._pt&&(Vl=e,Mn.killTweensOf(F,W,e.globalTime(t)),U=!e.parent,Vl=0),e._pt&&l&&(f2[N.id]=1)}L&&c8(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!U,g&&t<=0&&E.render(Vs,!0,!0)},qhe=function(e,t,r,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,u,f,d;if(!l)for(l=e._ptCache[t]=[],f=e._ptLookup,d=e._targets.length;d--;){if(c=f[d][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return v2=1,e.vars[t]="+=0",lT(e,a),v2=0,1;l.push(c)}for(d=l.length;d--;)u=l[d],c=u._pt||u,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,u.e&&(u.e=Xn(r)+Vr(u.e)),u.b&&(u.b=c.s+Vr(u.b))},Zhe=function(e,t){var r=e[0]?Nu(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=tf({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},epe=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(Xr(t))a=r[e]||(r[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},Dm=function(e,t,r,i,s){return Un(e)?e.call(t,r,i,s):Ar(e)&&~e.indexOf("random(")?Sg(e):e},i8=sT+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",s8={};Fi(i8+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return s8[n]=1});var tr=function(n){A6(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:Pm(i))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,d=l.stagger,p=l.overwrite,g=l.keyframes,v=l.defaults,y=l.scrollTrigger,_=l.yoyoEase,x=i.parent||Mn,w=(Xr(r)||M6(r)?Ya(r[0]):"length"in i)?[r]:Ws(r),A,C,E,P,M,T,D,F;if(a._targets=w.length?oT(w):c_("GSAP target "+r+" not found. https://greensock.com",!os.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,g||d||Ry(c)||Ry(u)){if(i=a.vars,A=a.timeline=new Ti({data:"nested",defaults:v||{},targets:x&&x.data==="nested"?x.vars.targets:w}),A.kill(),A.parent=A._dp=_a(a),A._start=0,d||Ry(c)||Ry(u)){if(P=w.length,D=d&&V6(d),qo(d))for(M in d)~i8.indexOf(M)&&(F||(F={}),F[M]=d[M]);for(C=0;C<P;C++)E=f_(i,s8),E.stagger=0,_&&(E.yoyoEase=_),F&&tf(E,F),T=w[C],E.duration=+Dm(c,_a(a),C,T,w),E.delay=(+Dm(u,_a(a),C,T,w)||0)-a._delay,!d&&P===1&&E.delay&&(a._delay=u=E.delay,a._start+=u,E.delay=0),A.to(T,E,D?D(C,T,w):0),A._ease=Gt.none;A.duration()?c=u=0:a.timeline=0}else if(g){Pm(Ys(A.vars.defaults,{ease:"none"})),A._ease=zu(g.ease||i.ease||"none");var L=0,N,k,V;if(Xr(g))g.forEach(function(W){return A.to(w,W,">")}),A.duration();else{E={};for(M in g)M==="ease"||M==="easeEach"||epe(M,g[M],E,g.easeEach);for(M in E)for(N=E[M].sort(function(W,K){return W.t-K.t}),L=0,C=0;C<N.length;C++)k=N[C],V={ease:k.e,duration:(k.t-(C?N[C-1].t:0))/100*c},V[M]=k.v,A.to(w,V,L),L+=V.duration;A.duration()<c&&A.to({},{duration:c-A.duration()})}}c||a.duration(c=A.duration())}else a.timeline=0;return p===!0&&!ZE&&(Vl=_a(a),Mn.killTweensOf(w),Vl=0),zo(x,_a(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!c&&!g&&a._start===Pr(x._time)&&ki(f)&&Dhe(_a(a))&&x.data!=="nested")&&(a._tTime=-sn,a.render(Math.max(0,-u)||0)),y&&U6(_a(a),y),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,f=i>l-sn&&!u?l:i<sn?0:i,d,p,g,v,y,_,x,w,A;if(!c)Lhe(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(d=f,w=this.timeline,this._repeat){if(v=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(v*100+i,s,o);if(d=Pr(f%v),f===l?(g=this._repeat,d=c):(g=~~(f/v),g&&g===f/v&&(d=c,g--),d>c&&(d=c)),_=this._yoyo&&g&1,_&&(A=this._yEase,d=c-d),y=yh(this._tTime,v),d===a&&!o&&this._initted)return this._tTime=f,this;g!==y&&(w&&this._yEase&&e8(w,_),this.vars.repeatRefresh&&!_&&!this._lock&&(this._lock=o=1,this.render(Pr(v*g),!0).invalidate()._lock=0))}if(!this._initted){if(z6(this,u?i:d,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(A||this._ease)(d/c),this._from&&(this.ratio=x=1-x),d&&!a&&!s&&!g&&(js(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(x,p.d),p=p._next;w&&w.render(i<0?i:!d&&_?-sn:w._dur*w._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&d2(this,i,s,o),js(this,"onUpdate")),this._repeat&&g!==y&&this.vars.onRepeat&&!s&&this.parent&&js(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&d2(this,i,!0,!0),(i||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&_c(this,1),!s&&!(u&&!a)&&(f||a||_)&&(js(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a){Ag||es.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||lT(this,l),c=this._ease(l/this._dur),qhe(this,i,s,o,a,c,l)?this.resetTo(i,s,o,a):(wx(this,0),this.parent||O6(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?tm(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Vl&&Vl.vars.overwrite!==!0)._first||tm(this),this.parent&&o!==this.timeline.totalDuration()&&_h(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?Ws(i):a,c=this._ptLookup,u=this._pt,f,d,p,g,v,y,_;if((!s||s==="all")&&Phe(a,l))return s==="all"&&(this._pt=0),tm(this);for(f=this._op=this._op||[],s!=="all"&&(Ar(s)&&(v={},Fi(s,function(x){return v[x]=1}),s=v),s=Zhe(a,s)),_=a.length;_--;)if(~l.indexOf(a[_])){d=c[_],s==="all"?(f[_]=s,g=d,p={}):(p=f[_]=f[_]||{},g=s);for(v in g)y=d&&d[v],y&&((!("kill"in y.d)||y.d.kill(v)===!0)&&_x(this,y,"_pt"),delete d[v]),p!=="all"&&(p[v]=1)}return this._initted&&!this._pt&&u&&tm(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Rm(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Rm(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Mn.killTweensOf(i,s,o)},e}(bg);Ys(tr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Fi("staggerTo,staggerFrom,staggerFromTo",function(n){tr[n]=function(){var e=new Ti,t=p2.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var cT=function(e,t,r){return e[t]=r},o8=function(e,t,r){return e[t](r)},tpe=function(e,t,r,i){return e[t](i.fp,r)},npe=function(e,t,r){return e.setAttribute(t,r)},uT=function(e,t){return Un(e[t])?o8:eT(e[t])&&e.setAttribute?npe:cT},a8=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},rpe=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},l8=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},fT=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},ipe=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},spe=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?_x(this,t,"_pt"):t.dep||(r=1),t=i;return!r},ope=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},c8=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},Oi=function(){function n(t,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||a8,this.d=l||this,this.set=c||cT,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=ope,this.m=r,this.mt=s,this.tween=i},n}();Fi(sT+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return iT[n]=1});cs.TweenMax=cs.TweenLite=tr;cs.TimelineLite=cs.TimelineMax=Ti;Mn=new Ti({sortChildren:!1,defaults:vh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});os.stringFilter=q6;var Gu=[],s1={},ape=[],kk=0,lpe=0,CA=function(e){return(s1[e]||ape).map(function(t){return t()})},y2=function(){var e=Date.now(),t=[];e-kk>2&&(CA("matchMediaInit"),Gu.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=Bs.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&t.push(r))}),CA("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r)}),kk=e,CA("matchMedia"))},u8=function(){function n(t,r){this.selector=r&&m2(r),this.data=[],this._r=[],this.isReverted=!1,this.id=lpe++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Un(r)&&(s=i,i=r,r=Un);var o=this,a=function(){var c=Fn,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=m2(s)),Fn=o,f=i.apply(o,arguments),Un(f)&&o._r.push(f),Fn=c,o.selector=u,o.isReverted=!1,f};return o.last=a,r===Un?a(o):r?o[r]=a:a},e.ignore=function(r){var i=Fn;Fn=null,r(this),Fn=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof tr&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1/0}).forEach(function(l){return l.t.revert(r)}),this.data.forEach(function(l){return!(l instanceof tr)&&l.revert&&l.revert(r)}),this._r.forEach(function(l){return l(r,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i)for(var a=Gu.length;a--;)Gu[a].id===this.id&&Gu.splice(a,1)},e.revert=function(r){this.kill(r||{})},n}(),cpe=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,s){qo(r)||(r={matches:r});var o=new u8(0,s||this.scope),a=o.conditions={},l,c,u;Fn&&!o.selector&&(o.selector=Fn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=Bs.matchMedia(r[c]),l&&(Gu.indexOf(o)<0&&Gu.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(y2):l.addEventListener("change",y2)));return u&&i(o),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),h_={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return K6(i)})},timeline:function(e){return new Ti(e)},getTweensOf:function(e,t){return Mn.getTweensOf(e,t)},getProperty:function(e,t,r,i){Ar(e)&&(e=Ws(e)[0]);var s=Nu(e||{}).get,o=r?F6:k6;return r==="native"&&(r=""),e&&(t?o((Zi[t]&&Zi[t].get||s)(e,t,r,i)):function(a,l,c){return o((Zi[a]&&Zi[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,r){if(e=Ws(e),e.length>1){var i=e.map(function(u){return Ui.quickSetter(u,t,r)}),s=i.length;return function(u){for(var f=s;f--;)i[f](u)}}e=e[0]||{};var o=Zi[t],a=Nu(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var f=new o;kd._pt=0,f.init(e,r?u+r:u,kd,0,[e]),f.render(1,f),kd._pt&&fT(1,kd)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,t,r){var i,s=Ui.to(e,tf((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return Mn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=zu(e.ease,vh.ease)),Rk(vh,e||{})},config:function(e){return Rk(os,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Zi[a]&&!cs[a]&&c_(t+" effect requires "+a+" plugin.")}),SA[t]=function(a,l,c){return r(Ws(a),Ys(l||{},s),c)},o&&(Ti.prototype[t]=function(a,l,c){return this.add(SA[t](a,qo(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Gt[e]=zu(t)},parseEase:function(e,t){return arguments.length?zu(e,t):Gt},getById:function(e){return Mn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Ti(e),i,s;for(r.smoothChildTiming=ki(e.smoothChildTiming),Mn.remove(r),r._dp=0,r._time=r._tTime=Mn._time,i=Mn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof tr&&i.vars.onComplete===i._targets[0]))&&zo(r,i,i._start-i._delay),i=s;return zo(Mn,r,0),r},context:function(e,t){return e?new u8(e,t):Fn},matchMedia:function(e){return new cpe(e)},matchMediaRefresh:function(){return Gu.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||y2()},addEventListener:function(e,t){var r=s1[e]||(s1[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=s1[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:Ghe,wrapYoyo:Hhe,distribute:V6,random:j6,snap:W6,normalize:zhe,getUnit:Vr,clamp:Fhe,splitColor:Y6,toArray:Ws,selector:m2,mapRange:X6,pipe:Nhe,unitize:Uhe,interpolate:Vhe,shuffle:H6},install:R6,effects:SA,ticker:es,updateRoot:Ti.updateRoot,plugins:Zi,globalTimeline:Mn,core:{PropTween:Oi,globals:D6,Tween:tr,Timeline:Ti,Animation:bg,getCache:Nu,_removeLinkedListItem:_x,reverting:function(){return $r},context:function(e){return e&&Fn&&(Fn.data.push(e),e._ctx=Fn),Fn},suppressOverwrites:function(e){return ZE=e}}};Fi("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return h_[n]=tr[n]});es.add(Ti.updateRoot);kd=h_.to({},{duration:0});var upe=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},fpe=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=upe(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},EA=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(Ar(s)&&(l={},Fi(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}fpe(a,s)}}}},Ui=h_.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)$r?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},EA("roundProps",g2),EA("modifiers"),EA("snap",W6))||h_;tr.version=Ti.version=Ui.version="3.12.2";P6=1;tT()&&xh();Gt.Power0;Gt.Power1;Gt.Power2;Gt.Power3;Gt.Power4;Gt.Linear;Gt.Quad;Gt.Cubic;Gt.Quart;Gt.Quint;Gt.Strong;Gt.Elastic;Gt.Back;Gt.SteppedEase;Gt.Bounce;Gt.Sine;Gt.Expo;Gt.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Fk,Wl,Kd,dT,Cu,Ok,hT,dpe=function(){return typeof window<"u"},Qa={},fu=180/Math.PI,Yd=Math.PI/180,ad=Math.atan2,Nk=1e8,pT=/([A-Z])/g,hpe=/(left|right|width|margin|padding|x)/i,ppe=/[\s,\(]\S/,Go={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_2=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},mpe=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},gpe=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},vpe=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},f8=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},d8=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},ype=function(e,t,r){return e.style[t]=r},_pe=function(e,t,r){return e.style.setProperty(t,r)},xpe=function(e,t,r){return e._gsap[t]=r},wpe=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},Spe=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Ape=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},En="transform",_o=En+"Origin",bpe=function n(e,t){var r=this,i=this.target,s=i.style;if(e in Qa&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Go[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=Sa(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:Sa(i,e);else return Go.transform.split(",").forEach(function(o){return n.call(r,o,t)});if(this.props.indexOf(En)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(_o,t,"")),e=En}(s||t)&&this.props.push(e,t,s[e])},h8=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Mpe=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(pT,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=hT(),(!s||!s.isStart)&&!r[En]&&(h8(r),i.uncache=1)}},p8=function(e,t){var r={target:e,props:[],revert:Mpe,save:bpe};return e._gsap||Ui.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},m8,x2=function(e,t){var r=Wl.createElementNS?Wl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Wl.createElement(e);return r.style?r:Wl.createElement(e)},Xo=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(pT,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,wh(t)||t,1)||""},Uk="O,Moz,ms,Ms,Webkit".split(","),wh=function(e,t,r){var i=t||Cu,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Uk[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Uk[o]:"")+e},w2=function(){dpe()&&window.document&&(Fk=window,Wl=Fk.document,Kd=Wl.documentElement,Cu=x2("div")||{style:{}},x2("div"),En=wh(En),_o=En+"Origin",Cu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",m8=!!wh("perspective"),hT=Ui.core.reverting,dT=1)},TA=function n(e){var t=x2("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Kd.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Kd.removeChild(t),this.style.cssText=s,o},zk=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},g8=function(e){var t;try{t=e.getBBox()}catch{t=TA.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===TA||(t=TA.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+zk(e,["x","cx","x1"])||0,y:+zk(e,["y","cy","y1"])||0,width:0,height:0}:t},v8=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&g8(e))},Mg=function(e,t){if(t){var r=e.style;t in Qa&&t!==_o&&(t=En),r.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(t.replace(pT,"-$1").toLowerCase())):r.removeAttribute(t)}},jl=function(e,t,r,i,s,o){var a=new Oi(e._pt,t,r,0,1,o?d8:f8);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},Gk={deg:1,rad:1,turn:1},Cpe={grid:1,flex:1},xc=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=Cu.style,l=hpe.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,d=i==="px",p=i==="%",g,v,y,_;return i===o||!s||Gk[i]||Gk[o]?s:(o!=="px"&&!d&&(s=n(e,t,r,"px")),_=e.getCTM&&v8(e),(p||o==="%")&&(Qa[t]||~t.indexOf("adius"))?(g=_?e.getBBox()[l?"width":"height"]:e[u],Xn(p?s/g*f:s/100*g)):(a[l?"width":"height"]=f+(d?o:i),v=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,_&&(v=(e.ownerSVGElement||{}).parentNode),(!v||v===Wl||!v.appendChild)&&(v=Wl.body),y=v._gsap,y&&p&&y.width&&l&&y.time===es.time&&!y.uncache?Xn(s/y.width*f):((p||o==="%")&&!Cpe[Xo(v,"display")]&&(a.position=Xo(e,"position")),v===e&&(a.position="static"),v.appendChild(Cu),g=Cu[u],v.removeChild(Cu),a.position="absolute",l&&p&&(y=Nu(v),y.time=es.time,y.width=v[u]),Xn(d?g*s/f:g&&s?f/g*s:0))))},Sa=function(e,t,r,i){var s;return dT||w2(),t in Go&&t!=="transform"&&(t=Go[t],~t.indexOf(",")&&(t=t.split(",")[0])),Qa[t]&&t!=="transform"?(s=Eg(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:m_(Xo(e,_o))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=p_[t]&&p_[t](e,t,r)||Xo(e,t)||L6(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?xc(e,t,s,r)+r:s},Epe=function(e,t,r,i){if(!r||r==="none"){var s=wh(t,e,1),o=s&&Xo(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=Xo(e,"borderTopColor"))}var a=new Oi(this._pt,e.style,t,0,1,l8),l=0,c=0,u,f,d,p,g,v,y,_,x,w,A,C;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(e.style[t]=i,i=Xo(e,t)||i,e.style[t]=r),u=[r,i],q6(u),r=u[0],i=u[1],d=r.match(Id)||[],C=i.match(Id)||[],C.length){for(;f=Id.exec(i);)y=f[0],x=i.substring(l,f.index),g?g=(g+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(g=1),y!==(v=d[c++]||"")&&(p=parseFloat(v)||0,A=v.substr((p+"").length),y.charAt(1)==="="&&(y=Jd(p,y)+A),_=parseFloat(y),w=y.substr((_+"").length),l=Id.lastIndex-w.length,w||(w=w||os.units[t]||A,l===i.length&&(i+=w,a.e+=w)),A!==w&&(p=xc(e,t,v,w)||0),a._pt={_next:a._pt,p:x||c===1?x:",",s:p,c:_-p,m:g&&g<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?d8:f8;return E6.test(i)&&(a.e=0),this._pt=a,a},Hk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Tpe=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=Hk[r]||r,t[1]=Hk[i]||i,t.join(" ")},Ppe=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Qa[a]&&(l=1,a=a==="transformOrigin"?_o:En),Mg(r,a);l&&(Mg(r,En),o&&(o.svg&&r.removeAttribute("transform"),Eg(r,1),o.uncache=1,h8(i)))}},p_={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Oi(e._pt,t,r,0,0,Ppe);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Cg=[1,0,0,1,0,0],y8={},_8=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Vk=function(e){var t=Xo(e,En);return _8(t)?Cg:t.substr(7).match(C6).map(Xn)},mT=function(e,t){var r=e._gsap||Nu(e),i=e.style,s=Vk(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Cg:s):(s===Cg&&!e.offsetParent&&e!==Kd&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Kd.appendChild(e)),s=Vk(e),l?i.display=l:Mg(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Kd.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},S2=function(e,t,r,i,s,o){var a=e._gsap,l=s||mT(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,p=l[0],g=l[1],v=l[2],y=l[3],_=l[4],x=l[5],w=t.split(" "),A=parseFloat(w[0])||0,C=parseFloat(w[1])||0,E,P,M,T;r?l!==Cg&&(P=p*y-g*v)&&(M=A*(y/P)+C*(-v/P)+(v*x-y*_)/P,T=A*(-g/P)+C*(p/P)-(p*x-g*_)/P,A=M,C=T):(E=g8(e),A=E.x+(~w[0].indexOf("%")?A/100*E.width:A),C=E.y+(~(w[1]||w[0]).indexOf("%")?C/100*E.height:C)),i||i!==!1&&a.smooth?(_=A-c,x=C-u,a.xOffset=f+(_*p+x*v)-_,a.yOffset=d+(_*g+x*y)-x):a.xOffset=a.yOffset=0,a.xOrigin=A,a.yOrigin=C,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[_o]="0px 0px",o&&(jl(o,a,"xOrigin",c,A),jl(o,a,"yOrigin",u,C),jl(o,a,"xOffset",f,a.xOffset),jl(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",A+" "+C)},Eg=function(e,t){var r=e._gsap||new n8(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Xo(e,_o)||"0",u,f,d,p,g,v,y,_,x,w,A,C,E,P,M,T,D,F,L,N,k,V,W,K,H,U,z,G,j,Z,q,re;return u=f=d=v=y=_=x=w=A=0,p=g=1,r.svg=!!(e.getCTM&&v8(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[En]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[En]!=="none"?l[En]:"")),i.scale=i.rotate=i.translate="none"),P=mT(e,r.svg),r.svg&&(r.uncache?(H=e.getBBox(),c=r.xOrigin-H.x+"px "+(r.yOrigin-H.y)+"px",K=""):K=!t&&e.getAttribute("data-svg-origin"),S2(e,K||c,!!K||r.originIsAbsolute,r.smooth!==!1,P)),C=r.xOrigin||0,E=r.yOrigin||0,P!==Cg&&(F=P[0],L=P[1],N=P[2],k=P[3],u=V=P[4],f=W=P[5],P.length===6?(p=Math.sqrt(F*F+L*L),g=Math.sqrt(k*k+N*N),v=F||L?ad(L,F)*fu:0,x=N||k?ad(N,k)*fu+v:0,x&&(g*=Math.abs(Math.cos(x*Yd))),r.svg&&(u-=C-(C*F+E*N),f-=E-(C*L+E*k))):(re=P[6],Z=P[7],z=P[8],G=P[9],j=P[10],q=P[11],u=P[12],f=P[13],d=P[14],M=ad(re,j),y=M*fu,M&&(T=Math.cos(-M),D=Math.sin(-M),K=V*T+z*D,H=W*T+G*D,U=re*T+j*D,z=V*-D+z*T,G=W*-D+G*T,j=re*-D+j*T,q=Z*-D+q*T,V=K,W=H,re=U),M=ad(-N,j),_=M*fu,M&&(T=Math.cos(-M),D=Math.sin(-M),K=F*T-z*D,H=L*T-G*D,U=N*T-j*D,q=k*D+q*T,F=K,L=H,N=U),M=ad(L,F),v=M*fu,M&&(T=Math.cos(M),D=Math.sin(M),K=F*T+L*D,H=V*T+W*D,L=L*T-F*D,W=W*T-V*D,F=K,V=H),y&&Math.abs(y)+Math.abs(v)>359.9&&(y=v=0,_=180-_),p=Xn(Math.sqrt(F*F+L*L+N*N)),g=Xn(Math.sqrt(W*W+re*re)),M=ad(V,W),x=Math.abs(M)>2e-4?M*fu:0,A=q?1/(q<0?-q:q):0),r.svg&&(K=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!_8(Xo(e,En)),K&&e.setAttribute("transform",K))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(p*=-1,x+=v<=0?180:-180,v+=v<=0?180:-180):(g*=-1,x+=x<=0?180:-180)),t=t||r.uncache,r.x=u-((r.xPercent=u&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=d+o,r.scaleX=Xn(p),r.scaleY=Xn(g),r.rotation=Xn(v)+a,r.rotationX=Xn(y)+a,r.rotationY=Xn(_)+a,r.skewX=x+a,r.skewY=w+a,r.transformPerspective=A+o,(r.zOrigin=parseFloat(c.split(" ")[2])||0)&&(i[_o]=m_(c)),r.xOffset=r.yOffset=0,r.force3D=os.force3D,r.renderTransform=r.svg?Dpe:m8?x8:Rpe,r.uncache=0,r},m_=function(e){return(e=e.split(" "))[0]+" "+e[1]},PA=function(e,t,r){var i=Vr(t);return Xn(parseFloat(t)+parseFloat(xc(e,"x",r+"px",i)))+i},Rpe=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,x8(e,t)},ru="0deg",$p="0px",iu=") ",x8=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,f=r.rotationX,d=r.skewX,p=r.skewY,g=r.scaleX,v=r.scaleY,y=r.transformPerspective,_=r.force3D,x=r.target,w=r.zOrigin,A="",C=_==="auto"&&e&&e!==1||_===!0;if(w&&(f!==ru||u!==ru)){var E=parseFloat(u)*Yd,P=Math.sin(E),M=Math.cos(E),T;E=parseFloat(f)*Yd,T=Math.cos(E),o=PA(x,o,P*T*-w),a=PA(x,a,-Math.sin(E)*-w),l=PA(x,l,M*T*-w+w)}y!==$p&&(A+="perspective("+y+iu),(i||s)&&(A+="translate("+i+"%, "+s+"%) "),(C||o!==$p||a!==$p||l!==$p)&&(A+=l!==$p||C?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+iu),c!==ru&&(A+="rotate("+c+iu),u!==ru&&(A+="rotateY("+u+iu),f!==ru&&(A+="rotateX("+f+iu),(d!==ru||p!==ru)&&(A+="skew("+d+", "+p+iu),(g!==1||v!==1)&&(A+="scale("+g+", "+v+iu),x.style[En]=A||"translate(0, 0)"},Dpe=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,f=r.scaleX,d=r.scaleY,p=r.target,g=r.xOrigin,v=r.yOrigin,y=r.xOffset,_=r.yOffset,x=r.forceCSS,w=parseFloat(o),A=parseFloat(a),C,E,P,M,T;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Yd,c*=Yd,C=Math.cos(l)*f,E=Math.sin(l)*f,P=Math.sin(l-c)*-d,M=Math.cos(l-c)*d,c&&(u*=Yd,T=Math.tan(c-u),T=Math.sqrt(1+T*T),P*=T,M*=T,u&&(T=Math.tan(u),T=Math.sqrt(1+T*T),C*=T,E*=T)),C=Xn(C),E=Xn(E),P=Xn(P),M=Xn(M)):(C=f,M=d,E=P=0),(w&&!~(o+"").indexOf("px")||A&&!~(a+"").indexOf("px"))&&(w=xc(p,"x",o,"px"),A=xc(p,"y",a,"px")),(g||v||y||_)&&(w=Xn(w+g-(g*C+v*P)+y),A=Xn(A+v-(g*E+v*M)+_)),(i||s)&&(T=p.getBBox(),w=Xn(w+i/100*T.width),A=Xn(A+s/100*T.height)),T="matrix("+C+","+E+","+P+","+M+","+w+","+A+")",p.setAttribute("transform",T),x&&(p.style[En]=T)},Bpe=function(e,t,r,i,s){var o=360,a=Ar(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?fu:1),c=l-i,u=i+c+"deg",f,d;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*Nk)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*Nk)%o-~~(c/o)*o)),e._pt=d=new Oi(e._pt,t,r,i,c,mpe),d.e=u,d.u="deg",e._props.push(r),d},Wk=function(e,t){for(var r in t)e[r]=t[r];return e},Lpe=function(e,t,r){var i=Wk({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,f,d,p,g;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[En]=t,a=Eg(r,1),Mg(r,En),r.setAttribute("transform",c)):(c=getComputedStyle(r)[En],o[En]=t,a=Eg(r,1),o[En]=c);for(l in Qa)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(p=Vr(c),g=Vr(u),f=p!==g?xc(r,l,c,g):parseFloat(c),d=parseFloat(u),e._pt=new Oi(e._pt,a,l,f,d-f,_2),e._pt.u=g||0,e._props.push(l));Wk(a,i)};Fi("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});p_[e>1?"border"+n:n]=function(a,l,c,u,f){var d,p;if(arguments.length<4)return d=o.map(function(g){return Sa(a,g,c)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(u+"").split(" "),p={},o.forEach(function(g,v){return p[g]=d[v]=d[v]||d[(v-1)/2|0]}),a.init(l,p,f)}});var w8={name:"css",register:w2,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,u,f,d,p,g,v,y,_,x,w,A,C,E,P,M;dT||w2(),this.styles=this.styles||p8(e),M=this.styles.props,this.tween=r;for(v in t)if(v!=="autoRound"&&(u=t[v],!(Zi[v]&&r8(v,t,r,i,e,s)))){if(p=typeof u,g=p_[v],p==="function"&&(u=u.call(r,i,e,s),p=typeof u),p==="string"&&~u.indexOf("random(")&&(u=Sg(u)),g)g(this,e,v,u,r)&&(P=1);else if(v.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(v)+"").trim(),u+="",rc.lastIndex=0,rc.test(c)||(y=Vr(c),_=Vr(u)),_?y!==_&&(c=xc(e,v,c,_)+_):y&&(u+=y),this.add(a,"setProperty",c,u,i,s,0,0,v),o.push(v),M.push(v,0,a[v]);else if(p!=="undefined"){if(l&&v in l?(c=typeof l[v]=="function"?l[v].call(r,i,e,s):l[v],Ar(c)&&~c.indexOf("random(")&&(c=Sg(c)),Vr(c+"")||(c+=os.units[v]||Vr(Sa(e,v))||""),(c+"").charAt(1)==="="&&(c=Sa(e,v))):c=Sa(e,v),d=parseFloat(c),x=p==="string"&&u.charAt(1)==="="&&u.substr(0,2),x&&(u=u.substr(2)),f=parseFloat(u),v in Go&&(v==="autoAlpha"&&(d===1&&Sa(e,"visibility")==="hidden"&&f&&(d=0),M.push("visibility",0,a.visibility),jl(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),v!=="scale"&&v!=="transform"&&(v=Go[v],~v.indexOf(",")&&(v=v.split(",")[0]))),w=v in Qa,w){if(this.styles.save(v),A||(C=e._gsap,C.renderTransform&&!t.parseTransform||Eg(e,t.parseTransform),E=t.smoothOrigin!==!1&&C.smooth,A=this._pt=new Oi(this._pt,a,En,0,1,C.renderTransform,C,0,-1),A.dep=1),v==="scale")this._pt=new Oi(this._pt,C,"scaleY",C.scaleY,(x?Jd(C.scaleY,x+f):f)-C.scaleY||0,_2),this._pt.u=0,o.push("scaleY",v),v+="X";else if(v==="transformOrigin"){M.push(_o,0,a[_o]),u=Tpe(u),C.svg?S2(e,u,0,E,0,this):(_=parseFloat(u.split(" ")[2])||0,_!==C.zOrigin&&jl(this,C,"zOrigin",C.zOrigin,_),jl(this,a,v,m_(c),m_(u)));continue}else if(v==="svgOrigin"){S2(e,u,1,E,0,this);continue}else if(v in y8){Bpe(this,C,v,d,x?Jd(d,x+u):u);continue}else if(v==="smoothOrigin"){jl(this,C,"smooth",C.smooth,u);continue}else if(v==="force3D"){C[v]=u;continue}else if(v==="transform"){Lpe(this,u,e);continue}}else v in a||(v=wh(v)||v);if(w||(f||f===0)&&(d||d===0)&&!ppe.test(u)&&v in a)y=(c+"").substr((d+"").length),f||(f=0),_=Vr(u)||(v in os.units?os.units[v]:y),y!==_&&(d=xc(e,v,c,_)),this._pt=new Oi(this._pt,w?C:a,v,d,(x?Jd(d,x+f):f)-d,!w&&(_==="px"||v==="zIndex")&&t.autoRound!==!1?vpe:_2),this._pt.u=_||0,y!==_&&_!=="%"&&(this._pt.b=c,this._pt.r=gpe);else if(v in a)Epe.call(this,e,v,c,x?x+u:u);else if(v in e)this.add(e,v,c||e[v],x?x+u:u,i,s);else if(v!=="parseTransform"){rT(v,u);continue}w||(v in a?M.push(v,0,a[v]):M.push(v,1,c||e[v])),o.push(v)}}P&&c8(this)},render:function(e,t){if(t.tween._time||!hT())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Sa,aliases:Go,getSetter:function(e,t,r){var i=Go[t];return i&&i.indexOf(",")<0&&(t=i),t in Qa&&t!==_o&&(e._gsap.x||Sa(e,"x"))?r&&Ok===r?t==="scale"?wpe:xpe:(Ok=r||{})&&(t==="scale"?Spe:Ape):e.style&&!eT(e.style[t])?ype:~t.indexOf("-")?_pe:uT(e,t)},core:{_removeProperty:Mg,_getMatrix:mT}};Ui.utils.checkPrefix=wh;Ui.core.getStyleSaver=p8;(function(n,e,t,r){var i=Fi(n+","+e+","+t,function(s){Qa[s]=1});Fi(e,function(s){os.units[s]="deg",y8[s]=1}),Go[i[13]]=n+","+e,Fi(r,function(s){var o=s.split(":");Go[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Fi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){os.units[n]="px"});Ui.registerPlugin(w8);var gT=Ui.registerPlugin(w8)||Ui;gT.core.Tween;const Ipe=()=>{const n=B.useRef(),e=B.useRef({color:"#cc2b5e"}),t=t0(),r=B.useRef();return hs(()=>{r.current.progress(t.scroll.current),n.current.color=new He(e.current.color)}),B.useEffect(()=>{r.current=gT.timeline(),r.current.to(e.current,{color:"#ff004c"}),r.current.to(e.current,{color:"#f53877"}),r.current.to(e.current,{color:"#f549ef"})},[]),Pe("group",{children:Pe(Cte,{scale:[30,30,30],children:Pe("meshBasicMaterial",{ref:n,side:mi,toneMapped:!1})})})};function kpe(n){const{section:e}=n,{nodes:t,materials:r}=uf("models/scene.gltf"),i=i0("textures/baked.jpg"),s=pte("textures/vscode.mp4");i.flipY=!1,i.encoding=vn;const o=new fc({map:i,transparent:!0,opacity:1}),a=new fc({map:i,transparent:!0,opacity:.42}),l=hg(0),c=hg(0);return B.useEffect(()=>{pg(l,e===0?1:0,{duration:.8}),pg(c,e===0?.42:0,{duration:.8})},[e]),hs(()=>{o.opacity=l.get(),a.opacity=c.get()}),Nt("group",{...n,dispose:null,children:[Pe("mesh",{name:"Screen",geometry:t.Screen.geometry,position:[.45,.94,-1.72],rotation:[Math.PI,-1.1,Math.PI],children:Pe("meshBasicMaterial",{map:s,toneMapped:!1})}),Nt("group",{name:"Desk",position:[-.07,0,-1.52],rotation:[0,-Math.PI/2,0],children:[Pe("mesh",{name:"Plane001_Plane002_BlackWood001",geometry:t.Plane001_Plane002_BlackWood001.geometry,material:o}),Pe("mesh",{name:"Plane001_Plane002_BlackWood001_1",geometry:t.Plane001_Plane002_BlackWood001_1.geometry,material:o}),Pe("mesh",{name:"Plane001_Plane002_BlackWood001_2",geometry:t.Plane001_Plane002_BlackWood001_2.geometry,material:o}),Pe("mesh",{name:"Plane001_Plane002_BlackWood001_3",geometry:t.Plane001_Plane002_BlackWood001_3.geometry,material:o}),Pe("mesh",{name:"Plane001_Plane002_BlackWood001_4",geometry:t.Plane001_Plane002_BlackWood001_4.geometry,material:o})]}),Nt("group",{name:"SM_ShelfSM_Shelf1",position:[-.87,1.69,-2.04],children:[Pe("mesh",{name:"SM_ShelfSM_Shelf1_1",geometry:t.SM_ShelfSM_Shelf1_1.geometry,material:o}),Pe("mesh",{name:"SM_ShelfSM_Shelf1_1_1",geometry:t.SM_ShelfSM_Shelf1_1_1.geometry,material:o})]}),Nt(Is.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"LavaLamp",position:[-1.3,2.07,-1.99],children:[Pe("mesh",{name:"Node-Mesh001",geometry:t["Node-Mesh001"].geometry,material:o}),Pe("mesh",{name:"Node-Mesh001_1",geometry:t["Node-Mesh001_1"].geometry,material:o}),Pe("mesh",{name:"Node-Mesh001_2",geometry:t["Node-Mesh001_2"].geometry,material:o})]}),Pe(Is.mesh,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"WawaRug",geometry:t.WawaRug.geometry,material:o,position:[-.28,.01,.76]}),Nt(Is.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"salameche",position:[-.61,2.04,-1.96],rotation:[-Math.PI,.73,-Math.PI],children:[Pe("mesh",{name:"mesh434900071",geometry:t.mesh434900071.geometry,material:o}),Pe("mesh",{name:"mesh434900071_1",geometry:t.mesh434900071_1.geometry,material:o}),Pe("mesh",{name:"mesh434900071_2",geometry:t.mesh434900071_2.geometry,material:o}),Pe("mesh",{name:"mesh434900071_3",geometry:t.mesh434900071_3.geometry,material:o}),Pe("mesh",{name:"mesh434900071_4",geometry:t.mesh434900071_4.geometry,material:o}),Pe("mesh",{name:"mesh434900071_5",geometry:t.mesh434900071_5.geometry,material:o})]}),Nt("group",{name:"keyboard",position:[.21,.98,-1.21],rotation:[0,-.22,0],scale:.63,children:[Pe("mesh",{name:"mesh425587018",geometry:t.mesh425587018.geometry,material:o}),Pe("mesh",{name:"mesh425587018_1",geometry:t.mesh425587018_1.geometry,material:o}),Pe("mesh",{name:"mesh425587018_2",geometry:t.mesh425587018_2.geometry,material:o}),Pe("mesh",{name:"mesh425587018_3",geometry:t.mesh425587018_3.geometry,material:o})]}),Nt(Is.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"iMac",position:[.45,.94,-1.72],rotation:[Math.PI,-1.1,Math.PI],children:[Pe("mesh",{name:"iMac_1_1",geometry:t.iMac_1_1.geometry,material:o}),Pe("mesh",{name:"iMac_1_2",geometry:t.iMac_1_2.geometry,material:o})]}),Pe("mesh",{name:"Comp_Mouse",geometry:t.Comp_Mouse.geometry,material:o,position:[-.01,0,.08]}),Nt(Is.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"plant",position:[-.78,1.07,-1.61],children:[Pe("mesh",{name:"mesh24448074",geometry:t.mesh24448074.geometry,material:o}),Pe("mesh",{name:"mesh24448074_1",geometry:t.mesh24448074_1.geometry,material:o}),Pe("mesh",{name:"mesh24448074_2",geometry:t.mesh24448074_2.geometry,material:o})]}),Nt(Is.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"Houseplant_7",position:[-2.02,-.04,-1.53],rotation:[-Math.PI/2,0,0],children:[Pe("mesh",{name:"Houseplant_7_1",geometry:t.Houseplant_7_1.geometry,material:o}),Pe("mesh",{name:"Houseplant_7_2",geometry:t.Houseplant_7_2.geometry,material:o}),Pe("mesh",{name:"Houseplant_7_3",geometry:t.Houseplant_7_3.geometry,material:o})]}),Nt(Is.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"palm_tree_01",position:[2.13,-.08,-1.06],rotation:[-Math.PI,.67,-Math.PI],children:[Pe("mesh",{name:"palm_tree_01-Mesh",geometry:t["palm_tree_01-Mesh"].geometry,material:o}),Pe("mesh",{name:"palm_tree_01-Mesh_1",geometry:t["palm_tree_01-Mesh_1"].geometry,material:o}),Pe("mesh",{name:"palm_tree_01-Mesh_2",geometry:t["palm_tree_01-Mesh_2"].geometry,material:o})]}),Nt(Is.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"Chair",position:[.09,0,-.66],rotation:[0,-.35,0],children:[Pe("mesh",{name:"Node-Mesh",geometry:t["Node-Mesh"].geometry,material:o}),Pe("mesh",{name:"Node-Mesh_1",geometry:t["Node-Mesh_1"].geometry,material:o})]}),Pe("mesh",{name:"Plane001",geometry:t.Plane001.geometry,material:o}),Pe("mesh",{name:"Plane001_1",geometry:t.Plane001_1.geometry,material:o}),Pe("mesh",{name:"Plane001_2",geometry:t.Plane001_2.geometry,material:o}),Pe("mesh",{name:"Plane001_3",geometry:t.Plane001_3.geometry,material:a})]})}uf.preload("models/scene.gltf");i0.preload("textures/baked.jpg");let Fpe=0;function Ope(n,e){const t=`atom${++Fpe}`,r={toString:()=>t};return typeof n=="function"?r.read=n:(r.init=n,r.read=i=>i(r),r.write=(i,s,o)=>s(r,typeof o=="function"?o(i(r)):o)),e&&(r.write=e),r}const jk=n=>"init"in n,$k=n=>!!n.write,g_=new WeakMap,Npe=(n,e)=>{g_.set(n,e),n.catch(()=>{}).finally(()=>g_.delete(n))},Xk=(n,e)=>{const t=g_.get(n);t&&(g_.delete(n),t(e))},Jk=(n,e)=>{n.status="fulfilled",n.value=e},Kk=(n,e)=>{n.status="rejected",n.reason=e},Upe=n=>typeof(n==null?void 0:n.then)=="function",Xp=(n,e)=>"v"in n&&"v"in e&&Object.is(n.v,e.v),Yk=(n,e)=>"e"in n&&"e"in e&&Object.is(n.e,e.e),ld=n=>"v"in n&&n.v instanceof Promise,zpe=(n,e)=>"v"in n&&"v"in e&&n.v.orig&&n.v.orig===e.v.orig,Dy=n=>{if("e"in n)throw n.e;return n.v},Gpe=()=>{const n=new WeakMap,e=new WeakMap,t=new Map;let r,i,s;const o=T=>n.get(T),a=(T,D)=>{const F=n.get(T);if(n.set(T,D),t.has(T)||t.set(T,F),F&&ld(F)){const L="v"in D?D.v instanceof Promise?D.v:Promise.resolve(D.v):Promise.reject(D.e);Xk(F.v,L)}},l=(T,D,F)=>{const L=new Map;let N=!1;F.forEach((k,V)=>{!k&&V===T&&(k=D),k&&(L.set(V,k),D.d.get(V)!==k&&(N=!0))}),(N||D.d.size!==L.size)&&(D.d=L)},c=(T,D,F)=>{const L=o(T),N={d:(L==null?void 0:L.d)||new Map,v:D};if(F&&l(T,N,F),L&&Xp(L,N)&&L.d===N.d)return L;if(L&&ld(L)&&ld(N)&&zpe(L,N)){if(L.d===N.d)return L;N.v=L.v}return a(T,N),N},u=(T,D,F,L)=>{if(Upe(D)){let N;const k=new Promise((V,W)=>{let K=!1;D.then(H=>{if(!K){K=!0;const U=o(T),z=c(T,k,F);Jk(k,H),V(H),(U==null?void 0:U.d)!==z.d&&E(T,z,U==null?void 0:U.d)}},H=>{if(!K){K=!0;const U=o(T),z=c(T,k,F);Kk(k,H),W(H),(U==null?void 0:U.d)!==z.d&&E(T,z,U==null?void 0:U.d)}}),N=H=>{K||(K=!0,H.then(U=>Jk(k,U),U=>Kk(k,U)),V(H))}});return k.orig=D,k.status="pending",Npe(k,V=>{V&&N(V),L==null||L()}),c(T,k,F)}return c(T,D,F)},f=(T,D,F)=>{const L=o(T),N={d:(L==null?void 0:L.d)||new Map,e:D};return F&&l(T,N,F),L&&Yk(L,N)&&L.d===N.d?L:(a(T,N),N)},d=T=>{const D=o(T);if(D&&(D.d.forEach((K,H)=>{H!==T&&!e.has(H)&&d(H)}),Array.from(D.d).every(([K,H])=>{const U=o(K);return K===T||U===H||U&&!ld(U)&&Xp(U,H)})))return D;const F=new Map;let L=!0;const N=K=>{if(K===T){const U=o(K);if(U)return F.set(K,U),Dy(U);if(jk(K))return F.set(K,void 0),K.init;throw new Error("no atom init")}const H=d(K);return F.set(K,H),Dy(H)};let k,V;const W={get signal(){return k||(k=new AbortController),k.signal},get setSelf(){return!V&&$k(T)&&(V=(...K)=>{if(!L)return w(T,...K)}),V}};try{const K=T.read(N,W);return u(T,K,F,()=>k==null?void 0:k.abort())}catch(K){return f(T,K,F)}finally{L=!1}},p=T=>Dy(d(T)),g=T=>{let D=e.get(T);return D||(D=A(T)),D},v=(T,D)=>!D.l.size&&(!D.t.size||D.t.size===1&&D.t.has(T)),y=T=>{const D=e.get(T);D&&v(T,D)&&C(T)},_=T=>{const D=new Map,F=new WeakMap,L=k=>{const V=e.get(k);V==null||V.t.forEach(W=>{W!==k&&(D.set(W,(D.get(W)||new Set).add(k)),F.set(W,(F.get(W)||0)+1),L(W))})};L(T);const N=k=>{const V=e.get(k);V==null||V.t.forEach(W=>{var K;if(W!==k){let H=F.get(W);if(H&&F.set(W,--H),!H){let U=!!((K=D.get(W))!=null&&K.size);if(U){const z=o(W),G=d(W);U=!z||!Xp(z,G)}U||D.forEach(z=>z.delete(W))}N(W)}})};N(T)},x=(T,...D)=>{let F=!0;const L=V=>Dy(d(V)),N=(V,...W)=>{let K;if(V===T){if(!jk(V))throw new Error("atom not writable");const H=o(V),U=u(V,W[0]);(!H||!Xp(H,U))&&_(V)}else K=x(V,...W);if(!F){const H=P()}return K},k=T.write(L,N,...D);return F=!1,k},w=(T,...D)=>{const F=x(T,...D),L=P();return F},A=(T,D)=>{const F={t:new Set(D&&[D]),l:new Set};if(e.set(T,F),d(T).d.forEach((L,N)=>{const k=e.get(N);k?k.t.add(T):N!==T&&A(N,T)}),d(T),$k(T)&&T.onMount){const L=T.onMount((...N)=>w(T,...N));L&&(F.u=L)}return F},C=T=>{var D;const F=(D=e.get(T))==null?void 0:D.u;F&&F(),e.delete(T);const L=o(T);L&&(ld(L)&&Xk(L.v),L.d.forEach((N,k)=>{if(k!==T){const V=e.get(k);V&&(V.t.delete(T),v(k,V)&&C(k))}}))},E=(T,D,F)=>{const L=new Set(D.d.keys());F==null||F.forEach((N,k)=>{if(L.has(k)){L.delete(k);return}const V=e.get(k);V&&(V.t.delete(T),v(k,V)&&C(k))}),L.forEach(N=>{const k=e.get(N);k?k.t.add(T):e.has(T)&&A(N,T)})},P=()=>{let T;for(;t.size;){const D=Array.from(t);t.clear(),D.forEach(([F,L])=>{const N=o(F);if(N){N.d!==(L==null?void 0:L.d)&&E(F,N,L==null?void 0:L.d);const k=e.get(F);k&&!(L&&!ld(L)&&(Xp(L,N)||Yk(L,N)))&&k.l.forEach(V=>V())}})}};return{get:p,set:w,sub:(T,D)=>{const F=g(T),L=P(),N=F.l;return N.add(D),()=>{N.delete(D),y(T)}}}};let RA;const Hpe=()=>(RA||(RA=Gpe()),RA),Vpe=B.createContext(void 0),S8=n=>{const e=B.useContext(Vpe);return(n==null?void 0:n.store)||e||Hpe()},Wpe=n=>typeof(n==null?void 0:n.then)=="function",jpe=te.use||(n=>{if(n.status==="pending")throw n;if(n.status==="fulfilled")return n.value;throw n.status==="rejected"?n.reason:(n.status="pending",n.then(e=>{n.status="fulfilled",n.value=e},e=>{n.status="rejected",n.reason=e}),n)});function $pe(n,e){const t=S8(e),[[r,i,s],o]=B.useReducer(c=>{const u=t.get(n);return Object.is(c[0],u)&&c[1]===t&&c[2]===n?c:[u,t,n]},void 0,()=>[t.get(n),t,n]);let a=r;(i!==t||s!==n)&&(o(),a=t.get(n));const l=e==null?void 0:e.delay;return B.useEffect(()=>{const c=t.sub(n,()=>{if(typeof l=="number"){setTimeout(o,l);return}o()});return o(),c},[t,n,l]),B.useDebugValue(a),Wpe(a)?jpe(a):a}function Xpe(n,e){const t=S8(e);return B.useCallback((...i)=>t.set(n,...i),[t,n])}function A8(n,e){return[$pe(n,e),Xpe(n,e)]}const Bm=[{title:"Management System",url:"https://github.com/xnigthmarex/Train-Reservation-System--Python-",image:"projects/404.jpg",description:"This Python script is a console-based railway management system. "},{title:"SyncShift",url:"https://github.com/geneticglitch/SyncShift",image:"projects/404.jpg",description:"A productivity App"},{title:"Chat Sphere",url:"https://github.com/geneticglitch/chatsphere",image:"projects/404.jpg",description:"Real Time Chat App"},{title:"High Performance Moton Controller",url:"https://github.com/geneticglitch/Robot-Tour-Sci-Oly-2024",image:"projects/404.jpg",description:"Rc controller for my autonomous robot project"},{title:"Raw-NN-Digit-Recognition",url:"https://github.com/xnigthmarex/Raw-NN-Digit-Recognition",image:"projects/404.jpg",description:"Raw NN implementation in java"},{title:"Next.js Starter",url:"https://github.com/geneticglitch/Next.JS-Perfect-Starter",image:"projects/404.jpg",description:"Starter Template"},{title:"Astro-Equations",url:"https://github.com/geneticglitch/Astro-Equations",image:"projects/404.jpg",description:""},{title:"Automation Scripts",url:"https://github.com/xnigthmarex/BashAutomationScripts",image:"projects/404.jpg",description:"These Scripts make it easy to download docker and deploying containers"},{title:"Coding p/s",url:"https://github.com/xnigthmarex/CodingBats-Answers",image:"projects/404.jpg",description:"This repo contains almost all of the solutions to questions on the codingbat.com website."}],Jpe=n=>{const{project:e,highlighted:t}=n,r=B.useRef(),i=hg(.4);return B.useEffect(()=>{pg(i,t?.7:.4)},[t]),hs(()=>{r.current.material.opacity=i.get()}),Nt("group",{...n,children:[Nt("mesh",{"position-z":-.001,onClick:()=>window.open(e.url,"_blank"),ref:r,children:[Pe("planeGeometry",{args:[2.3,2.5]}),Pe("meshBasicMaterial",{color:"black",transparent:!0,opacity:.4})]}),Pe(lte,{scale:[2,1.2,1],url:e.image,toneMapped:!1,"position-y":.5}),Pe(ZB,{maxWidth:2.6,anchorX:"left",anchorY:"top",fontSize:.2,position:[-1,-.2,0],children:e.title.toUpperCase()}),Pe(ZB,{maxWidth:2,anchorX:"left",anchorY:"top",fontSize:.13,position:[-1,-.7,0],children:e.description})]})},b8=Ope(Math.floor(Bm.length/3)),Kpe=()=>{const{viewport:n}=sl(),[e]=A8(b8);return Pe("group",{"position-y":-n.height*2+1,children:Bm.map((t,r)=>Pe(Is.group,{position:[r*2.5,0,-3],animate:{x:0+(r-e)*2.5,y:e===r?0:-.1,z:e===r?-2:-3,rotateX:e===r?0:-Math.PI/3,rotateZ:e===r?0:-.1*Math.PI},children:Pe(Jpe,{project:t,highlighted:r===e})},"project_"+r))})},Ype=n=>{const{menuOpened:e}=n,{viewport:t}=sl(),r=t0(),i=window.innerWidth<768,s=t.width/12,o=Math.max(.5,Math.min(.9*s,.9)),[a,l]=B.useState(0),c=hg(),u=hg();B.useEffect(()=>{pg(c,e?-5:0,{...a2}),pg(u,e?5:0,{...a2})},[e]);const f=B.useRef(),[d,p]=B.useState("Typing");B.useEffect(()=>{p("Falling"),setTimeout(()=>{p(a===0?"Typing":"Standing")},600)},[a]);const g=B.useRef();return hs(v=>{let y=Math.floor(r.scroll.current*r.pages);y>2&&(y=2),y!==a&&l(y),v.camera.position.x=c.get(),v.camera.lookAt(u.get(),0,0),a===0&&f.current.getWorldPosition(g.current.position)}),Nt(y_,{children:[Pe(Ipe,{}),Pe(Is.group,{ref:g,rotation:[-3.141592653589793,1.2053981633974482,3.141592653589793],scale:[o,o,o],animate:""+a,transition:{duration:.6},variants:{0:{scaleX:o,scaleY:o,scaleZ:o},1:{y:-t.height+.5,x:i?.3:0,z:7,rotateX:0,rotateY:i?-Math.PI/2:0,rotateZ:0,scaleX:i?1.5:1,scaleY:i?1.5:1,scaleZ:i?1.5:1},2:{x:i?-1.4:-2,y:-t.height*2+.5,z:0,rotateX:0,rotateY:Math.PI/2,rotateZ:0,scaleX:1,scaleY:1,scaleZ:1}},children:Pe(_he,{animation:d,wireframe:a===1})}),Pe("ambientLight",{intensity:1}),Nt(Is.group,{position:[i?0:1.5*o,i?-t.height/6:2,3],scale:[o,o,o],"rotation-y":-Math.PI/4,animate:{y:i?-t.height/6:0},transition:{duration:.8},children:[Pe(kpe,{section:a}),Pe("group",{ref:f,name:"CharacterSpot",position:[.07,.16,-.57],rotation:[-Math.PI,.42,-Math.PI]})]}),Nt(Is.group,{position:[0,i?-t.height:-1.5*o,-10],animate:{z:a===1?0:-10,y:a===1||i?-t.height:-1.5*o},children:[Pe("directionalLight",{position:[-5,3,5],intensity:.4}),Pe($S,{children:Nt("mesh",{position:[1,-3,-15],scale:[2,2,2],children:[Pe("sphereGeometry",{}),Pe(iL,{opacity:.8,transparent:!0,distort:.4,speed:4,color:"red"})]})}),Pe($S,{children:Nt("mesh",{scale:[3,3,3],position:[3,1,-18],children:[Pe("sphereGeometry",{}),Pe(iL,{opacity:.8,transparent:!0,distort:1,speed:5,color:"yellow"})]})}),Pe($S,{children:Nt("mesh",{scale:[1.4,1.4,1.4],position:[-3,-1,-11],children:[Pe("boxGeometry",{}),Pe(bte,{opacity:.8,transparent:!0,factor:1,speed:5,color:"blue"})]})})]}),Pe(Kpe,{})]})},vT=n=>{const{children:e,mobileTop:t}=n;return Pe(Ol.section,{className:`
  h-screen w-screen p-8 max-w-screen-2xl mx-auto
  flex flex-col items-start
  ${t?"justify-start md:justify-center":"justify-center"}
  `,initial:{opacity:0,y:50},whileInView:{opacity:1,y:0,transition:{duration:1,delay:.6}},children:e})},Qpe=n=>{const{setSection:e}=n;return Nt("div",{className:"flex flex-col items-center w-screen",children:[Pe(qpe,{setSection:e}),Pe(tme,{}),Pe(nme,{})]})},qpe=n=>{const{setSection:e}=n;return Nt(vT,{mobileTop:!0,children:[Nt("h1",{className:"text-4xl md:text-6xl font-extrabold leading-snug mt-8 md:mt-0",children:["Hi, I'm",Pe("br",{}),Pe("h1",{className:"bg-white px-1 pb-3 pt-1 italic",children:"Aryan Singh"})]}),Nt(Ol.h1,{className:"text-lg md:text-2xl text-white mt-4",initial:{opacity:0,y:25},whileInView:{opacity:1,y:0},transition:{duration:1,delay:1.5},children:["I am a High school Student studying at Metea Valley.",Pe("br",{}),"I am a full stack developer and a competitive programmer."]}),Pe(Ol.button,{onClick:()=>e(2),className:`bg-indigo-600 text-white py-4 px-8 
      rounded-lg font-bold text-lg mt-4 md:mt-12`,initial:{opacity:0,y:25},whileInView:{opacity:1,y:0},transition:{duration:1,delay:2},children:"Projects"})]})},Zpe=[{title:"Next JS",level:95},{title:"C",level:95},{title:"JavaScript",level:90},{title:"Java",level:88},{title:"Python",level:82}],eme=[{title:"Hindi",level:100},{title:"English",level:100},{title:"Telugu",level:20}],tme=()=>Pe(vT,{children:Nt(Ol.div,{className:"w-full",whileInView:"visible",children:[Pe("h2",{className:"text-3xl md:text-5xl font-bold text-white",children:"Skills"}),Pe("div",{className:"mt-8 space-y-4",children:Zpe.map((n,e)=>Nt("div",{className:"w-full md:w-64",children:[Pe(Ol.h3,{className:"text-lg md:text-xl font-bold text-gray-100",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:1+e*.2}}},children:n.title}),Pe("div",{className:"h-2 w-full bg-gray-200 rounded-full mt-2",children:Pe(Ol.div,{className:"h-full bg-indigo-500 rounded-full ",style:{width:`${n.level}%`},initial:{scaleX:0,originX:0},variants:{visible:{scaleX:1,transition:{duration:1,delay:1+e*.2}}}})})]},e))}),Nt("div",{children:[Pe("h2",{className:"text-3xl md:text-5xl font-bold mt-10 text-white",children:"Languages"}),Pe("div",{className:"mt-8 space-y-4",children:eme.map((n,e)=>Nt("div",{className:"w-full md:w-64",children:[Pe(Ol.h3,{className:"text-lg md:text-xl font-bold text-gray-100",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:2+e*.2}}},children:n.title}),Pe("div",{className:"h-2 w-full bg-gray-200 rounded-full mt-2",children:Pe(Ol.div,{className:"h-full bg-indigo-500 rounded-full ",style:{width:`${n.level}%`},initial:{scaleX:0,originX:0},variants:{visible:{scaleX:1,transition:{duration:1,delay:2+e*.2}}}})})]},e))})]})]})}),nme=()=>{const[n,e]=A8(b8);return Pe(vT,{children:Nt("div",{className:"flex w-full h-full gap-8 items-center justify-center",children:[Pe("button",{className:"hover:text-indigo-600 transition-colors",onClick:()=>{e((n-1+Bm.length)%Bm.length)},children:" Previous"}),Pe("h2",{className:"text-3xl md:text-5xl font-bold",children:"Projects"}),Pe("button",{className:"hover:text-indigo-600 transition-colors",onClick:()=>{e((n+1)%Bm.length)},children:"Next "})]})})},rme=n=>{const{started:e,setStarted:t}=n,{progress:r,total:i,loaded:s,item:o}=_Q();return B.useEffect(()=>{console.log(r,i,s,o),r===100&&setTimeout(()=>{t(!0)},500)},[r,i,s,o]),Pe("div",{className:`fixed top-0 left-0 w-full h-full z-50 transition-opacity duration-1000 pointer-events-none
  flex items-center justify-center bg-red-500
  ${e?"opacity-0":"opacity-100"}`,children:Nt("div",{className:"text-4xl md:text-9xl font-bold text-white  relative",children:[Pe("div",{className:"absolute left-0 top-0  overflow-hidden truncate text-clip transition-all duration-500",style:{width:`${r}%`},children:"Aryan Singh"}),Pe("div",{className:"opacity-40",children:"Aryan Singh"})]})})},ime=n=>{const{onSectionChange:e,menuOpened:t,setMenuOpened:r}=n;return Nt(y_,{children:[Nt("button",{onClick:()=>r(!t),className:"z-20 fixed top-4 right-4 md:top-12 md:right-12 p-3 bg-indigo-600 w-11 h-11 rounded-md",children:[Pe("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${t?"rotate-45  translate-y-0.5":""}`}),Pe("div",{className:`bg-white h-0.5 rounded-md w-full my-1 ${t?"hidden":""}`}),Pe("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${t?"-rotate-45":""}`})]}),Pe("div",{className:`z-10 fixed top-0 right-0 bottom-0 bg-white transition-all overflow-hidden flex flex-col
      ${t?"w-full md:w-80":"w-0"}`,children:Nt("div",{className:"flex-1 flex items-start justify-center flex-col gap-6 p-8",children:[Pe(DA,{label:"About",onClick:()=>e(0)}),Pe(DA,{label:"Skills",onClick:()=>e(1)}),Pe(DA,{label:"Projects",onClick:()=>e(2)})]})})]})},DA=n=>{const{label:e,onClick:t}=n;return Pe("button",{onClick:t,className:"text-2xl font-bold cursor-pointer hover:text-indigo-600 transition-colors",children:e})},sme=n=>{const{section:e,onSectionChange:t}=n,r=t0(),i=B.useRef(0),s=B.useRef(!1);return r.fill.classList.add("top-0"),r.fill.classList.add("absolute"),B.useEffect(()=>{gT.to(r.el,{duration:1,scrollTop:e*r.el.clientHeight,onStart:()=>{s.current=!0},onComplete:()=>{s.current=!1}})},[e]),hs(()=>{if(s.current){i.current=r.scroll.current;return}const o=Math.floor(r.scroll.current*r.pages);r.scroll.current>i.current&&o===0&&t(1),r.scroll.current<i.current&&r.scroll.current<1/(r.pages-1)&&t(0),i.current=r.scroll.current}),null};function ome(){const[n,e]=B.useState(0),[t,r]=B.useState(!1),[i,s]=B.useState(!1);return B.useEffect(()=>{s(!1)},[n]),Nt(y_,{children:[Pe(rme,{started:t,setStarted:r}),Nt(wse,{transition:{...a2},children:[Nt(yQ,{shadows:!0,camera:{position:[0,3,10],fov:42},children:[Pe("color",{attach:"background",args:["#cc2b5e"]}),Nt(Hq,{pages:3,damping:.1,children:[Pe(sme,{section:n,onSectionChange:e}),Pe(EB,{children:Pe(B.Suspense,{children:t&&Pe(Ype,{section:n,menuOpened:i})})}),Pe(EB,{html:!0,children:t&&Pe(Qpe,{setSection:e})})]})]}),Pe(ime,{onSectionChange:e,menuOpened:i,setMenuOpened:s}),Pe(ihe,{})]}),Pe(x6,{hidden:!0})]})}BA.createRoot(document.getElementById("root")).render(Pe(te.StrictMode,{children:Pe(ome,{})}));export{ame as c,Sh as g};
